var e=Object.defineProperty,t=Object.defineProperties,r=Object.getOwnPropertyDescriptors,n=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,i=(t,r,n)=>r in t?e(t,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[r]=n,a=(e,t)=>{for(var r in t||(t={}))o.call(t,r)&&i(e,r,t[r]);if(n)for(var r of n(t))s.call(t,r)&&i(e,r,t[r]);return e},c=(e,n)=>t(e,r(n));import{w as l,d as h,g as u,S as f,i as d,s as p,e as v,t as m,a as g,c as y,b as w,f as b,h as _,j as $,k as E,l as A,m as x,n as T,o as k,p as O,q as P,r as S,u as N,v as R,x as I,y as U,z as C,A as D,B as M,C as j,D as L,E as V,F as B,G as z,H as q,I as K,J as F,K as Y,L as H,M as W,N as J,O as Q,P as G,Q as Z,R as X,T as ee,U as te,V as re,W as ne,X as oe,Y as se,Z as ie,_ as ae}from"./vendor.b6d77f56.js";var ce="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function le(e,t,r){return e(r={path:t,exports:{},require:function(e,t){return ue(null==t&&r.path)}},r.exports),r.exports}function he(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach((function(r){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})})),t}function ue(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var fe=he(Object.freeze({__proto__:null,default:{}})),de=le((function(e){!function(e){var t=function(e){var t,r=new Float64Array(16);if(e)for(t=0;t<e.length;t++)r[t]=e[t];return r},r=function(){throw new Error("no PRNG")},n=new Uint8Array(16),o=new Uint8Array(32);o[0]=9;var s=t(),i=t([1]),a=t([56129,1]),c=t([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),l=t([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),h=t([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),u=t([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),f=t([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function d(e,t,r,n){e[t]=r>>24&255,e[t+1]=r>>16&255,e[t+2]=r>>8&255,e[t+3]=255&r,e[t+4]=n>>24&255,e[t+5]=n>>16&255,e[t+6]=n>>8&255,e[t+7]=255&n}function p(e,t,r,n,o){var s,i=0;for(s=0;s<o;s++)i|=e[t+s]^r[n+s];return(1&i-1>>>8)-1}function v(e,t,r,n){return p(e,t,r,n,16)}function m(e,t,r,n){return p(e,t,r,n,32)}function g(e,t,r,n){!function(e,t,r,n){for(var o,s=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,i=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,a=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,c=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,l=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,h=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,u=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,f=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,d=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,p=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,v=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,m=255&r[16]|(255&r[17])<<8|(255&r[18])<<16|(255&r[19])<<24,g=255&r[20]|(255&r[21])<<8|(255&r[22])<<16|(255&r[23])<<24,y=255&r[24]|(255&r[25])<<8|(255&r[26])<<16|(255&r[27])<<24,w=255&r[28]|(255&r[29])<<8|(255&r[30])<<16|(255&r[31])<<24,b=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,_=s,$=i,E=a,A=c,x=l,T=h,k=u,O=f,P=d,S=p,N=v,R=m,I=g,U=y,C=w,D=b,M=0;M<20;M+=2)_^=(o=(I^=(o=(P^=(o=(x^=(o=_+I|0)<<7|o>>>25)+_|0)<<9|o>>>23)+x|0)<<13|o>>>19)+P|0)<<18|o>>>14,T^=(o=($^=(o=(U^=(o=(S^=(o=T+$|0)<<7|o>>>25)+T|0)<<9|o>>>23)+S|0)<<13|o>>>19)+U|0)<<18|o>>>14,N^=(o=(k^=(o=(E^=(o=(C^=(o=N+k|0)<<7|o>>>25)+N|0)<<9|o>>>23)+C|0)<<13|o>>>19)+E|0)<<18|o>>>14,D^=(o=(R^=(o=(O^=(o=(A^=(o=D+R|0)<<7|o>>>25)+D|0)<<9|o>>>23)+A|0)<<13|o>>>19)+O|0)<<18|o>>>14,_^=(o=(A^=(o=(E^=(o=($^=(o=_+A|0)<<7|o>>>25)+_|0)<<9|o>>>23)+$|0)<<13|o>>>19)+E|0)<<18|o>>>14,T^=(o=(x^=(o=(O^=(o=(k^=(o=T+x|0)<<7|o>>>25)+T|0)<<9|o>>>23)+k|0)<<13|o>>>19)+O|0)<<18|o>>>14,N^=(o=(S^=(o=(P^=(o=(R^=(o=N+S|0)<<7|o>>>25)+N|0)<<9|o>>>23)+R|0)<<13|o>>>19)+P|0)<<18|o>>>14,D^=(o=(C^=(o=(U^=(o=(I^=(o=D+C|0)<<7|o>>>25)+D|0)<<9|o>>>23)+I|0)<<13|o>>>19)+U|0)<<18|o>>>14;_=_+s|0,$=$+i|0,E=E+a|0,A=A+c|0,x=x+l|0,T=T+h|0,k=k+u|0,O=O+f|0,P=P+d|0,S=S+p|0,N=N+v|0,R=R+m|0,I=I+g|0,U=U+y|0,C=C+w|0,D=D+b|0,e[0]=_>>>0&255,e[1]=_>>>8&255,e[2]=_>>>16&255,e[3]=_>>>24&255,e[4]=$>>>0&255,e[5]=$>>>8&255,e[6]=$>>>16&255,e[7]=$>>>24&255,e[8]=E>>>0&255,e[9]=E>>>8&255,e[10]=E>>>16&255,e[11]=E>>>24&255,e[12]=A>>>0&255,e[13]=A>>>8&255,e[14]=A>>>16&255,e[15]=A>>>24&255,e[16]=x>>>0&255,e[17]=x>>>8&255,e[18]=x>>>16&255,e[19]=x>>>24&255,e[20]=T>>>0&255,e[21]=T>>>8&255,e[22]=T>>>16&255,e[23]=T>>>24&255,e[24]=k>>>0&255,e[25]=k>>>8&255,e[26]=k>>>16&255,e[27]=k>>>24&255,e[28]=O>>>0&255,e[29]=O>>>8&255,e[30]=O>>>16&255,e[31]=O>>>24&255,e[32]=P>>>0&255,e[33]=P>>>8&255,e[34]=P>>>16&255,e[35]=P>>>24&255,e[36]=S>>>0&255,e[37]=S>>>8&255,e[38]=S>>>16&255,e[39]=S>>>24&255,e[40]=N>>>0&255,e[41]=N>>>8&255,e[42]=N>>>16&255,e[43]=N>>>24&255,e[44]=R>>>0&255,e[45]=R>>>8&255,e[46]=R>>>16&255,e[47]=R>>>24&255,e[48]=I>>>0&255,e[49]=I>>>8&255,e[50]=I>>>16&255,e[51]=I>>>24&255,e[52]=U>>>0&255,e[53]=U>>>8&255,e[54]=U>>>16&255,e[55]=U>>>24&255,e[56]=C>>>0&255,e[57]=C>>>8&255,e[58]=C>>>16&255,e[59]=C>>>24&255,e[60]=D>>>0&255,e[61]=D>>>8&255,e[62]=D>>>16&255,e[63]=D>>>24&255}(e,t,r,n)}function y(e,t,r,n){!function(e,t,r,n){for(var o,s=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,i=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,a=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,c=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,l=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,h=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,u=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,f=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,d=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,p=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,v=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,m=255&r[16]|(255&r[17])<<8|(255&r[18])<<16|(255&r[19])<<24,g=255&r[20]|(255&r[21])<<8|(255&r[22])<<16|(255&r[23])<<24,y=255&r[24]|(255&r[25])<<8|(255&r[26])<<16|(255&r[27])<<24,w=255&r[28]|(255&r[29])<<8|(255&r[30])<<16|(255&r[31])<<24,b=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,_=0;_<20;_+=2)s^=(o=(g^=(o=(d^=(o=(l^=(o=s+g|0)<<7|o>>>25)+s|0)<<9|o>>>23)+l|0)<<13|o>>>19)+d|0)<<18|o>>>14,h^=(o=(i^=(o=(y^=(o=(p^=(o=h+i|0)<<7|o>>>25)+h|0)<<9|o>>>23)+p|0)<<13|o>>>19)+y|0)<<18|o>>>14,v^=(o=(u^=(o=(a^=(o=(w^=(o=v+u|0)<<7|o>>>25)+v|0)<<9|o>>>23)+w|0)<<13|o>>>19)+a|0)<<18|o>>>14,b^=(o=(m^=(o=(f^=(o=(c^=(o=b+m|0)<<7|o>>>25)+b|0)<<9|o>>>23)+c|0)<<13|o>>>19)+f|0)<<18|o>>>14,s^=(o=(c^=(o=(a^=(o=(i^=(o=s+c|0)<<7|o>>>25)+s|0)<<9|o>>>23)+i|0)<<13|o>>>19)+a|0)<<18|o>>>14,h^=(o=(l^=(o=(f^=(o=(u^=(o=h+l|0)<<7|o>>>25)+h|0)<<9|o>>>23)+u|0)<<13|o>>>19)+f|0)<<18|o>>>14,v^=(o=(p^=(o=(d^=(o=(m^=(o=v+p|0)<<7|o>>>25)+v|0)<<9|o>>>23)+m|0)<<13|o>>>19)+d|0)<<18|o>>>14,b^=(o=(w^=(o=(y^=(o=(g^=(o=b+w|0)<<7|o>>>25)+b|0)<<9|o>>>23)+g|0)<<13|o>>>19)+y|0)<<18|o>>>14;e[0]=s>>>0&255,e[1]=s>>>8&255,e[2]=s>>>16&255,e[3]=s>>>24&255,e[4]=h>>>0&255,e[5]=h>>>8&255,e[6]=h>>>16&255,e[7]=h>>>24&255,e[8]=v>>>0&255,e[9]=v>>>8&255,e[10]=v>>>16&255,e[11]=v>>>24&255,e[12]=b>>>0&255,e[13]=b>>>8&255,e[14]=b>>>16&255,e[15]=b>>>24&255,e[16]=u>>>0&255,e[17]=u>>>8&255,e[18]=u>>>16&255,e[19]=u>>>24&255,e[20]=f>>>0&255,e[21]=f>>>8&255,e[22]=f>>>16&255,e[23]=f>>>24&255,e[24]=d>>>0&255,e[25]=d>>>8&255,e[26]=d>>>16&255,e[27]=d>>>24&255,e[28]=p>>>0&255,e[29]=p>>>8&255,e[30]=p>>>16&255,e[31]=p>>>24&255}(e,t,r,n)}var w=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function b(e,t,r,n,o,s,i){var a,c,l=new Uint8Array(16),h=new Uint8Array(64);for(c=0;c<16;c++)l[c]=0;for(c=0;c<8;c++)l[c]=s[c];for(;o>=64;){for(g(h,l,i,w),c=0;c<64;c++)e[t+c]=r[n+c]^h[c];for(a=1,c=8;c<16;c++)a=a+(255&l[c])|0,l[c]=255&a,a>>>=8;o-=64,t+=64,n+=64}if(o>0)for(g(h,l,i,w),c=0;c<o;c++)e[t+c]=r[n+c]^h[c];return 0}function _(e,t,r,n,o){var s,i,a=new Uint8Array(16),c=new Uint8Array(64);for(i=0;i<16;i++)a[i]=0;for(i=0;i<8;i++)a[i]=n[i];for(;r>=64;){for(g(c,a,o,w),i=0;i<64;i++)e[t+i]=c[i];for(s=1,i=8;i<16;i++)s=s+(255&a[i])|0,a[i]=255&s,s>>>=8;r-=64,t+=64}if(r>0)for(g(c,a,o,w),i=0;i<r;i++)e[t+i]=c[i];return 0}function $(e,t,r,n,o){var s=new Uint8Array(32);y(s,n,o,w);for(var i=new Uint8Array(8),a=0;a<8;a++)i[a]=n[a+16];return _(e,t,r,i,s)}function E(e,t,r,n,o,s,i){var a=new Uint8Array(32);y(a,s,i,w);for(var c=new Uint8Array(8),l=0;l<8;l++)c[l]=s[l+16];return b(e,t,r,n,o,c,a)}var A=function(e){var t,r,n,o,s,i,a,c;this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0,t=255&e[0]|(255&e[1])<<8,this.r[0]=8191&t,r=255&e[2]|(255&e[3])<<8,this.r[1]=8191&(t>>>13|r<<3),n=255&e[4]|(255&e[5])<<8,this.r[2]=7939&(r>>>10|n<<6),o=255&e[6]|(255&e[7])<<8,this.r[3]=8191&(n>>>7|o<<9),s=255&e[8]|(255&e[9])<<8,this.r[4]=255&(o>>>4|s<<12),this.r[5]=s>>>1&8190,i=255&e[10]|(255&e[11])<<8,this.r[6]=8191&(s>>>14|i<<2),a=255&e[12]|(255&e[13])<<8,this.r[7]=8065&(i>>>11|a<<5),c=255&e[14]|(255&e[15])<<8,this.r[8]=8191&(a>>>8|c<<8),this.r[9]=c>>>5&127,this.pad[0]=255&e[16]|(255&e[17])<<8,this.pad[1]=255&e[18]|(255&e[19])<<8,this.pad[2]=255&e[20]|(255&e[21])<<8,this.pad[3]=255&e[22]|(255&e[23])<<8,this.pad[4]=255&e[24]|(255&e[25])<<8,this.pad[5]=255&e[26]|(255&e[27])<<8,this.pad[6]=255&e[28]|(255&e[29])<<8,this.pad[7]=255&e[30]|(255&e[31])<<8};function x(e,t,r,n,o,s){var i=new A(s);return i.update(r,n,o),i.finish(e,t),0}function T(e,t,r,n,o,s){var i=new Uint8Array(16);return x(i,0,r,n,o,s),v(e,t,i,0)}function k(e,t,r,n,o){var s;if(r<32)return-1;for(E(e,0,t,0,r,n,o),x(e,16,e,32,r-32,e),s=0;s<16;s++)e[s]=0;return 0}function O(e,t,r,n,o){var s,i=new Uint8Array(32);if(r<32)return-1;if($(i,0,32,n,o),0!==T(t,16,t,32,r-32,i))return-1;for(E(e,0,t,0,r,n,o),s=0;s<32;s++)e[s]=0;return 0}function P(e,t){var r;for(r=0;r<16;r++)e[r]=0|t[r]}function S(e){var t,r,n=1;for(t=0;t<16;t++)r=e[t]+n+65535,n=Math.floor(r/65536),e[t]=r-65536*n;e[0]+=n-1+37*(n-1)}function N(e,t,r){for(var n,o=~(r-1),s=0;s<16;s++)n=o&(e[s]^t[s]),e[s]^=n,t[s]^=n}function R(e,r){var n,o,s,i=t(),a=t();for(n=0;n<16;n++)a[n]=r[n];for(S(a),S(a),S(a),o=0;o<2;o++){for(i[0]=a[0]-65517,n=1;n<15;n++)i[n]=a[n]-65535-(i[n-1]>>16&1),i[n-1]&=65535;i[15]=a[15]-32767-(i[14]>>16&1),s=i[15]>>16&1,i[14]&=65535,N(a,i,1-s)}for(n=0;n<16;n++)e[2*n]=255&a[n],e[2*n+1]=a[n]>>8}function I(e,t){var r=new Uint8Array(32),n=new Uint8Array(32);return R(r,e),R(n,t),m(r,0,n,0)}function U(e){var t=new Uint8Array(32);return R(t,e),1&t[0]}function C(e,t){var r;for(r=0;r<16;r++)e[r]=t[2*r]+(t[2*r+1]<<8);e[15]&=32767}function D(e,t,r){for(var n=0;n<16;n++)e[n]=t[n]+r[n]}function M(e,t,r){for(var n=0;n<16;n++)e[n]=t[n]-r[n]}function j(e,t,r){var n,o,s=0,i=0,a=0,c=0,l=0,h=0,u=0,f=0,d=0,p=0,v=0,m=0,g=0,y=0,w=0,b=0,_=0,$=0,E=0,A=0,x=0,T=0,k=0,O=0,P=0,S=0,N=0,R=0,I=0,U=0,C=0,D=r[0],M=r[1],j=r[2],L=r[3],V=r[4],B=r[5],z=r[6],q=r[7],K=r[8],F=r[9],Y=r[10],H=r[11],W=r[12],J=r[13],Q=r[14],G=r[15];s+=(n=t[0])*D,i+=n*M,a+=n*j,c+=n*L,l+=n*V,h+=n*B,u+=n*z,f+=n*q,d+=n*K,p+=n*F,v+=n*Y,m+=n*H,g+=n*W,y+=n*J,w+=n*Q,b+=n*G,i+=(n=t[1])*D,a+=n*M,c+=n*j,l+=n*L,h+=n*V,u+=n*B,f+=n*z,d+=n*q,p+=n*K,v+=n*F,m+=n*Y,g+=n*H,y+=n*W,w+=n*J,b+=n*Q,_+=n*G,a+=(n=t[2])*D,c+=n*M,l+=n*j,h+=n*L,u+=n*V,f+=n*B,d+=n*z,p+=n*q,v+=n*K,m+=n*F,g+=n*Y,y+=n*H,w+=n*W,b+=n*J,_+=n*Q,$+=n*G,c+=(n=t[3])*D,l+=n*M,h+=n*j,u+=n*L,f+=n*V,d+=n*B,p+=n*z,v+=n*q,m+=n*K,g+=n*F,y+=n*Y,w+=n*H,b+=n*W,_+=n*J,$+=n*Q,E+=n*G,l+=(n=t[4])*D,h+=n*M,u+=n*j,f+=n*L,d+=n*V,p+=n*B,v+=n*z,m+=n*q,g+=n*K,y+=n*F,w+=n*Y,b+=n*H,_+=n*W,$+=n*J,E+=n*Q,A+=n*G,h+=(n=t[5])*D,u+=n*M,f+=n*j,d+=n*L,p+=n*V,v+=n*B,m+=n*z,g+=n*q,y+=n*K,w+=n*F,b+=n*Y,_+=n*H,$+=n*W,E+=n*J,A+=n*Q,x+=n*G,u+=(n=t[6])*D,f+=n*M,d+=n*j,p+=n*L,v+=n*V,m+=n*B,g+=n*z,y+=n*q,w+=n*K,b+=n*F,_+=n*Y,$+=n*H,E+=n*W,A+=n*J,x+=n*Q,T+=n*G,f+=(n=t[7])*D,d+=n*M,p+=n*j,v+=n*L,m+=n*V,g+=n*B,y+=n*z,w+=n*q,b+=n*K,_+=n*F,$+=n*Y,E+=n*H,A+=n*W,x+=n*J,T+=n*Q,k+=n*G,d+=(n=t[8])*D,p+=n*M,v+=n*j,m+=n*L,g+=n*V,y+=n*B,w+=n*z,b+=n*q,_+=n*K,$+=n*F,E+=n*Y,A+=n*H,x+=n*W,T+=n*J,k+=n*Q,O+=n*G,p+=(n=t[9])*D,v+=n*M,m+=n*j,g+=n*L,y+=n*V,w+=n*B,b+=n*z,_+=n*q,$+=n*K,E+=n*F,A+=n*Y,x+=n*H,T+=n*W,k+=n*J,O+=n*Q,P+=n*G,v+=(n=t[10])*D,m+=n*M,g+=n*j,y+=n*L,w+=n*V,b+=n*B,_+=n*z,$+=n*q,E+=n*K,A+=n*F,x+=n*Y,T+=n*H,k+=n*W,O+=n*J,P+=n*Q,S+=n*G,m+=(n=t[11])*D,g+=n*M,y+=n*j,w+=n*L,b+=n*V,_+=n*B,$+=n*z,E+=n*q,A+=n*K,x+=n*F,T+=n*Y,k+=n*H,O+=n*W,P+=n*J,S+=n*Q,N+=n*G,g+=(n=t[12])*D,y+=n*M,w+=n*j,b+=n*L,_+=n*V,$+=n*B,E+=n*z,A+=n*q,x+=n*K,T+=n*F,k+=n*Y,O+=n*H,P+=n*W,S+=n*J,N+=n*Q,R+=n*G,y+=(n=t[13])*D,w+=n*M,b+=n*j,_+=n*L,$+=n*V,E+=n*B,A+=n*z,x+=n*q,T+=n*K,k+=n*F,O+=n*Y,P+=n*H,S+=n*W,N+=n*J,R+=n*Q,I+=n*G,w+=(n=t[14])*D,b+=n*M,_+=n*j,$+=n*L,E+=n*V,A+=n*B,x+=n*z,T+=n*q,k+=n*K,O+=n*F,P+=n*Y,S+=n*H,N+=n*W,R+=n*J,I+=n*Q,U+=n*G,b+=(n=t[15])*D,i+=38*($+=n*j),a+=38*(E+=n*L),c+=38*(A+=n*V),l+=38*(x+=n*B),h+=38*(T+=n*z),u+=38*(k+=n*q),f+=38*(O+=n*K),d+=38*(P+=n*F),p+=38*(S+=n*Y),v+=38*(N+=n*H),m+=38*(R+=n*W),g+=38*(I+=n*J),y+=38*(U+=n*Q),w+=38*(C+=n*G),s=(n=(s+=38*(_+=n*M))+(o=1)+65535)-65536*(o=Math.floor(n/65536)),i=(n=i+o+65535)-65536*(o=Math.floor(n/65536)),a=(n=a+o+65535)-65536*(o=Math.floor(n/65536)),c=(n=c+o+65535)-65536*(o=Math.floor(n/65536)),l=(n=l+o+65535)-65536*(o=Math.floor(n/65536)),h=(n=h+o+65535)-65536*(o=Math.floor(n/65536)),u=(n=u+o+65535)-65536*(o=Math.floor(n/65536)),f=(n=f+o+65535)-65536*(o=Math.floor(n/65536)),d=(n=d+o+65535)-65536*(o=Math.floor(n/65536)),p=(n=p+o+65535)-65536*(o=Math.floor(n/65536)),v=(n=v+o+65535)-65536*(o=Math.floor(n/65536)),m=(n=m+o+65535)-65536*(o=Math.floor(n/65536)),g=(n=g+o+65535)-65536*(o=Math.floor(n/65536)),y=(n=y+o+65535)-65536*(o=Math.floor(n/65536)),w=(n=w+o+65535)-65536*(o=Math.floor(n/65536)),b=(n=b+o+65535)-65536*(o=Math.floor(n/65536)),s=(n=(s+=o-1+37*(o-1))+(o=1)+65535)-65536*(o=Math.floor(n/65536)),i=(n=i+o+65535)-65536*(o=Math.floor(n/65536)),a=(n=a+o+65535)-65536*(o=Math.floor(n/65536)),c=(n=c+o+65535)-65536*(o=Math.floor(n/65536)),l=(n=l+o+65535)-65536*(o=Math.floor(n/65536)),h=(n=h+o+65535)-65536*(o=Math.floor(n/65536)),u=(n=u+o+65535)-65536*(o=Math.floor(n/65536)),f=(n=f+o+65535)-65536*(o=Math.floor(n/65536)),d=(n=d+o+65535)-65536*(o=Math.floor(n/65536)),p=(n=p+o+65535)-65536*(o=Math.floor(n/65536)),v=(n=v+o+65535)-65536*(o=Math.floor(n/65536)),m=(n=m+o+65535)-65536*(o=Math.floor(n/65536)),g=(n=g+o+65535)-65536*(o=Math.floor(n/65536)),y=(n=y+o+65535)-65536*(o=Math.floor(n/65536)),w=(n=w+o+65535)-65536*(o=Math.floor(n/65536)),b=(n=b+o+65535)-65536*(o=Math.floor(n/65536)),s+=o-1+37*(o-1),e[0]=s,e[1]=i,e[2]=a,e[3]=c,e[4]=l,e[5]=h,e[6]=u,e[7]=f,e[8]=d,e[9]=p,e[10]=v,e[11]=m,e[12]=g,e[13]=y,e[14]=w,e[15]=b}function L(e,t){j(e,t,t)}function V(e,r){var n,o=t();for(n=0;n<16;n++)o[n]=r[n];for(n=253;n>=0;n--)L(o,o),2!==n&&4!==n&&j(o,o,r);for(n=0;n<16;n++)e[n]=o[n]}function B(e,r){var n,o=t();for(n=0;n<16;n++)o[n]=r[n];for(n=250;n>=0;n--)L(o,o),1!==n&&j(o,o,r);for(n=0;n<16;n++)e[n]=o[n]}function z(e,r,n){var o,s,i=new Uint8Array(32),c=new Float64Array(80),l=t(),h=t(),u=t(),f=t(),d=t(),p=t();for(s=0;s<31;s++)i[s]=r[s];for(i[31]=127&r[31]|64,i[0]&=248,C(c,n),s=0;s<16;s++)h[s]=c[s],f[s]=l[s]=u[s]=0;for(l[0]=f[0]=1,s=254;s>=0;--s)N(l,h,o=i[s>>>3]>>>(7&s)&1),N(u,f,o),D(d,l,u),M(l,l,u),D(u,h,f),M(h,h,f),L(f,d),L(p,l),j(l,u,l),j(u,h,d),D(d,l,u),M(l,l,u),L(h,l),M(u,f,p),j(l,u,a),D(l,l,f),j(u,u,l),j(l,f,p),j(f,h,c),L(h,d),N(l,h,o),N(u,f,o);for(s=0;s<16;s++)c[s+16]=l[s],c[s+32]=u[s],c[s+48]=h[s],c[s+64]=f[s];var v=c.subarray(32),m=c.subarray(16);return V(v,v),j(m,m,v),R(e,m),0}function q(e,t){return z(e,t,o)}function K(e,t){return r(t,32),q(e,t)}function F(e,t,r){var o=new Uint8Array(32);return z(o,r,t),y(e,n,o,w)}A.prototype.blocks=function(e,t,r){for(var n,o,s,i,a,c,l,h,u,f,d,p,v,m,g,y,w,b,_,$=this.fin?0:2048,E=this.h[0],A=this.h[1],x=this.h[2],T=this.h[3],k=this.h[4],O=this.h[5],P=this.h[6],S=this.h[7],N=this.h[8],R=this.h[9],I=this.r[0],U=this.r[1],C=this.r[2],D=this.r[3],M=this.r[4],j=this.r[5],L=this.r[6],V=this.r[7],B=this.r[8],z=this.r[9];r>=16;)f=u=0,f+=(E+=8191&(n=255&e[t+0]|(255&e[t+1])<<8))*I,f+=(A+=8191&(n>>>13|(o=255&e[t+2]|(255&e[t+3])<<8)<<3))*(5*z),f+=(x+=8191&(o>>>10|(s=255&e[t+4]|(255&e[t+5])<<8)<<6))*(5*B),f+=(T+=8191&(s>>>7|(i=255&e[t+6]|(255&e[t+7])<<8)<<9))*(5*V),u=(f+=(k+=8191&(i>>>4|(a=255&e[t+8]|(255&e[t+9])<<8)<<12))*(5*L))>>>13,f&=8191,f+=(O+=a>>>1&8191)*(5*j),f+=(P+=8191&(a>>>14|(c=255&e[t+10]|(255&e[t+11])<<8)<<2))*(5*M),f+=(S+=8191&(c>>>11|(l=255&e[t+12]|(255&e[t+13])<<8)<<5))*(5*D),f+=(N+=8191&(l>>>8|(h=255&e[t+14]|(255&e[t+15])<<8)<<8))*(5*C),d=u+=(f+=(R+=h>>>5|$)*(5*U))>>>13,d+=E*U,d+=A*I,d+=x*(5*z),d+=T*(5*B),u=(d+=k*(5*V))>>>13,d&=8191,d+=O*(5*L),d+=P*(5*j),d+=S*(5*M),d+=N*(5*D),u+=(d+=R*(5*C))>>>13,d&=8191,p=u,p+=E*C,p+=A*U,p+=x*I,p+=T*(5*z),u=(p+=k*(5*B))>>>13,p&=8191,p+=O*(5*V),p+=P*(5*L),p+=S*(5*j),p+=N*(5*M),v=u+=(p+=R*(5*D))>>>13,v+=E*D,v+=A*C,v+=x*U,v+=T*I,u=(v+=k*(5*z))>>>13,v&=8191,v+=O*(5*B),v+=P*(5*V),v+=S*(5*L),v+=N*(5*j),m=u+=(v+=R*(5*M))>>>13,m+=E*M,m+=A*D,m+=x*C,m+=T*U,u=(m+=k*I)>>>13,m&=8191,m+=O*(5*z),m+=P*(5*B),m+=S*(5*V),m+=N*(5*L),g=u+=(m+=R*(5*j))>>>13,g+=E*j,g+=A*M,g+=x*D,g+=T*C,u=(g+=k*U)>>>13,g&=8191,g+=O*I,g+=P*(5*z),g+=S*(5*B),g+=N*(5*V),y=u+=(g+=R*(5*L))>>>13,y+=E*L,y+=A*j,y+=x*M,y+=T*D,u=(y+=k*C)>>>13,y&=8191,y+=O*U,y+=P*I,y+=S*(5*z),y+=N*(5*B),w=u+=(y+=R*(5*V))>>>13,w+=E*V,w+=A*L,w+=x*j,w+=T*M,u=(w+=k*D)>>>13,w&=8191,w+=O*C,w+=P*U,w+=S*I,w+=N*(5*z),b=u+=(w+=R*(5*B))>>>13,b+=E*B,b+=A*V,b+=x*L,b+=T*j,u=(b+=k*M)>>>13,b&=8191,b+=O*D,b+=P*C,b+=S*U,b+=N*I,_=u+=(b+=R*(5*z))>>>13,_+=E*z,_+=A*B,_+=x*V,_+=T*L,u=(_+=k*j)>>>13,_&=8191,_+=O*M,_+=P*D,_+=S*C,_+=N*U,E=f=8191&(u=(u=((u+=(_+=R*I)>>>13)<<2)+u|0)+(f&=8191)|0),A=d+=u>>>=13,x=p&=8191,T=v&=8191,k=m&=8191,O=g&=8191,P=y&=8191,S=w&=8191,N=b&=8191,R=_&=8191,t+=16,r-=16;this.h[0]=E,this.h[1]=A,this.h[2]=x,this.h[3]=T,this.h[4]=k,this.h[5]=O,this.h[6]=P,this.h[7]=S,this.h[8]=N,this.h[9]=R},A.prototype.finish=function(e,t){var r,n,o,s,i=new Uint16Array(10);if(this.leftover){for(s=this.leftover,this.buffer[s++]=1;s<16;s++)this.buffer[s]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(r=this.h[1]>>>13,this.h[1]&=8191,s=2;s<10;s++)this.h[s]+=r,r=this.h[s]>>>13,this.h[s]&=8191;for(this.h[0]+=5*r,r=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=r,r=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=r,i[0]=this.h[0]+5,r=i[0]>>>13,i[0]&=8191,s=1;s<10;s++)i[s]=this.h[s]+r,r=i[s]>>>13,i[s]&=8191;for(i[9]-=8192,n=(1^r)-1,s=0;s<10;s++)i[s]&=n;for(n=~n,s=0;s<10;s++)this.h[s]=this.h[s]&n|i[s];for(this.h[0]=65535&(this.h[0]|this.h[1]<<13),this.h[1]=65535&(this.h[1]>>>3|this.h[2]<<10),this.h[2]=65535&(this.h[2]>>>6|this.h[3]<<7),this.h[3]=65535&(this.h[3]>>>9|this.h[4]<<4),this.h[4]=65535&(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14),this.h[5]=65535&(this.h[6]>>>2|this.h[7]<<11),this.h[6]=65535&(this.h[7]>>>5|this.h[8]<<8),this.h[7]=65535&(this.h[8]>>>8|this.h[9]<<5),o=this.h[0]+this.pad[0],this.h[0]=65535&o,s=1;s<8;s++)o=(this.h[s]+this.pad[s]|0)+(o>>>16)|0,this.h[s]=65535&o;e[t+0]=this.h[0]>>>0&255,e[t+1]=this.h[0]>>>8&255,e[t+2]=this.h[1]>>>0&255,e[t+3]=this.h[1]>>>8&255,e[t+4]=this.h[2]>>>0&255,e[t+5]=this.h[2]>>>8&255,e[t+6]=this.h[3]>>>0&255,e[t+7]=this.h[3]>>>8&255,e[t+8]=this.h[4]>>>0&255,e[t+9]=this.h[4]>>>8&255,e[t+10]=this.h[5]>>>0&255,e[t+11]=this.h[5]>>>8&255,e[t+12]=this.h[6]>>>0&255,e[t+13]=this.h[6]>>>8&255,e[t+14]=this.h[7]>>>0&255,e[t+15]=this.h[7]>>>8&255},A.prototype.update=function(e,t,r){var n,o;if(this.leftover){for((o=16-this.leftover)>r&&(o=r),n=0;n<o;n++)this.buffer[this.leftover+n]=e[t+n];if(r-=o,t+=o,this.leftover+=o,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(r>=16&&(o=r-r%16,this.blocks(e,t,o),t+=o,r-=o),r){for(n=0;n<r;n++)this.buffer[this.leftover+n]=e[t+n];this.leftover+=r}};var Y=k,H=O;var W=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function J(e,t,r,n){for(var o,s,i,a,c,l,h,u,f,d,p,v,m,g,y,w,b,_,$,E,A,x,T,k,O,P,S=new Int32Array(16),N=new Int32Array(16),R=e[0],I=e[1],U=e[2],C=e[3],D=e[4],M=e[5],j=e[6],L=e[7],V=t[0],B=t[1],z=t[2],q=t[3],K=t[4],F=t[5],Y=t[6],H=t[7],J=0;n>=128;){for($=0;$<16;$++)E=8*$+J,S[$]=r[E+0]<<24|r[E+1]<<16|r[E+2]<<8|r[E+3],N[$]=r[E+4]<<24|r[E+5]<<16|r[E+6]<<8|r[E+7];for($=0;$<80;$++)if(o=R,s=I,i=U,a=C,c=D,l=M,h=j,L,f=V,d=B,p=z,v=q,m=K,g=F,y=Y,H,T=65535&(x=H),k=x>>>16,O=65535&(A=L),P=A>>>16,T+=65535&(x=(K>>>14|D<<18)^(K>>>18|D<<14)^(D>>>9|K<<23)),k+=x>>>16,O+=65535&(A=(D>>>14|K<<18)^(D>>>18|K<<14)^(K>>>9|D<<23)),P+=A>>>16,T+=65535&(x=K&F^~K&Y),k+=x>>>16,O+=65535&(A=D&M^~D&j),P+=A>>>16,T+=65535&(x=W[2*$+1]),k+=x>>>16,O+=65535&(A=W[2*$]),P+=A>>>16,A=S[$%16],k+=(x=N[$%16])>>>16,O+=65535&A,P+=A>>>16,O+=(k+=(T+=65535&x)>>>16)>>>16,T=65535&(x=_=65535&T|k<<16),k=x>>>16,O=65535&(A=b=65535&O|(P+=O>>>16)<<16),P=A>>>16,T+=65535&(x=(V>>>28|R<<4)^(R>>>2|V<<30)^(R>>>7|V<<25)),k+=x>>>16,O+=65535&(A=(R>>>28|V<<4)^(V>>>2|R<<30)^(V>>>7|R<<25)),P+=A>>>16,k+=(x=V&B^V&z^B&z)>>>16,O+=65535&(A=R&I^R&U^I&U),P+=A>>>16,u=65535&(O+=(k+=(T+=65535&x)>>>16)>>>16)|(P+=O>>>16)<<16,w=65535&T|k<<16,T=65535&(x=v),k=x>>>16,O=65535&(A=a),P=A>>>16,k+=(x=_)>>>16,O+=65535&(A=b),P+=A>>>16,I=o,U=s,C=i,D=a=65535&(O+=(k+=(T+=65535&x)>>>16)>>>16)|(P+=O>>>16)<<16,M=c,j=l,L=h,R=u,B=f,z=d,q=p,K=v=65535&T|k<<16,F=m,Y=g,H=y,V=w,$%16==15)for(E=0;E<16;E++)A=S[E],T=65535&(x=N[E]),k=x>>>16,O=65535&A,P=A>>>16,A=S[(E+9)%16],T+=65535&(x=N[(E+9)%16]),k+=x>>>16,O+=65535&A,P+=A>>>16,b=S[(E+1)%16],T+=65535&(x=((_=N[(E+1)%16])>>>1|b<<31)^(_>>>8|b<<24)^(_>>>7|b<<25)),k+=x>>>16,O+=65535&(A=(b>>>1|_<<31)^(b>>>8|_<<24)^b>>>7),P+=A>>>16,b=S[(E+14)%16],k+=(x=((_=N[(E+14)%16])>>>19|b<<13)^(b>>>29|_<<3)^(_>>>6|b<<26))>>>16,O+=65535&(A=(b>>>19|_<<13)^(_>>>29|b<<3)^b>>>6),P+=A>>>16,P+=(O+=(k+=(T+=65535&x)>>>16)>>>16)>>>16,S[E]=65535&O|P<<16,N[E]=65535&T|k<<16;T=65535&(x=V),k=x>>>16,O=65535&(A=R),P=A>>>16,A=e[0],k+=(x=t[0])>>>16,O+=65535&A,P+=A>>>16,P+=(O+=(k+=(T+=65535&x)>>>16)>>>16)>>>16,e[0]=R=65535&O|P<<16,t[0]=V=65535&T|k<<16,T=65535&(x=B),k=x>>>16,O=65535&(A=I),P=A>>>16,A=e[1],k+=(x=t[1])>>>16,O+=65535&A,P+=A>>>16,P+=(O+=(k+=(T+=65535&x)>>>16)>>>16)>>>16,e[1]=I=65535&O|P<<16,t[1]=B=65535&T|k<<16,T=65535&(x=z),k=x>>>16,O=65535&(A=U),P=A>>>16,A=e[2],k+=(x=t[2])>>>16,O+=65535&A,P+=A>>>16,P+=(O+=(k+=(T+=65535&x)>>>16)>>>16)>>>16,e[2]=U=65535&O|P<<16,t[2]=z=65535&T|k<<16,T=65535&(x=q),k=x>>>16,O=65535&(A=C),P=A>>>16,A=e[3],k+=(x=t[3])>>>16,O+=65535&A,P+=A>>>16,P+=(O+=(k+=(T+=65535&x)>>>16)>>>16)>>>16,e[3]=C=65535&O|P<<16,t[3]=q=65535&T|k<<16,T=65535&(x=K),k=x>>>16,O=65535&(A=D),P=A>>>16,A=e[4],k+=(x=t[4])>>>16,O+=65535&A,P+=A>>>16,P+=(O+=(k+=(T+=65535&x)>>>16)>>>16)>>>16,e[4]=D=65535&O|P<<16,t[4]=K=65535&T|k<<16,T=65535&(x=F),k=x>>>16,O=65535&(A=M),P=A>>>16,A=e[5],k+=(x=t[5])>>>16,O+=65535&A,P+=A>>>16,P+=(O+=(k+=(T+=65535&x)>>>16)>>>16)>>>16,e[5]=M=65535&O|P<<16,t[5]=F=65535&T|k<<16,T=65535&(x=Y),k=x>>>16,O=65535&(A=j),P=A>>>16,A=e[6],k+=(x=t[6])>>>16,O+=65535&A,P+=A>>>16,P+=(O+=(k+=(T+=65535&x)>>>16)>>>16)>>>16,e[6]=j=65535&O|P<<16,t[6]=Y=65535&T|k<<16,T=65535&(x=H),k=x>>>16,O=65535&(A=L),P=A>>>16,A=e[7],k+=(x=t[7])>>>16,O+=65535&A,P+=A>>>16,P+=(O+=(k+=(T+=65535&x)>>>16)>>>16)>>>16,e[7]=L=65535&O|P<<16,t[7]=H=65535&T|k<<16,J+=128,n-=128}return n}function Q(e,t,r){var n,o=new Int32Array(8),s=new Int32Array(8),i=new Uint8Array(256),a=r;for(o[0]=1779033703,o[1]=3144134277,o[2]=1013904242,o[3]=2773480762,o[4]=1359893119,o[5]=2600822924,o[6]=528734635,o[7]=1541459225,s[0]=4089235720,s[1]=2227873595,s[2]=4271175723,s[3]=1595750129,s[4]=2917565137,s[5]=725511199,s[6]=4215389547,s[7]=327033209,J(o,s,t,r),r%=128,n=0;n<r;n++)i[n]=t[a-r+n];for(i[r]=128,i[(r=256-128*(r<112?1:0))-9]=0,d(i,r-8,a/536870912|0,a<<3),J(o,s,i,r),n=0;n<8;n++)d(e,8*n,o[n],s[n]);return 0}function G(e,r){var n=t(),o=t(),s=t(),i=t(),a=t(),c=t(),h=t(),u=t(),f=t();M(n,e[1],e[0]),M(f,r[1],r[0]),j(n,n,f),D(o,e[0],e[1]),D(f,r[0],r[1]),j(o,o,f),j(s,e[3],r[3]),j(s,s,l),j(i,e[2],r[2]),D(i,i,i),M(a,o,n),M(c,i,s),D(h,i,s),D(u,o,n),j(e[0],a,c),j(e[1],u,h),j(e[2],h,c),j(e[3],a,u)}function Z(e,t,r){var n;for(n=0;n<4;n++)N(e[n],t[n],r)}function X(e,r){var n=t(),o=t(),s=t();V(s,r[2]),j(n,r[0],s),j(o,r[1],s),R(e,o),e[31]^=U(n)<<7}function ee(e,t,r){var n,o;for(P(e[0],s),P(e[1],i),P(e[2],i),P(e[3],s),o=255;o>=0;--o)Z(e,t,n=r[o/8|0]>>(7&o)&1),G(t,e),G(e,e),Z(e,t,n)}function te(e,r){var n=[t(),t(),t(),t()];P(n[0],h),P(n[1],u),P(n[2],i),j(n[3],h,u),ee(e,n,r)}function re(e,n,o){var s,i=new Uint8Array(64),a=[t(),t(),t(),t()];for(o||r(n,32),Q(i,n,32),i[0]&=248,i[31]&=127,i[31]|=64,te(a,i),X(e,a),s=0;s<32;s++)n[s+32]=e[s];return 0}var ne=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function oe(e,t){var r,n,o,s;for(n=63;n>=32;--n){for(r=0,o=n-32,s=n-12;o<s;++o)t[o]+=r-16*t[n]*ne[o-(n-32)],r=Math.floor((t[o]+128)/256),t[o]-=256*r;t[o]+=r,t[n]=0}for(r=0,o=0;o<32;o++)t[o]+=r-(t[31]>>4)*ne[o],r=t[o]>>8,t[o]&=255;for(o=0;o<32;o++)t[o]-=r*ne[o];for(n=0;n<32;n++)t[n+1]+=t[n]>>8,e[n]=255&t[n]}function se(e){var t,r=new Float64Array(64);for(t=0;t<64;t++)r[t]=e[t];for(t=0;t<64;t++)e[t]=0;oe(e,r)}function ie(e,r,n,o){var s,i,a=new Uint8Array(64),c=new Uint8Array(64),l=new Uint8Array(64),h=new Float64Array(64),u=[t(),t(),t(),t()];Q(a,o,32),a[0]&=248,a[31]&=127,a[31]|=64;var f=n+64;for(s=0;s<n;s++)e[64+s]=r[s];for(s=0;s<32;s++)e[32+s]=a[32+s];for(Q(l,e.subarray(32),n+32),se(l),te(u,l),X(e,u),s=32;s<64;s++)e[s]=o[s];for(Q(c,e,n+64),se(c),s=0;s<64;s++)h[s]=0;for(s=0;s<32;s++)h[s]=l[s];for(s=0;s<32;s++)for(i=0;i<32;i++)h[s+i]+=c[s]*a[i];return oe(e.subarray(32),h),f}function ae(e,r,n,o){var a,l=new Uint8Array(32),h=new Uint8Array(64),u=[t(),t(),t(),t()],d=[t(),t(),t(),t()];if(n<64)return-1;if(function(e,r){var n=t(),o=t(),a=t(),l=t(),h=t(),u=t(),d=t();return P(e[2],i),C(e[1],r),L(a,e[1]),j(l,a,c),M(a,a,e[2]),D(l,e[2],l),L(h,l),L(u,h),j(d,u,h),j(n,d,a),j(n,n,l),B(n,n),j(n,n,a),j(n,n,l),j(n,n,l),j(e[0],n,l),L(o,e[0]),j(o,o,l),I(o,a)&&j(e[0],e[0],f),L(o,e[0]),j(o,o,l),I(o,a)?-1:(U(e[0])===r[31]>>7&&M(e[0],s,e[0]),j(e[3],e[0],e[1]),0)}(d,o))return-1;for(a=0;a<n;a++)e[a]=r[a];for(a=0;a<32;a++)e[a+32]=o[a];if(Q(h,e,n),se(h),ee(u,d,h),te(d,r.subarray(32)),G(u,d),X(l,u),n-=64,m(r,0,l,0)){for(a=0;a<n;a++)e[a]=0;return-1}for(a=0;a<n;a++)e[a]=r[a+64];return n}var ce=16,le=64,he=32,ue=64;function de(e,t){if(32!==e.length)throw new Error("bad key size");if(24!==t.length)throw new Error("bad nonce size")}function pe(){for(var e=0;e<arguments.length;e++)if(!(arguments[e]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function ve(e){for(var t=0;t<e.length;t++)e[t]=0}e.lowlevel={crypto_core_hsalsa20:y,crypto_stream_xor:E,crypto_stream:$,crypto_stream_salsa20_xor:b,crypto_stream_salsa20:_,crypto_onetimeauth:x,crypto_onetimeauth_verify:T,crypto_verify_16:v,crypto_verify_32:m,crypto_secretbox:k,crypto_secretbox_open:O,crypto_scalarmult:z,crypto_scalarmult_base:q,crypto_box_beforenm:F,crypto_box_afternm:Y,crypto_box:function(e,t,r,n,o,s){var i=new Uint8Array(32);return F(i,o,s),Y(e,t,r,n,i)},crypto_box_open:function(e,t,r,n,o,s){var i=new Uint8Array(32);return F(i,o,s),H(e,t,r,n,i)},crypto_box_keypair:K,crypto_hash:Q,crypto_sign:ie,crypto_sign_keypair:re,crypto_sign_open:ae,crypto_secretbox_KEYBYTES:32,crypto_secretbox_NONCEBYTES:24,crypto_secretbox_ZEROBYTES:32,crypto_secretbox_BOXZEROBYTES:ce,crypto_scalarmult_BYTES:32,crypto_scalarmult_SCALARBYTES:32,crypto_box_PUBLICKEYBYTES:32,crypto_box_SECRETKEYBYTES:32,crypto_box_BEFORENMBYTES:32,crypto_box_NONCEBYTES:24,crypto_box_ZEROBYTES:32,crypto_box_BOXZEROBYTES:16,crypto_sign_BYTES:le,crypto_sign_PUBLICKEYBYTES:he,crypto_sign_SECRETKEYBYTES:ue,crypto_sign_SEEDBYTES:32,crypto_hash_BYTES:64,gf:t,D:c,L:ne,pack25519:R,unpack25519:C,M:j,A:D,S:L,Z:M,pow2523:B,add:G,set25519:P,modL:oe,scalarmult:ee,scalarbase:te},e.randomBytes=function(e){var t=new Uint8Array(e);return r(t,e),t},e.secretbox=function(e,t,r){pe(e,t,r),de(r,t);for(var n=new Uint8Array(32+e.length),o=new Uint8Array(n.length),s=0;s<e.length;s++)n[s+32]=e[s];return k(o,n,n.length,t,r),o.subarray(ce)},e.secretbox.open=function(e,t,r){pe(e,t,r),de(r,t);for(var n=new Uint8Array(ce+e.length),o=new Uint8Array(n.length),s=0;s<e.length;s++)n[s+ce]=e[s];return n.length<32||0!==O(o,n,n.length,t,r)?null:o.subarray(32)},e.secretbox.keyLength=32,e.secretbox.nonceLength=24,e.secretbox.overheadLength=ce,e.scalarMult=function(e,t){if(pe(e,t),32!==e.length)throw new Error("bad n size");if(32!==t.length)throw new Error("bad p size");var r=new Uint8Array(32);return z(r,e,t),r},e.scalarMult.base=function(e){if(pe(e),32!==e.length)throw new Error("bad n size");var t=new Uint8Array(32);return q(t,e),t},e.scalarMult.scalarLength=32,e.scalarMult.groupElementLength=32,e.box=function(t,r,n,o){var s=e.box.before(n,o);return e.secretbox(t,r,s)},e.box.before=function(e,t){pe(e,t),function(e,t){if(32!==e.length)throw new Error("bad public key size");if(32!==t.length)throw new Error("bad secret key size")}(e,t);var r=new Uint8Array(32);return F(r,e,t),r},e.box.after=e.secretbox,e.box.open=function(t,r,n,o){var s=e.box.before(n,o);return e.secretbox.open(t,r,s)},e.box.open.after=e.secretbox.open,e.box.keyPair=function(){var e=new Uint8Array(32),t=new Uint8Array(32);return K(e,t),{publicKey:e,secretKey:t}},e.box.keyPair.fromSecretKey=function(e){if(pe(e),32!==e.length)throw new Error("bad secret key size");var t=new Uint8Array(32);return q(t,e),{publicKey:t,secretKey:new Uint8Array(e)}},e.box.publicKeyLength=32,e.box.secretKeyLength=32,e.box.sharedKeyLength=32,e.box.nonceLength=24,e.box.overheadLength=e.secretbox.overheadLength,e.sign=function(e,t){if(pe(e,t),t.length!==ue)throw new Error("bad secret key size");var r=new Uint8Array(le+e.length);return ie(r,e,e.length,t),r},e.sign.open=function(e,t){if(pe(e,t),t.length!==he)throw new Error("bad public key size");var r=new Uint8Array(e.length),n=ae(r,e,e.length,t);if(n<0)return null;for(var o=new Uint8Array(n),s=0;s<o.length;s++)o[s]=r[s];return o},e.sign.detached=function(t,r){for(var n=e.sign(t,r),o=new Uint8Array(le),s=0;s<o.length;s++)o[s]=n[s];return o},e.sign.detached.verify=function(e,t,r){if(pe(e,t,r),t.length!==le)throw new Error("bad signature size");if(r.length!==he)throw new Error("bad public key size");var n,o=new Uint8Array(le+e.length),s=new Uint8Array(le+e.length);for(n=0;n<le;n++)o[n]=t[n];for(n=0;n<e.length;n++)o[n+le]=e[n];return ae(s,o,o.length,r)>=0},e.sign.keyPair=function(){var e=new Uint8Array(he),t=new Uint8Array(ue);return re(e,t),{publicKey:e,secretKey:t}},e.sign.keyPair.fromSecretKey=function(e){if(pe(e),e.length!==ue)throw new Error("bad secret key size");for(var t=new Uint8Array(he),r=0;r<t.length;r++)t[r]=e[32+r];return{publicKey:t,secretKey:new Uint8Array(e)}},e.sign.keyPair.fromSeed=function(e){if(pe(e),32!==e.length)throw new Error("bad seed size");for(var t=new Uint8Array(he),r=new Uint8Array(ue),n=0;n<32;n++)r[n]=e[n];return re(t,r,!0),{publicKey:t,secretKey:r}},e.sign.publicKeyLength=he,e.sign.secretKeyLength=ue,e.sign.seedLength=32,e.sign.signatureLength=le,e.hash=function(e){pe(e);var t=new Uint8Array(64);return Q(t,e,e.length),t},e.hash.hashLength=64,e.verify=function(e,t){return pe(e,t),0!==e.length&&0!==t.length&&(e.length===t.length&&0===p(e,0,t,0,e.length))},e.setPRNG=function(e){r=e},function(){var t="undefined"!=typeof self?self.crypto||self.msCrypto:null;if(t&&t.getRandomValues){e.setPRNG((function(e,r){var n,o=new Uint8Array(r);for(n=0;n<r;n+=65536)t.getRandomValues(o.subarray(n,n+Math.min(r-n,65536)));for(n=0;n<r;n++)e[n]=o[n];ve(o)}))}else(t=fe)&&t.randomBytes&&e.setPRNG((function(e,r){var n,o=t.randomBytes(r);for(n=0;n<r;n++)e[n]=o[n];ve(o)}))}()}(e.exports?e.exports:self.nacl=self.nacl||{})})),pe=le((function(e){var t,r;t=ce,r=function(){var e={};function t(e){if(!/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/.test(e))throw new TypeError("invalid encoding")}return e.decodeUTF8=function(e){if("string"!=typeof e)throw new TypeError("expected string");var t,r=unescape(encodeURIComponent(e)),n=new Uint8Array(r.length);for(t=0;t<r.length;t++)n[t]=r.charCodeAt(t);return n},e.encodeUTF8=function(e){var t,r=[];for(t=0;t<e.length;t++)r.push(String.fromCharCode(e[t]));return decodeURIComponent(escape(r.join("")))},"undefined"==typeof atob?void 0!==Buffer.from?(e.encodeBase64=function(e){return Buffer.from(e).toString("base64")},e.decodeBase64=function(e){return t(e),new Uint8Array(Array.prototype.slice.call(Buffer.from(e,"base64"),0))}):(e.encodeBase64=function(e){return new Buffer(e).toString("base64")},e.decodeBase64=function(e){return t(e),new Uint8Array(Array.prototype.slice.call(new Buffer(e,"base64"),0))}):(e.encodeBase64=function(e){var t,r=[],n=e.length;for(t=0;t<n;t++)r.push(String.fromCharCode(e[t]));return btoa(r.join(""))},e.decodeBase64=function(e){t(e);var r,n=atob(e),o=new Uint8Array(n.length);for(r=0;r<n.length;r++)o[r]=n.charCodeAt(r);return o}),e},e.exports?e.exports=r():(t.nacl||(t.nacl={}),t.nacl.util=r())}));function ve(){}class me{constructor(e,t,r){this.prev=e,this.next=t,this.fn=r||ve}run(e){this.fn(e),this.next&&this.next.run(e)}}class ge{constructor(e){this.head=new me,this.tail=new me(this.head),this.head.next=this.tail,this.linkConstructor=e,this.reg={}}insert(e){const t=new me(this.tail.prev,this.tail,e);return t.next.prev=t,t.prev.next=t,t}remove(e){e.prev.next=e.next,e.next.prev=e.prev}}let ye=0;class we{constructor(){this.__events_list={}}on(e,t){const r=this.__events_list[e]||(this.__events_list[e]=new ge),n=t._eev||(t._eev=++ye);r.reg[n]||(r.reg[n]=r.insert(t))}off(e,t){if(t){const r=this.__events_list[e];if(!r)return;const n=r.reg[t._eev];r.reg[t._eev]=void 0,r&&n&&r.remove(n)}}removeListener(...e){this.off(...e)}emit(e,t){const r=this.__events_list[e];r&&r.head.run(t)}}function be(e){return Array.from(new Uint8Array(e)).map((e=>e.toString(16).padStart(2,"0"))).join("")}function _e(e){const t=e.match(/.{1,2}(?=(.{2})+(?!.))|.{1,2}$/g);return new Uint8Array(t.map((e=>parseInt(e,16))))}function $e(e,t=8){const r=new Array(t).fill(0);for(let n=0;n<r.length;n++){const t=255&e;r[n]=t,e=(e-t)/256}return r}function Ee({data:e,connector:t}){const{log:r}=t;var n;null!=(n=e)&&n.constructor==Object&&(e=JSON.stringify(e));const o=new Uint8Array($e(2*t.sentCount,24));if(t.closed())r(`⚠️ Warning: "${e}" was not sent because connector is not ready`);else if(t.sentCount>1){let n=0;"string"==typeof e&&(n=1);const s=function(e,t){const r=new Uint8Array(e.length+1),n=new Uint8Array(1);return n[0]=t,r.set(n),r.set(e,n.length),r}(1==n?de.util.decodeUTF8(e):e,n),i=de.secretbox(s,o,t.sharedSecret);t.verbose&&(r(),r(`Connector → Sending encrypted message #${t.sentCount} @ ${t.address}:`),r(e)),t.connection.websocket.send(i)}else t.verbose&&(r(),r(`Connector → Sending message #${t.sentCount} @ ${t.address}:`),r(e)),t.connection.websocket.send(e)}function Ae({jsonData:e,encryptedData:t,rawMessage:r,wasEncrypted:n,connector:o}){const{log:s}=o;o.lastMessageAt=Date.now();const i=new Uint8Array($e(2*o.receivedCount+1,24));if(o.verbose&&!n&&(s(),s(`Connector → Received message #${o.receivedCount}:`)),e)e.jsonrpc?!function(e){return Object.keys(e).includes("result")||Object.keys(e).includes("error")}(e)?o.emit("json_rpc",r):(o.verbose&&!n&&(s("Received plain-text rpc result"),s(e)),o.rpcClient.jsonrpcMsgReceive(r)):o.emit("receive",{jsonData:e,rawMessage:r});else if(t){"extra"==o.verbose&&(s("Received bytes:"),s(t),s(`Decrypting with shared secret ${o.sharedSecret}...`));const e=de.secretbox.open(t,i,o.sharedSecret),r=e[0],n=e.subarray(1);if(1==r){const e=de.util.encodeUTF8(n);try{const t=JSON.parse(e);t.jsonrpc?(o.verbose&&(s("Received and decrypted rpc result:"),s(t)),Ae({jsonData:t,rawMessage:e,wasEncrypted:!0,connector:o})):t.state?o.emit("receive_state",t.state):t.diff?o.emit("receive_diff",t.diff):t.signal?o.emit(t.signal,t.data):t.stateField?o.emit("receive_state_field",t.stateField):o.emit("receive",{jsonData:t,rawMessage:e})}catch(a){throw s("Couldn't parse json message although the flag was for string ..."),s(e),a}}else o.emit("receive_binary",n)}}de.util=pe,de.util=pe;class xe extends we{constructor(e){super(),this.state=e,this.subscriptions=[]}get(){return this.state}subscribe(e){return this.subscriptions.push(e),e(this.state),()=>{this.subscriptions=this.subscriptions.filter((t=>t!==e))}}announceStateChange(){this.subscriptions.forEach((e=>e(this.state)))}}class Te extends xe{set(e){this.state=e,this.announceStateChange()}}class ke extends we{constructor(e){super(),this.connector=e}send(...e){this.connector.send(...e)}}var Oe=-32700,Pe=-32600,Se=-32601,Ne=-32602,Re=-32603;class Ie{constructor({transports:e}){if(!e)throw new Error("TRANSPORT_REQUIRED");this.transportsToRegister=e,this.methods={}}setMethodPrefix(e){this.methodPrefix=e}expose(e){this.methods=e}registerTransport(e){e.onData(this._processRequest.bind(this,e))}async _processRequest(e,t){const r=JSON.parse(t);let n;return n=Array.isArray(r)?await Promise.all(r.map((t=>this._callMethod(t,e)))):await this._callMethod(r,e),JSON.stringify(n)}async _callMethod(e,t){if(!e.hasOwnProperty("method"))return;const{method:r,params:n=[],id:o}=e;let s=r;if(s.includes("::")){const[e,t]=s.split("::");if(s=t,this.methodPrefix&&e!=this.methodPrefix)return}let i={};if(!this.methods[s]||"function"!=typeof this.methods[s]||"constructor"===s||s.startsWith("_")||this.methods[s]===Object.prototype[s])i={jsonrpc:"2.0",id:o,error:{code:Se,message:`Method [${s}] not found on remote target object`}};else{this.currentTransport=t;try{const e=await this.methods[s].apply(this.methods,n);if(!o)return;i={jsonrpc:"2.0",result:void 0===e?null:e,id:o}}catch(a){console.log(`Exposed RPC method ${r} internal error:`),console.log(a),console.log("Sending this error as a result to calling client ..."),i={jsonrpc:"2.0",error:{code:Re,message:`Method [${r}] internal error: ${a.stack}`},id:o}}}return i}run(){for(const e of this.transportsToRegister)this.registerTransport(e);this.transportsToRegister=[]}}class Ue extends Error{constructor(e={}){if(super(),!e.code)throw new Error("Code required");if(!e.message)throw new Error("Message required");this.code=e.code,this.message=e.message}}class Ce extends Ue{}var De={Base:Ue,MethodNotFound:class extends Ue{constructor(e){super({code:Se,message:e||"Method not found"})}},InvalidRequest:class extends Ue{constructor(){super({code:Pe,message:"Invalid request"})}},InvalidParams:class extends Ue{constructor(){super({code:Ne,message:"Invalid params"})}},RemoteInternalError:class extends Ue{constructor(e){super({code:Re,message:`Error originating at remote endpoint: ${e}`||"Remote Internal error"})}},ServerError:Ce,ParseError:class extends Ue{constructor(){super({code:Oe,message:"Parse error"})}},RequestTimeout:class extends Ce{constructor(e,t){super({code:-32001,message:`Request exceeded maximum execution time (${t}ms): ${e}`})}}};class Me{constructor({transport:e,requestTimeout:t=2e4}){if(!e)throw new Error("TRANSPORT_REQUIRED");this.transport=e,this.requestTimeout=t,this.pendingRequest={},this.initialized=!1}setMethodPrefix(e){this.methodPrefix=e}async callMethod(e,t){this._init();const r=this.methodPrefix?`${this.methodPrefix}::${e}`:e,n=this._makeRequestObject({method:r,params:t});return this._sendRequest({object:n,id:n.id})}notify(e,t){this._init();const r=this._makeRequestObject({method:e,params:t,mode:"notify"});return this.transport.sendData(JSON.stringify(r)),!0}async runBatch(e){const t=this._generateId();let r=!0;const n=[];for(const[o,s,i]of e){const e=this._makeRequestObject({method:o,params:s,mode:i,batchId:t});e.id&&(r=!1),n.push(e)}return r?this.transport.sendData(JSON.stringify(n)):this._sendRequest({object:n,id:t})}_init(){this.initialized||(this.transport.onData(this._processResponse.bind(this)),this.initialized=!0)}_sendRequest({object:e,id:t}){const r=JSON.stringify(e);return new Promise(((n,o)=>{this.pendingRequest[t]={resolve:n,reject:o,sentObject:e},setTimeout((()=>{this.pendingRequest[t]&&(delete this.pendingRequest[t],o(new De.RequestTimeout(r,this.requestTimeout)))}),this.requestTimeout);try{this.transport.sendData(r)}catch(s){delete this.pendingRequest[t],o(s)}}))}_processResponse(e){const t=JSON.parse(e);Array.isArray(t)?this._processBatchResponse(t):this._processSingleCallResponse(t)}_processSingleCallResponse(e){const t=e.hasOwnProperty("result")||!1,r=e.hasOwnProperty("error");if(!t&&!r)return;const n=this.pendingRequest[e.id];if(delete this.pendingRequest[e.id],n)if(t)n.resolve(e.result);else if(r){const t=this._makeErrorObject(e.error);n.reject(t)}}_processBatchResponse(e){let t;const r={},n=[];for(const c of e)c.id?(t||(t=c.id.split("|")[0]),r[c.id]=c):c.error&&n.push(c.error);if(!this.pendingRequest[t])return;const{sentObject:o,resolve:s}=this.pendingRequest[t];delete this.pendingRequest[t];const i=[];let a=0;for(const c of o){if(!c.id){i.push(null);continue}const e=r[c.id];if(e){e.hasOwnProperty("result")||!1?i.push({success:!0,result:e.result}):i.push({success:!1,result:this._makeErrorObject(e.error)})}else i.push({success:!1,error:this._makeErrorObject(n[a])}),a++}s(i)}_makeRequestObject({method:e,params:t,mode:r,batchId:n}){const o={jsonrpc:"2.0",method:e};return t&&t.length&&(o.params=t),"notify"!==r&&(o.id=n?`${n}|${this._generateId()}`:this._generateId()),o}_makeErrorObject(e){return(0,{[Se]:()=>new De.MethodNotFound(e.message),[Re]:()=>new De.RemoteInternalError(e.message)}[e.code])()}_generateId(){let e=10,t="";for(;0<e--;)t+="bjectSymhasOwnProp-0123456789ABCDEFGHIJKLMNQRTUVWXYZ_dfgiklquvxz"[64*Math.random()|0];return t}}function je(e){return new Proxy(e,{get:(e,t)=>(...r)=>e.call(null,t,r),apply:(e,t,r)=>e.apply(null,r)})}class Le{constructor(e){this.channel=e}onData(e){this.channel.on("json_rpc",(async t=>{const r=await e(t);r&&this.channel.send(r)}))}}var Ve=Object.freeze({__proto__:null,MoleServer:Ie,MoleClient:Me,MoleClientProxified:class extends Me{constructor(...e){return super(...e),function(e){const t=je(e.callMethod.bind(e)),r=je(e.notify.bind(e));return new Proxy(e,{get:(n,o)=>"notify"===o?r:"callMethod"===o?t:"then"!==o?"setMethodPrefix"===o?(...t)=>e.setMethodPrefix(t):(...e)=>n.callMethod.call(n,o,e):void 0})}(this)}},ClientTransport:class{constructor(e){this.channel=e}onData(e){this.channel.on("json_rpc",e)}sendData(e){this.channel.send(e)}},ServerTransport:Le});class Be extends Error{constructor(e,t){super(e),this.name=this.constructor.name,this.errorCode=t}errorCode(){return this.errorCode}}const{MoleClient:ze,ClientTransport:qe}=Ve;class Ke{constructor(e,t,r){this.moleChannel=new ke(e),this.methodPrefix=t,this.connectorOrServersideChannel=e,this.client=new ze({requestTimeout:r,transport:new qe(this.moleChannel)})}jsonrpcMsgReceive(e){this.moleChannel.emit("json_rpc",e)}call(e,t){return this.connectorOrServersideChannel.closed()?new Promise(((t,r)=>{r(new Be(`Method call [${this.methodPrefix}::${e}] on closed channel or connector ignored. Please add a check for closed channel in your code.`,"CLOSED_CHANNEL"))})):this.client.callMethod(`${this.methodPrefix}::${e}`,t)}}class Fe{constructor(e,t){this.connectorOrServersideChannel=e,this.remoteObjects={},this.requestTimeout=t||5e4}remoteObject(e){return this.remoteObjects[e]||(this.remoteObjects[e]=new Ke(this.connectorOrServersideChannel,e,this.requestTimeout)),this.remoteObjects[e]}jsonrpcMsgReceive(e){for(const t of Object.values(this.remoteObjects))t.jsonrpcMsgReceive(e)}}class Ye{constructor({serversideChannel:e,serverMethods:t,methodPrefix:r}){const n=[new Le(e)];this.server=new Ie({transports:n}),this.server.expose(t),this.server.setMethodPrefix(r),this.server.run()}}function He(){const e=de.box.keyPair(),t=be(e.publicKey),r=be(e.secretKey);return{privateKey:e.secretKey,publicKey:e.publicKey,privateKeyHex:r,publicKeyHex:t}}de.util=pe,de.util=pe;
/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017 Joachim Wester
 * MIT license
 */
var We,Je=(We=function(e,t){return(We=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}We(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),Qe=Object.prototype.hasOwnProperty;function Ge(e,t){return Qe.call(e,t)}function Ze(e){if(Array.isArray(e)){for(var t=new Array(e.length),r=0;r<t.length;r++)t[r]=""+r;return t}if(Object.keys)return Object.keys(e);t=[];for(var n in e)Ge(e,n)&&t.push(n);return t}function Xe(e){switch(typeof e){case"object":return JSON.parse(JSON.stringify(e));case"undefined":return null;default:return e}}function et(e){for(var t,r=0,n=e.length;r<n;){if(!((t=e.charCodeAt(r))>=48&&t<=57))return!1;r++}return!0}function tt(e){return-1===e.indexOf("/")&&-1===e.indexOf("~")?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function rt(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function nt(e){if(void 0===e)return!0;if(e)if(Array.isArray(e)){for(var t=0,r=e.length;t<r;t++)if(nt(e[t]))return!0}else if("object"==typeof e){var n=Ze(e),o=n.length;for(t=0;t<o;t++)if(nt(e[n[t]]))return!0}return!1}function ot(e,t){var r=[e];for(var n in t){var o="object"==typeof t[n]?JSON.stringify(t[n],null,2):t[n];void 0!==o&&r.push(n+": "+o)}return r.join("\n")}var st=function(e){function t(t,r,n,o,s){var i=this.constructor,a=e.call(this,ot(t,{name:r,index:n,operation:o,tree:s}))||this;return a.name=r,a.index=n,a.operation=o,a.tree=s,Object.setPrototypeOf(a,i.prototype),a.message=ot(t,{name:r,index:n,operation:o,tree:s}),a}return Je(t,e),t}(Error),it=st,at=Xe,ct={add:function(e,t,r){return e[t]=this.value,{newDocument:r}},remove:function(e,t,r){var n=e[t];return delete e[t],{newDocument:r,removed:n}},replace:function(e,t,r){var n=e[t];return e[t]=this.value,{newDocument:r,removed:n}},move:function(e,t,r){var n=ht(r,this.path);n&&(n=Xe(n));var o=ut(r,{op:"remove",path:this.from}).removed;return ut(r,{op:"add",path:this.path,value:o}),{newDocument:r,removed:n}},copy:function(e,t,r){var n=ht(r,this.from);return ut(r,{op:"add",path:this.path,value:Xe(n)}),{newDocument:r}},test:function(e,t,r){return{newDocument:r,test:vt(e[t],this.value)}},_get:function(e,t,r){return this.value=e[t],{newDocument:r}}},lt={add:function(e,t,r){return et(t)?e.splice(t,0,this.value):e[t]=this.value,{newDocument:r,index:t}},remove:function(e,t,r){return{newDocument:r,removed:e.splice(t,1)[0]}},replace:function(e,t,r){var n=e[t];return e[t]=this.value,{newDocument:r,removed:n}},move:ct.move,copy:ct.copy,test:ct.test,_get:ct._get};function ht(e,t){if(""==t)return e;var r={op:"_get",path:t};return ut(e,r),r.value}function ut(e,t,r,n,o,s){if(void 0===r&&(r=!1),void 0===n&&(n=!0),void 0===o&&(o=!0),void 0===s&&(s=0),r&&("function"==typeof r?r(t,0,e,t.path):dt(t,0)),""===t.path){var i={newDocument:e};if("add"===t.op)return i.newDocument=t.value,i;if("replace"===t.op)return i.newDocument=t.value,i.removed=e,i;if("move"===t.op||"copy"===t.op)return i.newDocument=ht(e,t.from),"move"===t.op&&(i.removed=e),i;if("test"===t.op){if(i.test=vt(e,t.value),!1===i.test)throw new it("Test operation failed","TEST_OPERATION_FAILED",s,t,e);return i.newDocument=e,i}if("remove"===t.op)return i.removed=e,i.newDocument=null,i;if("_get"===t.op)return t.value=e,i;if(r)throw new it("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",s,t,e);return i}n||(e=Xe(e));var a=(t.path||"").split("/"),c=e,l=1,h=a.length,u=void 0,f=void 0,d=void 0;for(d="function"==typeof r?r:dt;;){if(f=a[l],o&&"__proto__"==f)throw new TypeError("JSON-Patch: modifying `__proto__` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(r&&void 0===u&&(void 0===c[f]?u=a.slice(0,l).join("/"):l==h-1&&(u=t.path),void 0!==u&&d(t,0,e,u)),l++,Array.isArray(c)){if("-"===f)f=c.length;else{if(r&&!et(f))throw new it("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",s,t,e);et(f)&&(f=~~f)}if(l>=h){if(r&&"add"===t.op&&f>c.length)throw new it("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",s,t,e);if(!1===(i=lt[t.op].call(t,c,f,e)).test)throw new it("Test operation failed","TEST_OPERATION_FAILED",s,t,e);return i}}else if(f&&-1!=f.indexOf("~")&&(f=rt(f)),l>=h){if(!1===(i=ct[t.op].call(t,c,f,e)).test)throw new it("Test operation failed","TEST_OPERATION_FAILED",s,t,e);return i}c=c[f]}}function ft(e,t,r,n,o){if(void 0===n&&(n=!0),void 0===o&&(o=!0),r&&!Array.isArray(t))throw new it("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");n||(e=Xe(e));for(var s=new Array(t.length),i=0,a=t.length;i<a;i++)s[i]=ut(e,t[i],r,!0,o,i),e=s[i].newDocument;return s.newDocument=e,s}function dt(e,t,r,n){if("object"!=typeof e||null===e||Array.isArray(e))throw new it("Operation is not an object","OPERATION_NOT_AN_OBJECT",t,e,r);if(!ct[e.op])throw new it("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",t,e,r);if("string"!=typeof e.path)throw new it("Operation `path` property is not a string","OPERATION_PATH_INVALID",t,e,r);if(0!==e.path.indexOf("/")&&e.path.length>0)throw new it('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",t,e,r);if(("move"===e.op||"copy"===e.op)&&"string"!=typeof e.from)throw new it("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",t,e,r);if(("add"===e.op||"replace"===e.op||"test"===e.op)&&void 0===e.value)throw new it("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",t,e,r);if(("add"===e.op||"replace"===e.op||"test"===e.op)&&nt(e.value))throw new it("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",t,e,r);if(r)if("add"==e.op){var o=e.path.split("/").length,s=n.split("/").length;if(o!==s+1&&o!==s)throw new it("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",t,e,r)}else if("replace"===e.op||"remove"===e.op||"_get"===e.op){if(e.path!==n)throw new it("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",t,e,r)}else if("move"===e.op||"copy"===e.op){var i=pt([{op:"_get",path:e.from,value:void 0}],r);if(i&&"OPERATION_PATH_UNRESOLVABLE"===i.name)throw new it("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",t,e,r)}}function pt(e,t,r){try{if(!Array.isArray(e))throw new it("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(t)ft(Xe(t),Xe(e),r||!0);else{r=r||dt;for(var n=0;n<e.length;n++)r(e[n],n,t,void 0)}}catch(o){if(o instanceof it)return o;throw o}}function vt(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){var r,n,o,s=Array.isArray(e),i=Array.isArray(t);if(s&&i){if((n=e.length)!=t.length)return!1;for(r=n;0!=r--;)if(!vt(e[r],t[r]))return!1;return!0}if(s!=i)return!1;var a=Object.keys(e);if((n=a.length)!==Object.keys(t).length)return!1;for(r=n;0!=r--;)if(!t.hasOwnProperty(a[r]))return!1;for(r=n;0!=r--;)if(!vt(e[o=a[r]],t[o]))return!1;return!0}return e!=e&&t!=t}var mt=Object.freeze({__proto__:null,JsonPatchError:it,deepClone:at,getValueByPointer:ht,applyOperation:ut,applyPatch:ft,applyReducer:function(e,t,r){var n=ut(e,t);if(!1===n.test)throw new it("Test operation failed","TEST_OPERATION_FAILED",r,t,e);return n.newDocument},validator:dt,validate:pt,_areEquals:vt}),gt=new WeakMap,yt=function(e){this.observers=new Map,this.obj=e},wt=function(e,t){this.callback=e,this.observer=t};
/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017 Joachim Wester
 * MIT license
 */function bt(e,t){void 0===t&&(t=!1);var r=gt.get(e.object);_t(r.value,e.object,e.patches,"",t),e.patches.length&&ft(r.value,e.patches);var n=e.patches;return n.length>0&&(e.patches=[],e.callback&&e.callback(n)),n}function _t(e,t,r,n,o){if(t!==e){"function"==typeof t.toJSON&&(t=t.toJSON());for(var s=Ze(t),i=Ze(e),a=!1,c=i.length-1;c>=0;c--){var l=e[u=i[c]];if(!Ge(t,u)||void 0===t[u]&&void 0!==l&&!1===Array.isArray(t))Array.isArray(e)===Array.isArray(t)?(o&&r.push({op:"test",path:n+"/"+tt(u),value:Xe(l)}),r.push({op:"remove",path:n+"/"+tt(u)}),a=!0):(o&&r.push({op:"test",path:n,value:e}),r.push({op:"replace",path:n,value:t}));else{var h=t[u];"object"==typeof l&&null!=l&&"object"==typeof h&&null!=h?_t(l,h,r,n+"/"+tt(u),o):l!==h&&(o&&r.push({op:"test",path:n+"/"+tt(u),value:Xe(l)}),r.push({op:"replace",path:n+"/"+tt(u),value:Xe(h)}))}}if(a||s.length!=i.length)for(c=0;c<s.length;c++){var u;Ge(e,u=s[c])||void 0===t[u]||r.push({op:"add",path:n+"/"+tt(u),value:Xe(t[u])})}}}var $t=Object.freeze({__proto__:null,unobserve:function(e,t){t.unobserve()},observe:function(e,t){var r,n=function(e){return gt.get(e)}(e);if(n){var o=function(e,t){return e.observers.get(t)}(n,t);r=o&&o.observer}else n=new yt(e),gt.set(e,n);if(r)return r;if(r={},n.value=Xe(e),t){r.callback=t,r.next=null;var s=function(){bt(r)},i=function(){clearTimeout(r.next),r.next=setTimeout(s)};"undefined"!=typeof window&&(window.addEventListener("mouseup",i),window.addEventListener("keyup",i),window.addEventListener("mousedown",i),window.addEventListener("keydown",i),window.addEventListener("change",i))}return r.patches=[],r.object=e,r.unobserve=function(){bt(r),clearTimeout(r.next),function(e,t){e.observers.delete(t.callback)}(n,r),"undefined"!=typeof window&&(window.removeEventListener("mouseup",i),window.removeEventListener("keyup",i),window.removeEventListener("mousedown",i),window.removeEventListener("keydown",i),window.removeEventListener("change",i))},n.observers.set(t,new wt(t,r)),r},generate:bt,compare:function(e,t,r){void 0===r&&(r=!1);var n=[];return _t(e,t,n,"",r),n}}),Et=Object.assign({},mt,$t,{JsonPatchError:st,deepClone:Xe,escapePathComponent:tt,unescapePathComponent:rt});const{applyPatch:At}=Et;class xt extends Te{constructor(e){super({}),this.connector=e,this.connector.on("receive_state",(e=>{this.wireStateReceived=!0,this.set(e)})),this.connector.on("receive_diff",(e=>{this.wireStateReceived&&(At(this.state,e),this.announceStateChange())}))}field(e){return this.connector.connectionState.get(e)}}class Tt extends Te{constructor(e){super({}),this.fields={},this.connector=e,this.connector.on("receive_state_field",(({name:e,state:t})=>{this.get(e).set(t)}))}get(e){return this.fields[e]||(this.fields[e]=new Te),this.fields[e]}}de.util=pe;class kt extends we{constructor({endpoint:e,protocol:t,keypair:r=He(),rpcRequestTimeout:n,verbose:o=!1,tag:s,log:i=console.log,dummy:a}={}){super(),this.protocol=t,this.log=i;const{privateKey:c,publicKey:l}=function(e){return e.publicKeyHex&&!e.publicKey&&(e.publicKey=_e(e.publicKeyHex)),e.privateKeyHex&&!e.privateKey&&(e.privateKey=_e(e.privateKeyHex)),e}(r);this.clientPrivateKey=c,this.clientPublicKey=l,this.clientPublicKeyHex=be(l),this.rpcClient=new Fe(this,n),this.endpoint=e,this.verbose=o,this.tag=s,this.sentCount=0,this.receivedCount=0,this.successfulConnectsCount=0,a||(this.state=new xt(this),this.connectionState=new Tt(this)),this.connected=new Te,setTimeout((()=>{null==this.connected.get()&&this.connected.set(!1)}),700)}send(e){Ee({data:e,connector:this}),this.sentCount+=1}signal(e,t){this.connected.get()?this.send({signal:e,data:t}):this.log("Warning: trying to send signal over disconnected connector, this should be prevented by GUI")}on(e,t){"ready"==e&&this.isReady()&&t(),super.on(e,t)}getSharedSecret(){return this.sharedSecret?be(this.sharedSecret):void 0}wireReceive({jsonData:e,encryptedData:t,rawMessage:r}){Ae({jsonData:e,encryptedData:t,rawMessage:r,connector:this}),this.receivedCount+=1}field(e){return this.connectionState.get(e)}isReady(){return this.ready}closed(){return!this.transportConnected}decommission(){this.decommissioned=!0}connectStatus(e){if(e){this.sentCount=0,this.receivedCount=0,this.transportConnected=!0,this.successfulConnectsCount+=1;const e=this.successfulConnectsCount;this.diffieHellman({clientPrivateKey:this.clientPrivateKey,clientPublicKey:this.clientPublicKey,protocol:this.protocol}).then((()=>{this.connectedAt=Date.now(),this.connected.set(!0),this.ready=!0,this.emit("ready")})).catch((t=>{e==this.successfulConnectsCount&&(this.log(t),this.log("dropping connection and retrying"),this.connection.terminate())}))}else{let e;if(this.transportConnected&&(e=!0),null==this.transportConnected){const e=this.tag?` (${this.tag})`:"";this.log(`Connector ${this.endpoint}${e} was not able to connect at first try, setting READY to false`)}this.transportConnected=!1,this.ready=!1,this.sharedSecret=void 0,delete this.connectedAt,e&&(this.emit("disconnect"),this.connected.set(!1))}}remoteObject(e){return{call:(t,r=[])=>{return this.rpcClient.remoteObject(e).call(t,void 0===(n=r)||null==n?[]:Array.isArray(n)?n:[n]);var n}}}attachObject(e,t){new Ye({serversideChannel:this,serverMethods:t,methodPrefix:e})}diffieHellman({clientPrivateKey:e,clientPublicKey:t,protocol:r}){return new Promise(((t,n)=>{this.remoteObject("Auth").call("exchangePubkeys",{pubkey:this.clientPublicKeyHex}).then((o=>{const s=de.box.before(_e(o),e);this.sharedSecret=s,this._remotePubkeyHex=o,this.verbose&&this.log(`Connector ${this.endpoint}: Established shared secret through diffie-hellman exchange:`),this.remoteObject("Auth").call("finalizeHandshake",{protocol:r}).then((e=>{if(e&&e.error)this.log(`x Protocol ${this.protocol} error:`),this.log(e.error);else{t();const e=this.tag?` (${this.tag})`:"";this.log(`✓ Protocol [ ${this.protocol||'"no-name"'} ] connection [ ${this.endpoint}${e} ] ready`)}})).catch((e=>{this.log(`x Protocol ${this.protocol} finalizeHandshake error:`),n(e)}))})).catch(n)}))}clientPubkey(){return this.clientPublicKeyHex}remotePubkeyHex(){return this._remotePubkeyHex}remoteAddress(){return this.endpoint}}const Ot="undefined"!=typeof window;const Pt="undefined"!=typeof window;function St({endpoint:e,host:t,port:r,protocol:n,keypair:o,remotePubkey:s,rpcRequestTimeout:i,verbose:a,tag:c,dummy:l},{WebSocket:h,log:u}){e=function({endpoint:e,host:t,port:r}){Ot&&e&&e.startsWith("/")&&(e=`${window.location.protocol.includes("s")?"wss":"ws"}://${window.location.host}${e}`);if(!e)if(Ot){t=t||window.location.hostname;const n=window.location.protocol.includes("s")?"wss":"ws";e=`${n}://${t}`,"wss"==n?e=`${n}://${t}/ws`:r?e=`${e}:${r}`:window.location.port&&(e=`${e}:${window.location.port}`)}else{if(!r)throw new Error(`Connectome determineEndpoint: No websocket port provided for ${t}`);e=`ws://${t||"localhost"}:${r}`}return e}({endpoint:e,host:t,port:r});const f=new kt({endpoint:e,protocol:n,rpcRequestTimeout:i,keypair:o,verbose:a,tag:c,log:u,dummy:l});f.connection={terminate(){this.websocket._removeAllCallbacks(),this.websocket.close(),f.connectStatus(!1)},endpoint:e,checkTicker:0},setTimeout((()=>Nt({connector:f,endpoint:e},{WebSocket:h,log:u})),10);const d=()=>{f.decommissioned||(!function({connector:e,endpoint:t},{WebSocket:r,log:n}){const o=e.connection;if(It(o)||e.decommissioned)return It(o)?n(`Connection ${e.connection.endpoint} became idle, closing websocket ${o.websocket.rand}`):n(`Connection ${e.connection.endpoint} decommisioned, closing websocket ${o.websocket.rand}, will not retry again `),void o.terminate();Rt(o)?o.websocket.send("ping"):(null==e.connected&&(n("Setting connector status to FALSE because connector.connected is undefined"),e.connectStatus(!1)),Nt({connector:e,endpoint:t},{WebSocket:r,log:n}));o.checkTicker+=1}({connector:f,endpoint:e},{WebSocket:h,log:u}),setTimeout(d,1500))};return setTimeout(d,1500),f}function Nt({connector:e,endpoint:t},{WebSocket:r,log:n}){const o=e.connection;if(o.currentlyTryingWS&&0==o.currentlyTryingWS.readyState){if(3!=o.currentlyTryingWS._waitForConnectCounter)return void(o.currentlyTryingWS._waitForConnectCounter+=1);o.currentlyTryingWS._removeAllCallbacks(),o.currentlyTryingWS.close()}const s=new r(t);o.currentlyTryingWS=s,o.currentlyTryingWS._waitForConnectCounter=0,s.rand=Math.random(),Pt&&(s.binaryType="arraybuffer"),Pt||s.on("error",(e=>{}));const i=t=>{o.currentlyTryingWS=null,o.checkTicker=0,function({ws:e,connector:t,openCallback:r},{log:n}){const o=t.connection,s=r=>{n(`websocket ${e.rand} conn ${t.connection.endpoint} error`),n(r)},i=e=>{t.connectStatus(!1)},a=e=>{o.checkTicker=0;const r=Pt?e.data:e;if("pong"==r)return;let n;try{n=JSON.parse(r)}catch(s){}if(n)t.wireReceive({jsonData:n,rawMessage:r});else{const e=Pt?new Uint8Array(r):r;t.wireReceive({encryptedData:e})}};e._removeAllCallbacks=()=>{e.removeEventListener("error",s),e.removeEventListener("close",i),e.removeEventListener("message",a),e.removeEventListener("open",r)},Pt?(e.addEventListener("error",s),e.addEventListener("close",i),e.addEventListener("message",a)):(e.on("error",s),e.on("close",i),e.on("message",a))}({ws:s,connector:e,openCallback:i},{log:n}),o.websocket=s,e.connectStatus(!0)};s._removeAllCallbacks=()=>{s.removeEventListener("open",i)},Pt?s.addEventListener("open",i):s.on("open",i)}function Rt(e){return e.websocket&&1==e.websocket.readyState}function It(e){return Rt(e)&&e.checkTicker>5}function Ut(e){console.log(`${(new Date).toLocaleString()} → ${e}`)}function Ct(e){return St(e,{WebSocket:WebSocket,log:e.log||Ut})}class Dt{constructor(e,t){this.num=e,this.callback=t,this.counter=0}oneConditionFulfilled(){this.counter+=1,this.counter==this.num&&this.callback()}}var Mt=Object.freeze({__proto__:null,promiseTimeout:function(e,t){const r=new Promise(((t,r)=>{const n=setTimeout((()=>{clearTimeout(n),r(new Error(`Timed out in ${e} ms.`))}),e)}));return Promise.race([t,r])},requireConditions:function(e,t){return new Dt(e,t)}});function jt(){}class Lt{constructor(e,t,r){this.prev=e,this.next=t,this.fn=r||jt}run(e){this.fn(e),this.next&&this.next.run(e)}}class Vt{constructor(e){this.head=new Lt,this.tail=new Lt(this.head),this.head.next=this.tail,this.linkConstructor=e,this.reg={}}insert(e){const t=new Lt(this.tail.prev,this.tail,e);return t.next.prev=t,t.prev.next=t,t}remove(e){e.prev.next=e.next,e.next.prev=e.prev}}let Bt=0;var zt="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function qt(e,t,r){return e(r={path:t,exports:{},require:function(e,t){return Ft(null==t&&r.path)}},r.exports),r.exports}function Kt(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach((function(r){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})})),t}function Ft(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var Yt=Kt(Object.freeze({__proto__:null,default:{}})),Ht=qt((function(e){!function(e){var t=function(e){var t,r=new Float64Array(16);if(e)for(t=0;t<e.length;t++)r[t]=e[t];return r},r=function(){throw new Error("no PRNG")},n=new Uint8Array(16),o=new Uint8Array(32);o[0]=9;var s=t(),i=t([1]),a=t([56129,1]),c=t([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),l=t([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),h=t([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),u=t([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),f=t([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function d(e,t,r,n){e[t]=r>>24&255,e[t+1]=r>>16&255,e[t+2]=r>>8&255,e[t+3]=255&r,e[t+4]=n>>24&255,e[t+5]=n>>16&255,e[t+6]=n>>8&255,e[t+7]=255&n}function p(e,t,r,n,o){var s,i=0;for(s=0;s<o;s++)i|=e[t+s]^r[n+s];return(1&i-1>>>8)-1}function v(e,t,r,n){return p(e,t,r,n,16)}function m(e,t,r,n){return p(e,t,r,n,32)}function g(e,t,r,n){!function(e,t,r,n){for(var o,s=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,i=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,a=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,c=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,l=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,h=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,u=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,f=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,d=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,p=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,v=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,m=255&r[16]|(255&r[17])<<8|(255&r[18])<<16|(255&r[19])<<24,g=255&r[20]|(255&r[21])<<8|(255&r[22])<<16|(255&r[23])<<24,y=255&r[24]|(255&r[25])<<8|(255&r[26])<<16|(255&r[27])<<24,w=255&r[28]|(255&r[29])<<8|(255&r[30])<<16|(255&r[31])<<24,b=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,_=s,$=i,E=a,A=c,x=l,T=h,k=u,O=f,P=d,S=p,N=v,R=m,I=g,U=y,C=w,D=b,M=0;M<20;M+=2)_^=(o=(I^=(o=(P^=(o=(x^=(o=_+I|0)<<7|o>>>25)+_|0)<<9|o>>>23)+x|0)<<13|o>>>19)+P|0)<<18|o>>>14,T^=(o=($^=(o=(U^=(o=(S^=(o=T+$|0)<<7|o>>>25)+T|0)<<9|o>>>23)+S|0)<<13|o>>>19)+U|0)<<18|o>>>14,N^=(o=(k^=(o=(E^=(o=(C^=(o=N+k|0)<<7|o>>>25)+N|0)<<9|o>>>23)+C|0)<<13|o>>>19)+E|0)<<18|o>>>14,D^=(o=(R^=(o=(O^=(o=(A^=(o=D+R|0)<<7|o>>>25)+D|0)<<9|o>>>23)+A|0)<<13|o>>>19)+O|0)<<18|o>>>14,_^=(o=(A^=(o=(E^=(o=($^=(o=_+A|0)<<7|o>>>25)+_|0)<<9|o>>>23)+$|0)<<13|o>>>19)+E|0)<<18|o>>>14,T^=(o=(x^=(o=(O^=(o=(k^=(o=T+x|0)<<7|o>>>25)+T|0)<<9|o>>>23)+k|0)<<13|o>>>19)+O|0)<<18|o>>>14,N^=(o=(S^=(o=(P^=(o=(R^=(o=N+S|0)<<7|o>>>25)+N|0)<<9|o>>>23)+R|0)<<13|o>>>19)+P|0)<<18|o>>>14,D^=(o=(C^=(o=(U^=(o=(I^=(o=D+C|0)<<7|o>>>25)+D|0)<<9|o>>>23)+I|0)<<13|o>>>19)+U|0)<<18|o>>>14;_=_+s|0,$=$+i|0,E=E+a|0,A=A+c|0,x=x+l|0,T=T+h|0,k=k+u|0,O=O+f|0,P=P+d|0,S=S+p|0,N=N+v|0,R=R+m|0,I=I+g|0,U=U+y|0,C=C+w|0,D=D+b|0,e[0]=_>>>0&255,e[1]=_>>>8&255,e[2]=_>>>16&255,e[3]=_>>>24&255,e[4]=$>>>0&255,e[5]=$>>>8&255,e[6]=$>>>16&255,e[7]=$>>>24&255,e[8]=E>>>0&255,e[9]=E>>>8&255,e[10]=E>>>16&255,e[11]=E>>>24&255,e[12]=A>>>0&255,e[13]=A>>>8&255,e[14]=A>>>16&255,e[15]=A>>>24&255,e[16]=x>>>0&255,e[17]=x>>>8&255,e[18]=x>>>16&255,e[19]=x>>>24&255,e[20]=T>>>0&255,e[21]=T>>>8&255,e[22]=T>>>16&255,e[23]=T>>>24&255,e[24]=k>>>0&255,e[25]=k>>>8&255,e[26]=k>>>16&255,e[27]=k>>>24&255,e[28]=O>>>0&255,e[29]=O>>>8&255,e[30]=O>>>16&255,e[31]=O>>>24&255,e[32]=P>>>0&255,e[33]=P>>>8&255,e[34]=P>>>16&255,e[35]=P>>>24&255,e[36]=S>>>0&255,e[37]=S>>>8&255,e[38]=S>>>16&255,e[39]=S>>>24&255,e[40]=N>>>0&255,e[41]=N>>>8&255,e[42]=N>>>16&255,e[43]=N>>>24&255,e[44]=R>>>0&255,e[45]=R>>>8&255,e[46]=R>>>16&255,e[47]=R>>>24&255,e[48]=I>>>0&255,e[49]=I>>>8&255,e[50]=I>>>16&255,e[51]=I>>>24&255,e[52]=U>>>0&255,e[53]=U>>>8&255,e[54]=U>>>16&255,e[55]=U>>>24&255,e[56]=C>>>0&255,e[57]=C>>>8&255,e[58]=C>>>16&255,e[59]=C>>>24&255,e[60]=D>>>0&255,e[61]=D>>>8&255,e[62]=D>>>16&255,e[63]=D>>>24&255}(e,t,r,n)}function y(e,t,r,n){!function(e,t,r,n){for(var o,s=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,i=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,a=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,c=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,l=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,h=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,u=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,f=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,d=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,p=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,v=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,m=255&r[16]|(255&r[17])<<8|(255&r[18])<<16|(255&r[19])<<24,g=255&r[20]|(255&r[21])<<8|(255&r[22])<<16|(255&r[23])<<24,y=255&r[24]|(255&r[25])<<8|(255&r[26])<<16|(255&r[27])<<24,w=255&r[28]|(255&r[29])<<8|(255&r[30])<<16|(255&r[31])<<24,b=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,_=0;_<20;_+=2)s^=(o=(g^=(o=(d^=(o=(l^=(o=s+g|0)<<7|o>>>25)+s|0)<<9|o>>>23)+l|0)<<13|o>>>19)+d|0)<<18|o>>>14,h^=(o=(i^=(o=(y^=(o=(p^=(o=h+i|0)<<7|o>>>25)+h|0)<<9|o>>>23)+p|0)<<13|o>>>19)+y|0)<<18|o>>>14,v^=(o=(u^=(o=(a^=(o=(w^=(o=v+u|0)<<7|o>>>25)+v|0)<<9|o>>>23)+w|0)<<13|o>>>19)+a|0)<<18|o>>>14,b^=(o=(m^=(o=(f^=(o=(c^=(o=b+m|0)<<7|o>>>25)+b|0)<<9|o>>>23)+c|0)<<13|o>>>19)+f|0)<<18|o>>>14,s^=(o=(c^=(o=(a^=(o=(i^=(o=s+c|0)<<7|o>>>25)+s|0)<<9|o>>>23)+i|0)<<13|o>>>19)+a|0)<<18|o>>>14,h^=(o=(l^=(o=(f^=(o=(u^=(o=h+l|0)<<7|o>>>25)+h|0)<<9|o>>>23)+u|0)<<13|o>>>19)+f|0)<<18|o>>>14,v^=(o=(p^=(o=(d^=(o=(m^=(o=v+p|0)<<7|o>>>25)+v|0)<<9|o>>>23)+m|0)<<13|o>>>19)+d|0)<<18|o>>>14,b^=(o=(w^=(o=(y^=(o=(g^=(o=b+w|0)<<7|o>>>25)+b|0)<<9|o>>>23)+g|0)<<13|o>>>19)+y|0)<<18|o>>>14;e[0]=s>>>0&255,e[1]=s>>>8&255,e[2]=s>>>16&255,e[3]=s>>>24&255,e[4]=h>>>0&255,e[5]=h>>>8&255,e[6]=h>>>16&255,e[7]=h>>>24&255,e[8]=v>>>0&255,e[9]=v>>>8&255,e[10]=v>>>16&255,e[11]=v>>>24&255,e[12]=b>>>0&255,e[13]=b>>>8&255,e[14]=b>>>16&255,e[15]=b>>>24&255,e[16]=u>>>0&255,e[17]=u>>>8&255,e[18]=u>>>16&255,e[19]=u>>>24&255,e[20]=f>>>0&255,e[21]=f>>>8&255,e[22]=f>>>16&255,e[23]=f>>>24&255,e[24]=d>>>0&255,e[25]=d>>>8&255,e[26]=d>>>16&255,e[27]=d>>>24&255,e[28]=p>>>0&255,e[29]=p>>>8&255,e[30]=p>>>16&255,e[31]=p>>>24&255}(e,t,r,n)}var w=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function b(e,t,r,n,o,s,i){var a,c,l=new Uint8Array(16),h=new Uint8Array(64);for(c=0;c<16;c++)l[c]=0;for(c=0;c<8;c++)l[c]=s[c];for(;o>=64;){for(g(h,l,i,w),c=0;c<64;c++)e[t+c]=r[n+c]^h[c];for(a=1,c=8;c<16;c++)a=a+(255&l[c])|0,l[c]=255&a,a>>>=8;o-=64,t+=64,n+=64}if(o>0)for(g(h,l,i,w),c=0;c<o;c++)e[t+c]=r[n+c]^h[c];return 0}function _(e,t,r,n,o){var s,i,a=new Uint8Array(16),c=new Uint8Array(64);for(i=0;i<16;i++)a[i]=0;for(i=0;i<8;i++)a[i]=n[i];for(;r>=64;){for(g(c,a,o,w),i=0;i<64;i++)e[t+i]=c[i];for(s=1,i=8;i<16;i++)s=s+(255&a[i])|0,a[i]=255&s,s>>>=8;r-=64,t+=64}if(r>0)for(g(c,a,o,w),i=0;i<r;i++)e[t+i]=c[i];return 0}function $(e,t,r,n,o){var s=new Uint8Array(32);y(s,n,o,w);for(var i=new Uint8Array(8),a=0;a<8;a++)i[a]=n[a+16];return _(e,t,r,i,s)}function E(e,t,r,n,o,s,i){var a=new Uint8Array(32);y(a,s,i,w);for(var c=new Uint8Array(8),l=0;l<8;l++)c[l]=s[l+16];return b(e,t,r,n,o,c,a)}var A=function(e){var t,r,n,o,s,i,a,c;this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0,t=255&e[0]|(255&e[1])<<8,this.r[0]=8191&t,r=255&e[2]|(255&e[3])<<8,this.r[1]=8191&(t>>>13|r<<3),n=255&e[4]|(255&e[5])<<8,this.r[2]=7939&(r>>>10|n<<6),o=255&e[6]|(255&e[7])<<8,this.r[3]=8191&(n>>>7|o<<9),s=255&e[8]|(255&e[9])<<8,this.r[4]=255&(o>>>4|s<<12),this.r[5]=s>>>1&8190,i=255&e[10]|(255&e[11])<<8,this.r[6]=8191&(s>>>14|i<<2),a=255&e[12]|(255&e[13])<<8,this.r[7]=8065&(i>>>11|a<<5),c=255&e[14]|(255&e[15])<<8,this.r[8]=8191&(a>>>8|c<<8),this.r[9]=c>>>5&127,this.pad[0]=255&e[16]|(255&e[17])<<8,this.pad[1]=255&e[18]|(255&e[19])<<8,this.pad[2]=255&e[20]|(255&e[21])<<8,this.pad[3]=255&e[22]|(255&e[23])<<8,this.pad[4]=255&e[24]|(255&e[25])<<8,this.pad[5]=255&e[26]|(255&e[27])<<8,this.pad[6]=255&e[28]|(255&e[29])<<8,this.pad[7]=255&e[30]|(255&e[31])<<8};function x(e,t,r,n,o,s){var i=new A(s);return i.update(r,n,o),i.finish(e,t),0}function T(e,t,r,n,o,s){var i=new Uint8Array(16);return x(i,0,r,n,o,s),v(e,t,i,0)}function k(e,t,r,n,o){var s;if(r<32)return-1;for(E(e,0,t,0,r,n,o),x(e,16,e,32,r-32,e),s=0;s<16;s++)e[s]=0;return 0}function O(e,t,r,n,o){var s,i=new Uint8Array(32);if(r<32)return-1;if($(i,0,32,n,o),0!==T(t,16,t,32,r-32,i))return-1;for(E(e,0,t,0,r,n,o),s=0;s<32;s++)e[s]=0;return 0}function P(e,t){var r;for(r=0;r<16;r++)e[r]=0|t[r]}function S(e){var t,r,n=1;for(t=0;t<16;t++)r=e[t]+n+65535,n=Math.floor(r/65536),e[t]=r-65536*n;e[0]+=n-1+37*(n-1)}function N(e,t,r){for(var n,o=~(r-1),s=0;s<16;s++)n=o&(e[s]^t[s]),e[s]^=n,t[s]^=n}function R(e,r){var n,o,s,i=t(),a=t();for(n=0;n<16;n++)a[n]=r[n];for(S(a),S(a),S(a),o=0;o<2;o++){for(i[0]=a[0]-65517,n=1;n<15;n++)i[n]=a[n]-65535-(i[n-1]>>16&1),i[n-1]&=65535;i[15]=a[15]-32767-(i[14]>>16&1),s=i[15]>>16&1,i[14]&=65535,N(a,i,1-s)}for(n=0;n<16;n++)e[2*n]=255&a[n],e[2*n+1]=a[n]>>8}function I(e,t){var r=new Uint8Array(32),n=new Uint8Array(32);return R(r,e),R(n,t),m(r,0,n,0)}function U(e){var t=new Uint8Array(32);return R(t,e),1&t[0]}function C(e,t){var r;for(r=0;r<16;r++)e[r]=t[2*r]+(t[2*r+1]<<8);e[15]&=32767}function D(e,t,r){for(var n=0;n<16;n++)e[n]=t[n]+r[n]}function M(e,t,r){for(var n=0;n<16;n++)e[n]=t[n]-r[n]}function j(e,t,r){var n,o,s=0,i=0,a=0,c=0,l=0,h=0,u=0,f=0,d=0,p=0,v=0,m=0,g=0,y=0,w=0,b=0,_=0,$=0,E=0,A=0,x=0,T=0,k=0,O=0,P=0,S=0,N=0,R=0,I=0,U=0,C=0,D=r[0],M=r[1],j=r[2],L=r[3],V=r[4],B=r[5],z=r[6],q=r[7],K=r[8],F=r[9],Y=r[10],H=r[11],W=r[12],J=r[13],Q=r[14],G=r[15];s+=(n=t[0])*D,i+=n*M,a+=n*j,c+=n*L,l+=n*V,h+=n*B,u+=n*z,f+=n*q,d+=n*K,p+=n*F,v+=n*Y,m+=n*H,g+=n*W,y+=n*J,w+=n*Q,b+=n*G,i+=(n=t[1])*D,a+=n*M,c+=n*j,l+=n*L,h+=n*V,u+=n*B,f+=n*z,d+=n*q,p+=n*K,v+=n*F,m+=n*Y,g+=n*H,y+=n*W,w+=n*J,b+=n*Q,_+=n*G,a+=(n=t[2])*D,c+=n*M,l+=n*j,h+=n*L,u+=n*V,f+=n*B,d+=n*z,p+=n*q,v+=n*K,m+=n*F,g+=n*Y,y+=n*H,w+=n*W,b+=n*J,_+=n*Q,$+=n*G,c+=(n=t[3])*D,l+=n*M,h+=n*j,u+=n*L,f+=n*V,d+=n*B,p+=n*z,v+=n*q,m+=n*K,g+=n*F,y+=n*Y,w+=n*H,b+=n*W,_+=n*J,$+=n*Q,E+=n*G,l+=(n=t[4])*D,h+=n*M,u+=n*j,f+=n*L,d+=n*V,p+=n*B,v+=n*z,m+=n*q,g+=n*K,y+=n*F,w+=n*Y,b+=n*H,_+=n*W,$+=n*J,E+=n*Q,A+=n*G,h+=(n=t[5])*D,u+=n*M,f+=n*j,d+=n*L,p+=n*V,v+=n*B,m+=n*z,g+=n*q,y+=n*K,w+=n*F,b+=n*Y,_+=n*H,$+=n*W,E+=n*J,A+=n*Q,x+=n*G,u+=(n=t[6])*D,f+=n*M,d+=n*j,p+=n*L,v+=n*V,m+=n*B,g+=n*z,y+=n*q,w+=n*K,b+=n*F,_+=n*Y,$+=n*H,E+=n*W,A+=n*J,x+=n*Q,T+=n*G,f+=(n=t[7])*D,d+=n*M,p+=n*j,v+=n*L,m+=n*V,g+=n*B,y+=n*z,w+=n*q,b+=n*K,_+=n*F,$+=n*Y,E+=n*H,A+=n*W,x+=n*J,T+=n*Q,k+=n*G,d+=(n=t[8])*D,p+=n*M,v+=n*j,m+=n*L,g+=n*V,y+=n*B,w+=n*z,b+=n*q,_+=n*K,$+=n*F,E+=n*Y,A+=n*H,x+=n*W,T+=n*J,k+=n*Q,O+=n*G,p+=(n=t[9])*D,v+=n*M,m+=n*j,g+=n*L,y+=n*V,w+=n*B,b+=n*z,_+=n*q,$+=n*K,E+=n*F,A+=n*Y,x+=n*H,T+=n*W,k+=n*J,O+=n*Q,P+=n*G,v+=(n=t[10])*D,m+=n*M,g+=n*j,y+=n*L,w+=n*V,b+=n*B,_+=n*z,$+=n*q,E+=n*K,A+=n*F,x+=n*Y,T+=n*H,k+=n*W,O+=n*J,P+=n*Q,S+=n*G,m+=(n=t[11])*D,g+=n*M,y+=n*j,w+=n*L,b+=n*V,_+=n*B,$+=n*z,E+=n*q,A+=n*K,x+=n*F,T+=n*Y,k+=n*H,O+=n*W,P+=n*J,S+=n*Q,N+=n*G,g+=(n=t[12])*D,y+=n*M,w+=n*j,b+=n*L,_+=n*V,$+=n*B,E+=n*z,A+=n*q,x+=n*K,T+=n*F,k+=n*Y,O+=n*H,P+=n*W,S+=n*J,N+=n*Q,R+=n*G,y+=(n=t[13])*D,w+=n*M,b+=n*j,_+=n*L,$+=n*V,E+=n*B,A+=n*z,x+=n*q,T+=n*K,k+=n*F,O+=n*Y,P+=n*H,S+=n*W,N+=n*J,R+=n*Q,I+=n*G,w+=(n=t[14])*D,b+=n*M,_+=n*j,$+=n*L,E+=n*V,A+=n*B,x+=n*z,T+=n*q,k+=n*K,O+=n*F,P+=n*Y,S+=n*H,N+=n*W,R+=n*J,I+=n*Q,U+=n*G,b+=(n=t[15])*D,i+=38*($+=n*j),a+=38*(E+=n*L),c+=38*(A+=n*V),l+=38*(x+=n*B),h+=38*(T+=n*z),u+=38*(k+=n*q),f+=38*(O+=n*K),d+=38*(P+=n*F),p+=38*(S+=n*Y),v+=38*(N+=n*H),m+=38*(R+=n*W),g+=38*(I+=n*J),y+=38*(U+=n*Q),w+=38*(C+=n*G),s=(n=(s+=38*(_+=n*M))+(o=1)+65535)-65536*(o=Math.floor(n/65536)),i=(n=i+o+65535)-65536*(o=Math.floor(n/65536)),a=(n=a+o+65535)-65536*(o=Math.floor(n/65536)),c=(n=c+o+65535)-65536*(o=Math.floor(n/65536)),l=(n=l+o+65535)-65536*(o=Math.floor(n/65536)),h=(n=h+o+65535)-65536*(o=Math.floor(n/65536)),u=(n=u+o+65535)-65536*(o=Math.floor(n/65536)),f=(n=f+o+65535)-65536*(o=Math.floor(n/65536)),d=(n=d+o+65535)-65536*(o=Math.floor(n/65536)),p=(n=p+o+65535)-65536*(o=Math.floor(n/65536)),v=(n=v+o+65535)-65536*(o=Math.floor(n/65536)),m=(n=m+o+65535)-65536*(o=Math.floor(n/65536)),g=(n=g+o+65535)-65536*(o=Math.floor(n/65536)),y=(n=y+o+65535)-65536*(o=Math.floor(n/65536)),w=(n=w+o+65535)-65536*(o=Math.floor(n/65536)),b=(n=b+o+65535)-65536*(o=Math.floor(n/65536)),s=(n=(s+=o-1+37*(o-1))+(o=1)+65535)-65536*(o=Math.floor(n/65536)),i=(n=i+o+65535)-65536*(o=Math.floor(n/65536)),a=(n=a+o+65535)-65536*(o=Math.floor(n/65536)),c=(n=c+o+65535)-65536*(o=Math.floor(n/65536)),l=(n=l+o+65535)-65536*(o=Math.floor(n/65536)),h=(n=h+o+65535)-65536*(o=Math.floor(n/65536)),u=(n=u+o+65535)-65536*(o=Math.floor(n/65536)),f=(n=f+o+65535)-65536*(o=Math.floor(n/65536)),d=(n=d+o+65535)-65536*(o=Math.floor(n/65536)),p=(n=p+o+65535)-65536*(o=Math.floor(n/65536)),v=(n=v+o+65535)-65536*(o=Math.floor(n/65536)),m=(n=m+o+65535)-65536*(o=Math.floor(n/65536)),g=(n=g+o+65535)-65536*(o=Math.floor(n/65536)),y=(n=y+o+65535)-65536*(o=Math.floor(n/65536)),w=(n=w+o+65535)-65536*(o=Math.floor(n/65536)),b=(n=b+o+65535)-65536*(o=Math.floor(n/65536)),s+=o-1+37*(o-1),e[0]=s,e[1]=i,e[2]=a,e[3]=c,e[4]=l,e[5]=h,e[6]=u,e[7]=f,e[8]=d,e[9]=p,e[10]=v,e[11]=m,e[12]=g,e[13]=y,e[14]=w,e[15]=b}function L(e,t){j(e,t,t)}function V(e,r){var n,o=t();for(n=0;n<16;n++)o[n]=r[n];for(n=253;n>=0;n--)L(o,o),2!==n&&4!==n&&j(o,o,r);for(n=0;n<16;n++)e[n]=o[n]}function B(e,r){var n,o=t();for(n=0;n<16;n++)o[n]=r[n];for(n=250;n>=0;n--)L(o,o),1!==n&&j(o,o,r);for(n=0;n<16;n++)e[n]=o[n]}function z(e,r,n){var o,s,i=new Uint8Array(32),c=new Float64Array(80),l=t(),h=t(),u=t(),f=t(),d=t(),p=t();for(s=0;s<31;s++)i[s]=r[s];for(i[31]=127&r[31]|64,i[0]&=248,C(c,n),s=0;s<16;s++)h[s]=c[s],f[s]=l[s]=u[s]=0;for(l[0]=f[0]=1,s=254;s>=0;--s)N(l,h,o=i[s>>>3]>>>(7&s)&1),N(u,f,o),D(d,l,u),M(l,l,u),D(u,h,f),M(h,h,f),L(f,d),L(p,l),j(l,u,l),j(u,h,d),D(d,l,u),M(l,l,u),L(h,l),M(u,f,p),j(l,u,a),D(l,l,f),j(u,u,l),j(l,f,p),j(f,h,c),L(h,d),N(l,h,o),N(u,f,o);for(s=0;s<16;s++)c[s+16]=l[s],c[s+32]=u[s],c[s+48]=h[s],c[s+64]=f[s];var v=c.subarray(32),m=c.subarray(16);return V(v,v),j(m,m,v),R(e,m),0}function q(e,t){return z(e,t,o)}function K(e,t){return r(t,32),q(e,t)}function F(e,t,r){var o=new Uint8Array(32);return z(o,r,t),y(e,n,o,w)}A.prototype.blocks=function(e,t,r){for(var n,o,s,i,a,c,l,h,u,f,d,p,v,m,g,y,w,b,_,$=this.fin?0:2048,E=this.h[0],A=this.h[1],x=this.h[2],T=this.h[3],k=this.h[4],O=this.h[5],P=this.h[6],S=this.h[7],N=this.h[8],R=this.h[9],I=this.r[0],U=this.r[1],C=this.r[2],D=this.r[3],M=this.r[4],j=this.r[5],L=this.r[6],V=this.r[7],B=this.r[8],z=this.r[9];r>=16;)f=u=0,f+=(E+=8191&(n=255&e[t+0]|(255&e[t+1])<<8))*I,f+=(A+=8191&(n>>>13|(o=255&e[t+2]|(255&e[t+3])<<8)<<3))*(5*z),f+=(x+=8191&(o>>>10|(s=255&e[t+4]|(255&e[t+5])<<8)<<6))*(5*B),f+=(T+=8191&(s>>>7|(i=255&e[t+6]|(255&e[t+7])<<8)<<9))*(5*V),u=(f+=(k+=8191&(i>>>4|(a=255&e[t+8]|(255&e[t+9])<<8)<<12))*(5*L))>>>13,f&=8191,f+=(O+=a>>>1&8191)*(5*j),f+=(P+=8191&(a>>>14|(c=255&e[t+10]|(255&e[t+11])<<8)<<2))*(5*M),f+=(S+=8191&(c>>>11|(l=255&e[t+12]|(255&e[t+13])<<8)<<5))*(5*D),f+=(N+=8191&(l>>>8|(h=255&e[t+14]|(255&e[t+15])<<8)<<8))*(5*C),d=u+=(f+=(R+=h>>>5|$)*(5*U))>>>13,d+=E*U,d+=A*I,d+=x*(5*z),d+=T*(5*B),u=(d+=k*(5*V))>>>13,d&=8191,d+=O*(5*L),d+=P*(5*j),d+=S*(5*M),d+=N*(5*D),u+=(d+=R*(5*C))>>>13,d&=8191,p=u,p+=E*C,p+=A*U,p+=x*I,p+=T*(5*z),u=(p+=k*(5*B))>>>13,p&=8191,p+=O*(5*V),p+=P*(5*L),p+=S*(5*j),p+=N*(5*M),v=u+=(p+=R*(5*D))>>>13,v+=E*D,v+=A*C,v+=x*U,v+=T*I,u=(v+=k*(5*z))>>>13,v&=8191,v+=O*(5*B),v+=P*(5*V),v+=S*(5*L),v+=N*(5*j),m=u+=(v+=R*(5*M))>>>13,m+=E*M,m+=A*D,m+=x*C,m+=T*U,u=(m+=k*I)>>>13,m&=8191,m+=O*(5*z),m+=P*(5*B),m+=S*(5*V),m+=N*(5*L),g=u+=(m+=R*(5*j))>>>13,g+=E*j,g+=A*M,g+=x*D,g+=T*C,u=(g+=k*U)>>>13,g&=8191,g+=O*I,g+=P*(5*z),g+=S*(5*B),g+=N*(5*V),y=u+=(g+=R*(5*L))>>>13,y+=E*L,y+=A*j,y+=x*M,y+=T*D,u=(y+=k*C)>>>13,y&=8191,y+=O*U,y+=P*I,y+=S*(5*z),y+=N*(5*B),w=u+=(y+=R*(5*V))>>>13,w+=E*V,w+=A*L,w+=x*j,w+=T*M,u=(w+=k*D)>>>13,w&=8191,w+=O*C,w+=P*U,w+=S*I,w+=N*(5*z),b=u+=(w+=R*(5*B))>>>13,b+=E*B,b+=A*V,b+=x*L,b+=T*j,u=(b+=k*M)>>>13,b&=8191,b+=O*D,b+=P*C,b+=S*U,b+=N*I,_=u+=(b+=R*(5*z))>>>13,_+=E*z,_+=A*B,_+=x*V,_+=T*L,u=(_+=k*j)>>>13,_&=8191,_+=O*M,_+=P*D,_+=S*C,_+=N*U,E=f=8191&(u=(u=((u+=(_+=R*I)>>>13)<<2)+u|0)+(f&=8191)|0),A=d+=u>>>=13,x=p&=8191,T=v&=8191,k=m&=8191,O=g&=8191,P=y&=8191,S=w&=8191,N=b&=8191,R=_&=8191,t+=16,r-=16;this.h[0]=E,this.h[1]=A,this.h[2]=x,this.h[3]=T,this.h[4]=k,this.h[5]=O,this.h[6]=P,this.h[7]=S,this.h[8]=N,this.h[9]=R},A.prototype.finish=function(e,t){var r,n,o,s,i=new Uint16Array(10);if(this.leftover){for(s=this.leftover,this.buffer[s++]=1;s<16;s++)this.buffer[s]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(r=this.h[1]>>>13,this.h[1]&=8191,s=2;s<10;s++)this.h[s]+=r,r=this.h[s]>>>13,this.h[s]&=8191;for(this.h[0]+=5*r,r=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=r,r=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=r,i[0]=this.h[0]+5,r=i[0]>>>13,i[0]&=8191,s=1;s<10;s++)i[s]=this.h[s]+r,r=i[s]>>>13,i[s]&=8191;for(i[9]-=8192,n=(1^r)-1,s=0;s<10;s++)i[s]&=n;for(n=~n,s=0;s<10;s++)this.h[s]=this.h[s]&n|i[s];for(this.h[0]=65535&(this.h[0]|this.h[1]<<13),this.h[1]=65535&(this.h[1]>>>3|this.h[2]<<10),this.h[2]=65535&(this.h[2]>>>6|this.h[3]<<7),this.h[3]=65535&(this.h[3]>>>9|this.h[4]<<4),this.h[4]=65535&(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14),this.h[5]=65535&(this.h[6]>>>2|this.h[7]<<11),this.h[6]=65535&(this.h[7]>>>5|this.h[8]<<8),this.h[7]=65535&(this.h[8]>>>8|this.h[9]<<5),o=this.h[0]+this.pad[0],this.h[0]=65535&o,s=1;s<8;s++)o=(this.h[s]+this.pad[s]|0)+(o>>>16)|0,this.h[s]=65535&o;e[t+0]=this.h[0]>>>0&255,e[t+1]=this.h[0]>>>8&255,e[t+2]=this.h[1]>>>0&255,e[t+3]=this.h[1]>>>8&255,e[t+4]=this.h[2]>>>0&255,e[t+5]=this.h[2]>>>8&255,e[t+6]=this.h[3]>>>0&255,e[t+7]=this.h[3]>>>8&255,e[t+8]=this.h[4]>>>0&255,e[t+9]=this.h[4]>>>8&255,e[t+10]=this.h[5]>>>0&255,e[t+11]=this.h[5]>>>8&255,e[t+12]=this.h[6]>>>0&255,e[t+13]=this.h[6]>>>8&255,e[t+14]=this.h[7]>>>0&255,e[t+15]=this.h[7]>>>8&255},A.prototype.update=function(e,t,r){var n,o;if(this.leftover){for((o=16-this.leftover)>r&&(o=r),n=0;n<o;n++)this.buffer[this.leftover+n]=e[t+n];if(r-=o,t+=o,this.leftover+=o,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(r>=16&&(o=r-r%16,this.blocks(e,t,o),t+=o,r-=o),r){for(n=0;n<r;n++)this.buffer[this.leftover+n]=e[t+n];this.leftover+=r}};var Y=k,H=O;var W=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function J(e,t,r,n){for(var o,s,i,a,c,l,h,u,f,d,p,v,m,g,y,w,b,_,$,E,A,x,T,k,O,P,S=new Int32Array(16),N=new Int32Array(16),R=e[0],I=e[1],U=e[2],C=e[3],D=e[4],M=e[5],j=e[6],L=e[7],V=t[0],B=t[1],z=t[2],q=t[3],K=t[4],F=t[5],Y=t[6],H=t[7],J=0;n>=128;){for($=0;$<16;$++)E=8*$+J,S[$]=r[E+0]<<24|r[E+1]<<16|r[E+2]<<8|r[E+3],N[$]=r[E+4]<<24|r[E+5]<<16|r[E+6]<<8|r[E+7];for($=0;$<80;$++)if(o=R,s=I,i=U,a=C,c=D,l=M,h=j,L,f=V,d=B,p=z,v=q,m=K,g=F,y=Y,H,T=65535&(x=H),k=x>>>16,O=65535&(A=L),P=A>>>16,T+=65535&(x=(K>>>14|D<<18)^(K>>>18|D<<14)^(D>>>9|K<<23)),k+=x>>>16,O+=65535&(A=(D>>>14|K<<18)^(D>>>18|K<<14)^(K>>>9|D<<23)),P+=A>>>16,T+=65535&(x=K&F^~K&Y),k+=x>>>16,O+=65535&(A=D&M^~D&j),P+=A>>>16,T+=65535&(x=W[2*$+1]),k+=x>>>16,O+=65535&(A=W[2*$]),P+=A>>>16,A=S[$%16],k+=(x=N[$%16])>>>16,O+=65535&A,P+=A>>>16,O+=(k+=(T+=65535&x)>>>16)>>>16,T=65535&(x=_=65535&T|k<<16),k=x>>>16,O=65535&(A=b=65535&O|(P+=O>>>16)<<16),P=A>>>16,T+=65535&(x=(V>>>28|R<<4)^(R>>>2|V<<30)^(R>>>7|V<<25)),k+=x>>>16,O+=65535&(A=(R>>>28|V<<4)^(V>>>2|R<<30)^(V>>>7|R<<25)),P+=A>>>16,k+=(x=V&B^V&z^B&z)>>>16,O+=65535&(A=R&I^R&U^I&U),P+=A>>>16,u=65535&(O+=(k+=(T+=65535&x)>>>16)>>>16)|(P+=O>>>16)<<16,w=65535&T|k<<16,T=65535&(x=v),k=x>>>16,O=65535&(A=a),P=A>>>16,k+=(x=_)>>>16,O+=65535&(A=b),P+=A>>>16,I=o,U=s,C=i,D=a=65535&(O+=(k+=(T+=65535&x)>>>16)>>>16)|(P+=O>>>16)<<16,M=c,j=l,L=h,R=u,B=f,z=d,q=p,K=v=65535&T|k<<16,F=m,Y=g,H=y,V=w,$%16==15)for(E=0;E<16;E++)A=S[E],T=65535&(x=N[E]),k=x>>>16,O=65535&A,P=A>>>16,A=S[(E+9)%16],T+=65535&(x=N[(E+9)%16]),k+=x>>>16,O+=65535&A,P+=A>>>16,b=S[(E+1)%16],T+=65535&(x=((_=N[(E+1)%16])>>>1|b<<31)^(_>>>8|b<<24)^(_>>>7|b<<25)),k+=x>>>16,O+=65535&(A=(b>>>1|_<<31)^(b>>>8|_<<24)^b>>>7),P+=A>>>16,b=S[(E+14)%16],k+=(x=((_=N[(E+14)%16])>>>19|b<<13)^(b>>>29|_<<3)^(_>>>6|b<<26))>>>16,O+=65535&(A=(b>>>19|_<<13)^(_>>>29|b<<3)^b>>>6),P+=A>>>16,P+=(O+=(k+=(T+=65535&x)>>>16)>>>16)>>>16,S[E]=65535&O|P<<16,N[E]=65535&T|k<<16;T=65535&(x=V),k=x>>>16,O=65535&(A=R),P=A>>>16,A=e[0],k+=(x=t[0])>>>16,O+=65535&A,P+=A>>>16,P+=(O+=(k+=(T+=65535&x)>>>16)>>>16)>>>16,e[0]=R=65535&O|P<<16,t[0]=V=65535&T|k<<16,T=65535&(x=B),k=x>>>16,O=65535&(A=I),P=A>>>16,A=e[1],k+=(x=t[1])>>>16,O+=65535&A,P+=A>>>16,P+=(O+=(k+=(T+=65535&x)>>>16)>>>16)>>>16,e[1]=I=65535&O|P<<16,t[1]=B=65535&T|k<<16,T=65535&(x=z),k=x>>>16,O=65535&(A=U),P=A>>>16,A=e[2],k+=(x=t[2])>>>16,O+=65535&A,P+=A>>>16,P+=(O+=(k+=(T+=65535&x)>>>16)>>>16)>>>16,e[2]=U=65535&O|P<<16,t[2]=z=65535&T|k<<16,T=65535&(x=q),k=x>>>16,O=65535&(A=C),P=A>>>16,A=e[3],k+=(x=t[3])>>>16,O+=65535&A,P+=A>>>16,P+=(O+=(k+=(T+=65535&x)>>>16)>>>16)>>>16,e[3]=C=65535&O|P<<16,t[3]=q=65535&T|k<<16,T=65535&(x=K),k=x>>>16,O=65535&(A=D),P=A>>>16,A=e[4],k+=(x=t[4])>>>16,O+=65535&A,P+=A>>>16,P+=(O+=(k+=(T+=65535&x)>>>16)>>>16)>>>16,e[4]=D=65535&O|P<<16,t[4]=K=65535&T|k<<16,T=65535&(x=F),k=x>>>16,O=65535&(A=M),P=A>>>16,A=e[5],k+=(x=t[5])>>>16,O+=65535&A,P+=A>>>16,P+=(O+=(k+=(T+=65535&x)>>>16)>>>16)>>>16,e[5]=M=65535&O|P<<16,t[5]=F=65535&T|k<<16,T=65535&(x=Y),k=x>>>16,O=65535&(A=j),P=A>>>16,A=e[6],k+=(x=t[6])>>>16,O+=65535&A,P+=A>>>16,P+=(O+=(k+=(T+=65535&x)>>>16)>>>16)>>>16,e[6]=j=65535&O|P<<16,t[6]=Y=65535&T|k<<16,T=65535&(x=H),k=x>>>16,O=65535&(A=L),P=A>>>16,A=e[7],k+=(x=t[7])>>>16,O+=65535&A,P+=A>>>16,P+=(O+=(k+=(T+=65535&x)>>>16)>>>16)>>>16,e[7]=L=65535&O|P<<16,t[7]=H=65535&T|k<<16,J+=128,n-=128}return n}function Q(e,t,r){var n,o=new Int32Array(8),s=new Int32Array(8),i=new Uint8Array(256),a=r;for(o[0]=1779033703,o[1]=3144134277,o[2]=1013904242,o[3]=2773480762,o[4]=1359893119,o[5]=2600822924,o[6]=528734635,o[7]=1541459225,s[0]=4089235720,s[1]=2227873595,s[2]=4271175723,s[3]=1595750129,s[4]=2917565137,s[5]=725511199,s[6]=4215389547,s[7]=327033209,J(o,s,t,r),r%=128,n=0;n<r;n++)i[n]=t[a-r+n];for(i[r]=128,i[(r=256-128*(r<112?1:0))-9]=0,d(i,r-8,a/536870912|0,a<<3),J(o,s,i,r),n=0;n<8;n++)d(e,8*n,o[n],s[n]);return 0}function G(e,r){var n=t(),o=t(),s=t(),i=t(),a=t(),c=t(),h=t(),u=t(),f=t();M(n,e[1],e[0]),M(f,r[1],r[0]),j(n,n,f),D(o,e[0],e[1]),D(f,r[0],r[1]),j(o,o,f),j(s,e[3],r[3]),j(s,s,l),j(i,e[2],r[2]),D(i,i,i),M(a,o,n),M(c,i,s),D(h,i,s),D(u,o,n),j(e[0],a,c),j(e[1],u,h),j(e[2],h,c),j(e[3],a,u)}function Z(e,t,r){var n;for(n=0;n<4;n++)N(e[n],t[n],r)}function X(e,r){var n=t(),o=t(),s=t();V(s,r[2]),j(n,r[0],s),j(o,r[1],s),R(e,o),e[31]^=U(n)<<7}function ee(e,t,r){var n,o;for(P(e[0],s),P(e[1],i),P(e[2],i),P(e[3],s),o=255;o>=0;--o)Z(e,t,n=r[o/8|0]>>(7&o)&1),G(t,e),G(e,e),Z(e,t,n)}function te(e,r){var n=[t(),t(),t(),t()];P(n[0],h),P(n[1],u),P(n[2],i),j(n[3],h,u),ee(e,n,r)}function re(e,n,o){var s,i=new Uint8Array(64),a=[t(),t(),t(),t()];for(o||r(n,32),Q(i,n,32),i[0]&=248,i[31]&=127,i[31]|=64,te(a,i),X(e,a),s=0;s<32;s++)n[s+32]=e[s];return 0}var ne=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function oe(e,t){var r,n,o,s;for(n=63;n>=32;--n){for(r=0,o=n-32,s=n-12;o<s;++o)t[o]+=r-16*t[n]*ne[o-(n-32)],r=Math.floor((t[o]+128)/256),t[o]-=256*r;t[o]+=r,t[n]=0}for(r=0,o=0;o<32;o++)t[o]+=r-(t[31]>>4)*ne[o],r=t[o]>>8,t[o]&=255;for(o=0;o<32;o++)t[o]-=r*ne[o];for(n=0;n<32;n++)t[n+1]+=t[n]>>8,e[n]=255&t[n]}function se(e){var t,r=new Float64Array(64);for(t=0;t<64;t++)r[t]=e[t];for(t=0;t<64;t++)e[t]=0;oe(e,r)}function ie(e,r,n,o){var s,i,a=new Uint8Array(64),c=new Uint8Array(64),l=new Uint8Array(64),h=new Float64Array(64),u=[t(),t(),t(),t()];Q(a,o,32),a[0]&=248,a[31]&=127,a[31]|=64;var f=n+64;for(s=0;s<n;s++)e[64+s]=r[s];for(s=0;s<32;s++)e[32+s]=a[32+s];for(Q(l,e.subarray(32),n+32),se(l),te(u,l),X(e,u),s=32;s<64;s++)e[s]=o[s];for(Q(c,e,n+64),se(c),s=0;s<64;s++)h[s]=0;for(s=0;s<32;s++)h[s]=l[s];for(s=0;s<32;s++)for(i=0;i<32;i++)h[s+i]+=c[s]*a[i];return oe(e.subarray(32),h),f}function ae(e,r,n,o){var a,l=new Uint8Array(32),h=new Uint8Array(64),u=[t(),t(),t(),t()],d=[t(),t(),t(),t()];if(n<64)return-1;if(function(e,r){var n=t(),o=t(),a=t(),l=t(),h=t(),u=t(),d=t();return P(e[2],i),C(e[1],r),L(a,e[1]),j(l,a,c),M(a,a,e[2]),D(l,e[2],l),L(h,l),L(u,h),j(d,u,h),j(n,d,a),j(n,n,l),B(n,n),j(n,n,a),j(n,n,l),j(n,n,l),j(e[0],n,l),L(o,e[0]),j(o,o,l),I(o,a)&&j(e[0],e[0],f),L(o,e[0]),j(o,o,l),I(o,a)?-1:(U(e[0])===r[31]>>7&&M(e[0],s,e[0]),j(e[3],e[0],e[1]),0)}(d,o))return-1;for(a=0;a<n;a++)e[a]=r[a];for(a=0;a<32;a++)e[a+32]=o[a];if(Q(h,e,n),se(h),ee(u,d,h),te(d,r.subarray(32)),G(u,d),X(l,u),n-=64,m(r,0,l,0)){for(a=0;a<n;a++)e[a]=0;return-1}for(a=0;a<n;a++)e[a]=r[a+64];return n}var ce=16,le=64,he=32,ue=64;function fe(e,t){if(32!==e.length)throw new Error("bad key size");if(24!==t.length)throw new Error("bad nonce size")}function de(){for(var e=0;e<arguments.length;e++)if(!(arguments[e]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function pe(e){for(var t=0;t<e.length;t++)e[t]=0}e.lowlevel={crypto_core_hsalsa20:y,crypto_stream_xor:E,crypto_stream:$,crypto_stream_salsa20_xor:b,crypto_stream_salsa20:_,crypto_onetimeauth:x,crypto_onetimeauth_verify:T,crypto_verify_16:v,crypto_verify_32:m,crypto_secretbox:k,crypto_secretbox_open:O,crypto_scalarmult:z,crypto_scalarmult_base:q,crypto_box_beforenm:F,crypto_box_afternm:Y,crypto_box:function(e,t,r,n,o,s){var i=new Uint8Array(32);return F(i,o,s),Y(e,t,r,n,i)},crypto_box_open:function(e,t,r,n,o,s){var i=new Uint8Array(32);return F(i,o,s),H(e,t,r,n,i)},crypto_box_keypair:K,crypto_hash:Q,crypto_sign:ie,crypto_sign_keypair:re,crypto_sign_open:ae,crypto_secretbox_KEYBYTES:32,crypto_secretbox_NONCEBYTES:24,crypto_secretbox_ZEROBYTES:32,crypto_secretbox_BOXZEROBYTES:ce,crypto_scalarmult_BYTES:32,crypto_scalarmult_SCALARBYTES:32,crypto_box_PUBLICKEYBYTES:32,crypto_box_SECRETKEYBYTES:32,crypto_box_BEFORENMBYTES:32,crypto_box_NONCEBYTES:24,crypto_box_ZEROBYTES:32,crypto_box_BOXZEROBYTES:16,crypto_sign_BYTES:le,crypto_sign_PUBLICKEYBYTES:he,crypto_sign_SECRETKEYBYTES:ue,crypto_sign_SEEDBYTES:32,crypto_hash_BYTES:64,gf:t,D:c,L:ne,pack25519:R,unpack25519:C,M:j,A:D,S:L,Z:M,pow2523:B,add:G,set25519:P,modL:oe,scalarmult:ee,scalarbase:te},e.randomBytes=function(e){var t=new Uint8Array(e);return r(t,e),t},e.secretbox=function(e,t,r){de(e,t,r),fe(r,t);for(var n=new Uint8Array(32+e.length),o=new Uint8Array(n.length),s=0;s<e.length;s++)n[s+32]=e[s];return k(o,n,n.length,t,r),o.subarray(ce)},e.secretbox.open=function(e,t,r){de(e,t,r),fe(r,t);for(var n=new Uint8Array(ce+e.length),o=new Uint8Array(n.length),s=0;s<e.length;s++)n[s+ce]=e[s];return n.length<32||0!==O(o,n,n.length,t,r)?null:o.subarray(32)},e.secretbox.keyLength=32,e.secretbox.nonceLength=24,e.secretbox.overheadLength=ce,e.scalarMult=function(e,t){if(de(e,t),32!==e.length)throw new Error("bad n size");if(32!==t.length)throw new Error("bad p size");var r=new Uint8Array(32);return z(r,e,t),r},e.scalarMult.base=function(e){if(de(e),32!==e.length)throw new Error("bad n size");var t=new Uint8Array(32);return q(t,e),t},e.scalarMult.scalarLength=32,e.scalarMult.groupElementLength=32,e.box=function(t,r,n,o){var s=e.box.before(n,o);return e.secretbox(t,r,s)},e.box.before=function(e,t){de(e,t),function(e,t){if(32!==e.length)throw new Error("bad public key size");if(32!==t.length)throw new Error("bad secret key size")}(e,t);var r=new Uint8Array(32);return F(r,e,t),r},e.box.after=e.secretbox,e.box.open=function(t,r,n,o){var s=e.box.before(n,o);return e.secretbox.open(t,r,s)},e.box.open.after=e.secretbox.open,e.box.keyPair=function(){var e=new Uint8Array(32),t=new Uint8Array(32);return K(e,t),{publicKey:e,secretKey:t}},e.box.keyPair.fromSecretKey=function(e){if(de(e),32!==e.length)throw new Error("bad secret key size");var t=new Uint8Array(32);return q(t,e),{publicKey:t,secretKey:new Uint8Array(e)}},e.box.publicKeyLength=32,e.box.secretKeyLength=32,e.box.sharedKeyLength=32,e.box.nonceLength=24,e.box.overheadLength=e.secretbox.overheadLength,e.sign=function(e,t){if(de(e,t),t.length!==ue)throw new Error("bad secret key size");var r=new Uint8Array(le+e.length);return ie(r,e,e.length,t),r},e.sign.open=function(e,t){if(de(e,t),t.length!==he)throw new Error("bad public key size");var r=new Uint8Array(e.length),n=ae(r,e,e.length,t);if(n<0)return null;for(var o=new Uint8Array(n),s=0;s<o.length;s++)o[s]=r[s];return o},e.sign.detached=function(t,r){for(var n=e.sign(t,r),o=new Uint8Array(le),s=0;s<o.length;s++)o[s]=n[s];return o},e.sign.detached.verify=function(e,t,r){if(de(e,t,r),t.length!==le)throw new Error("bad signature size");if(r.length!==he)throw new Error("bad public key size");var n,o=new Uint8Array(le+e.length),s=new Uint8Array(le+e.length);for(n=0;n<le;n++)o[n]=t[n];for(n=0;n<e.length;n++)o[n+le]=e[n];return ae(s,o,o.length,r)>=0},e.sign.keyPair=function(){var e=new Uint8Array(he),t=new Uint8Array(ue);return re(e,t),{publicKey:e,secretKey:t}},e.sign.keyPair.fromSecretKey=function(e){if(de(e),e.length!==ue)throw new Error("bad secret key size");for(var t=new Uint8Array(he),r=0;r<t.length;r++)t[r]=e[32+r];return{publicKey:t,secretKey:new Uint8Array(e)}},e.sign.keyPair.fromSeed=function(e){if(de(e),32!==e.length)throw new Error("bad seed size");for(var t=new Uint8Array(he),r=new Uint8Array(ue),n=0;n<32;n++)r[n]=e[n];return re(t,r,!0),{publicKey:t,secretKey:r}},e.sign.publicKeyLength=he,e.sign.secretKeyLength=ue,e.sign.seedLength=32,e.sign.signatureLength=le,e.hash=function(e){de(e);var t=new Uint8Array(64);return Q(t,e,e.length),t},e.hash.hashLength=64,e.verify=function(e,t){return de(e,t),0!==e.length&&0!==t.length&&(e.length===t.length&&0===p(e,0,t,0,e.length))},e.setPRNG=function(e){r=e},function(){var t="undefined"!=typeof self?self.crypto||self.msCrypto:null;if(t&&t.getRandomValues){e.setPRNG((function(e,r){var n,o=new Uint8Array(r);for(n=0;n<r;n+=65536)t.getRandomValues(o.subarray(n,n+Math.min(r-n,65536)));for(n=0;n<r;n++)e[n]=o[n];pe(o)}))}else(t=Yt)&&t.randomBytes&&e.setPRNG((function(e,r){var n,o=t.randomBytes(r);for(n=0;n<r;n++)e[n]=o[n];pe(o)}))}()}(e.exports?e.exports:self.nacl=self.nacl||{})})),Wt=qt((function(e){var t,r;t=zt,r=function(){var e={};function t(e){if(!/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/.test(e))throw new TypeError("invalid encoding")}return e.decodeUTF8=function(e){if("string"!=typeof e)throw new TypeError("expected string");var t,r=unescape(encodeURIComponent(e)),n=new Uint8Array(r.length);for(t=0;t<r.length;t++)n[t]=r.charCodeAt(t);return n},e.encodeUTF8=function(e){var t,r=[];for(t=0;t<e.length;t++)r.push(String.fromCharCode(e[t]));return decodeURIComponent(escape(r.join("")))},"undefined"==typeof atob?void 0!==Buffer.from?(e.encodeBase64=function(e){return Buffer.from(e).toString("base64")},e.decodeBase64=function(e){return t(e),new Uint8Array(Array.prototype.slice.call(Buffer.from(e,"base64"),0))}):(e.encodeBase64=function(e){return new Buffer(e).toString("base64")},e.decodeBase64=function(e){return t(e),new Uint8Array(Array.prototype.slice.call(new Buffer(e,"base64"),0))}):(e.encodeBase64=function(e){var t,r=[],n=e.length;for(t=0;t<n;t++)r.push(String.fromCharCode(e[t]));return btoa(r.join(""))},e.decodeBase64=function(e){t(e);var r,n=atob(e),o=new Uint8Array(n.length);for(r=0;r<n.length;r++)o[r]=n.charCodeAt(r);return o}),e},e.exports?e.exports=r():(t.nacl||(t.nacl={}),t.nacl.util=r())}));Ht.util=Wt,Ht.util=Wt,Ht.util=Wt,Ht.util=Wt;
/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017 Joachim Wester
 * MIT license
 */
var Jt=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Qt=Object.prototype.hasOwnProperty;function Gt(e,t){return Qt.call(e,t)}function Zt(e){if(Array.isArray(e)){for(var t=new Array(e.length),r=0;r<t.length;r++)t[r]=""+r;return t}if(Object.keys)return Object.keys(e);t=[];for(var n in e)Gt(e,n)&&t.push(n);return t}function Xt(e){switch(typeof e){case"object":return JSON.parse(JSON.stringify(e));case"undefined":return null;default:return e}}function er(e){for(var t,r=0,n=e.length;r<n;){if(!((t=e.charCodeAt(r))>=48&&t<=57))return!1;r++}return!0}function tr(e){return-1===e.indexOf("/")&&-1===e.indexOf("~")?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function rr(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function nr(e){if(void 0===e)return!0;if(e)if(Array.isArray(e)){for(var t=0,r=e.length;t<r;t++)if(nr(e[t]))return!0}else if("object"==typeof e){var n=Zt(e),o=n.length;for(t=0;t<o;t++)if(nr(e[n[t]]))return!0}return!1}function or(e,t){var r=[e];for(var n in t){var o="object"==typeof t[n]?JSON.stringify(t[n],null,2):t[n];void 0!==o&&r.push(n+": "+o)}return r.join("\n")}var sr=function(e){function t(t,r,n,o,s){var i=this.constructor,a=e.call(this,or(t,{name:r,index:n,operation:o,tree:s}))||this;return a.name=r,a.index=n,a.operation=o,a.tree=s,Object.setPrototypeOf(a,i.prototype),a.message=or(t,{name:r,index:n,operation:o,tree:s}),a}return Jt(t,e),t}(Error),ir=sr,ar=Xt,cr={add:function(e,t,r){return e[t]=this.value,{newDocument:r}},remove:function(e,t,r){var n=e[t];return delete e[t],{newDocument:r,removed:n}},replace:function(e,t,r){var n=e[t];return e[t]=this.value,{newDocument:r,removed:n}},move:function(e,t,r){var n=hr(r,this.path);n&&(n=Xt(n));var o=ur(r,{op:"remove",path:this.from}).removed;return ur(r,{op:"add",path:this.path,value:o}),{newDocument:r,removed:n}},copy:function(e,t,r){var n=hr(r,this.from);return ur(r,{op:"add",path:this.path,value:Xt(n)}),{newDocument:r}},test:function(e,t,r){return{newDocument:r,test:vr(e[t],this.value)}},_get:function(e,t,r){return this.value=e[t],{newDocument:r}}},lr={add:function(e,t,r){return er(t)?e.splice(t,0,this.value):e[t]=this.value,{newDocument:r,index:t}},remove:function(e,t,r){return{newDocument:r,removed:e.splice(t,1)[0]}},replace:function(e,t,r){var n=e[t];return e[t]=this.value,{newDocument:r,removed:n}},move:cr.move,copy:cr.copy,test:cr.test,_get:cr._get};function hr(e,t){if(""==t)return e;var r={op:"_get",path:t};return ur(e,r),r.value}function ur(e,t,r,n,o,s){if(void 0===r&&(r=!1),void 0===n&&(n=!0),void 0===o&&(o=!0),void 0===s&&(s=0),r&&("function"==typeof r?r(t,0,e,t.path):dr(t,0)),""===t.path){var i={newDocument:e};if("add"===t.op)return i.newDocument=t.value,i;if("replace"===t.op)return i.newDocument=t.value,i.removed=e,i;if("move"===t.op||"copy"===t.op)return i.newDocument=hr(e,t.from),"move"===t.op&&(i.removed=e),i;if("test"===t.op){if(i.test=vr(e,t.value),!1===i.test)throw new ir("Test operation failed","TEST_OPERATION_FAILED",s,t,e);return i.newDocument=e,i}if("remove"===t.op)return i.removed=e,i.newDocument=null,i;if("_get"===t.op)return t.value=e,i;if(r)throw new ir("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",s,t,e);return i}n||(e=Xt(e));var a=(t.path||"").split("/"),c=e,l=1,h=a.length,u=void 0,f=void 0,d=void 0;for(d="function"==typeof r?r:dr;;){if(f=a[l],o&&"__proto__"==f)throw new TypeError("JSON-Patch: modifying `__proto__` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(r&&void 0===u&&(void 0===c[f]?u=a.slice(0,l).join("/"):l==h-1&&(u=t.path),void 0!==u&&d(t,0,e,u)),l++,Array.isArray(c)){if("-"===f)f=c.length;else{if(r&&!er(f))throw new ir("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",s,t,e);er(f)&&(f=~~f)}if(l>=h){if(r&&"add"===t.op&&f>c.length)throw new ir("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",s,t,e);if(!1===(i=lr[t.op].call(t,c,f,e)).test)throw new ir("Test operation failed","TEST_OPERATION_FAILED",s,t,e);return i}}else if(f&&-1!=f.indexOf("~")&&(f=rr(f)),l>=h){if(!1===(i=cr[t.op].call(t,c,f,e)).test)throw new ir("Test operation failed","TEST_OPERATION_FAILED",s,t,e);return i}c=c[f]}}function fr(e,t,r,n,o){if(void 0===n&&(n=!0),void 0===o&&(o=!0),r&&!Array.isArray(t))throw new ir("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");n||(e=Xt(e));for(var s=new Array(t.length),i=0,a=t.length;i<a;i++)s[i]=ur(e,t[i],r,!0,o,i),e=s[i].newDocument;return s.newDocument=e,s}function dr(e,t,r,n){if("object"!=typeof e||null===e||Array.isArray(e))throw new ir("Operation is not an object","OPERATION_NOT_AN_OBJECT",t,e,r);if(!cr[e.op])throw new ir("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",t,e,r);if("string"!=typeof e.path)throw new ir("Operation `path` property is not a string","OPERATION_PATH_INVALID",t,e,r);if(0!==e.path.indexOf("/")&&e.path.length>0)throw new ir('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",t,e,r);if(("move"===e.op||"copy"===e.op)&&"string"!=typeof e.from)throw new ir("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",t,e,r);if(("add"===e.op||"replace"===e.op||"test"===e.op)&&void 0===e.value)throw new ir("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",t,e,r);if(("add"===e.op||"replace"===e.op||"test"===e.op)&&nr(e.value))throw new ir("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",t,e,r);if(r)if("add"==e.op){var o=e.path.split("/").length,s=n.split("/").length;if(o!==s+1&&o!==s)throw new ir("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",t,e,r)}else if("replace"===e.op||"remove"===e.op||"_get"===e.op){if(e.path!==n)throw new ir("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",t,e,r)}else if("move"===e.op||"copy"===e.op){var i=pr([{op:"_get",path:e.from,value:void 0}],r);if(i&&"OPERATION_PATH_UNRESOLVABLE"===i.name)throw new ir("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",t,e,r)}}function pr(e,t,r){try{if(!Array.isArray(e))throw new ir("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(t)fr(Xt(t),Xt(e),r||!0);else{r=r||dr;for(var n=0;n<e.length;n++)r(e[n],n,t,void 0)}}catch(o){if(o instanceof ir)return o;throw o}}function vr(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){var r,n,o,s=Array.isArray(e),i=Array.isArray(t);if(s&&i){if((n=e.length)!=t.length)return!1;for(r=n;0!=r--;)if(!vr(e[r],t[r]))return!1;return!0}if(s!=i)return!1;var a=Object.keys(e);if((n=a.length)!==Object.keys(t).length)return!1;for(r=n;0!=r--;)if(!t.hasOwnProperty(a[r]))return!1;for(r=n;0!=r--;)if(!vr(e[o=a[r]],t[o]))return!1;return!0}return e!=e&&t!=t}var mr=Object.freeze({__proto__:null,JsonPatchError:ir,deepClone:ar,getValueByPointer:hr,applyOperation:ur,applyPatch:fr,applyReducer:function(e,t,r){var n=ur(e,t);if(!1===n.test)throw new ir("Test operation failed","TEST_OPERATION_FAILED",r,t,e);return n.newDocument},validator:dr,validate:pr,_areEquals:vr}),gr=new WeakMap,yr=function(e){this.observers=new Map,this.obj=e},wr=function(e,t){this.callback=e,this.observer=t};
/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017 Joachim Wester
 * MIT license
 */function br(e,t){void 0===t&&(t=!1);var r=gr.get(e.object);_r(r.value,e.object,e.patches,"",t),e.patches.length&&fr(r.value,e.patches);var n=e.patches;return n.length>0&&(e.patches=[],e.callback&&e.callback(n)),n}function _r(e,t,r,n,o){if(t!==e){"function"==typeof t.toJSON&&(t=t.toJSON());for(var s=Zt(t),i=Zt(e),a=!1,c=i.length-1;c>=0;c--){var l=e[u=i[c]];if(!Gt(t,u)||void 0===t[u]&&void 0!==l&&!1===Array.isArray(t))Array.isArray(e)===Array.isArray(t)?(o&&r.push({op:"test",path:n+"/"+tr(u),value:Xt(l)}),r.push({op:"remove",path:n+"/"+tr(u)}),a=!0):(o&&r.push({op:"test",path:n,value:e}),r.push({op:"replace",path:n,value:t}));else{var h=t[u];"object"==typeof l&&null!=l&&"object"==typeof h&&null!=h?_r(l,h,r,n+"/"+tr(u),o):l!==h&&(o&&r.push({op:"test",path:n+"/"+tr(u),value:Xt(l)}),r.push({op:"replace",path:n+"/"+tr(u),value:Xt(h)}))}}if(a||s.length!=i.length)for(c=0;c<s.length;c++){var u;Gt(e,u=s[c])||void 0===t[u]||r.push({op:"add",path:n+"/"+tr(u),value:Xt(t[u])})}}}var $r=Object.freeze({__proto__:null,unobserve:function(e,t){t.unobserve()},observe:function(e,t){var r,n=function(e){return gr.get(e)}(e);if(n){var o=function(e,t){return e.observers.get(t)}(n,t);r=o&&o.observer}else n=new yr(e),gr.set(e,n);if(r)return r;if(r={},n.value=Xt(e),t){r.callback=t,r.next=null;var s=function(){br(r)},i=function(){clearTimeout(r.next),r.next=setTimeout(s)};"undefined"!=typeof window&&(window.addEventListener("mouseup",i),window.addEventListener("keyup",i),window.addEventListener("mousedown",i),window.addEventListener("keydown",i),window.addEventListener("change",i))}return r.patches=[],r.object=e,r.unobserve=function(){br(r),clearTimeout(r.next),function(e,t){e.observers.delete(t.callback)}(n,r),"undefined"!=typeof window&&(window.removeEventListener("mouseup",i),window.removeEventListener("keyup",i),window.removeEventListener("mousedown",i),window.removeEventListener("keydown",i),window.removeEventListener("change",i))},n.observers.set(t,new wr(t,r)),r},generate:br,compare:function(e,t,r){void 0===r&&(r=!1);var n=[];return _r(e,t,n,"",r),n}});Object.assign({},mr,$r,{JsonPatchError:sr,deepClone:Xt,escapePathComponent:tr,unescapePathComponent:rr}),Ht.util=Wt;const Er=l(),Ar=l(),xr=l(),Tr=l(),kr="localhost"==window.location.hostname||"127.0.0.1"==window.location.hostname,Or=kr||window.location.hostname.startsWith("192.168."),Pr="zetaseek.com"==window.location.hostname,Sr=h(xr,(e=>kr&&"eclipse"==e)),Nr=h(Sr,(e=>e||Pr)),Rr=h(Ar,(e=>kr||e)),Ir=h(Nr,(e=>e||"guest.zetaseek.com"==window.location.hostname)),Ur=h(Er,(e=>e<768));function Cr(e,t){return`<span style="color: ${t};">${e}</span>`}var Dr={white:function(e){return Cr(e,"white")},red:function(e){return Cr(e,"#E34042")},green:function(e){return Cr(e,"#5FE02A")},gray:function(e){return Cr(e,"#C3C6C6")},yellow:function(e){return Cr(e,"#E5AE34")},cyan:function(e){return Cr(e,"#29B3BF")},magenta:function(e){return Cr(e,"#A144E9")}};function Mr(){return"undefined"!=typeof ethereum&&ethereum.isMetaMask}function jr(e){if(e.length>0)return e[0]}function Lr(e){return()=>new Promise(((t,r)=>{new Promise(((e,t)=>{Mr()?ethereum.request({method:"eth_requestAccounts"}).then((({result:t})=>{e(t)})).catch((e=>{4001===e.code?t(new Error("Please connect to MetaMask.")):t(e)})):t(new Error("Metamask not installed! Why was the connect button shown ?"))})).then((t=>{const r=jr(t);r?e(r):(console.log("WARNING: received this from eth_requestAccounts, could not parse out a single account:"),console.log(t),console.log("--------------------"))})).catch(r)}))}var Vr=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",metamaskInit:function e(t=(()=>{}),{retryCount:r=20}={}){const n=20==r;return Mr()?(ethereum.selectedAddress?t(ethereum.selectedAddress):r>0&&setTimeout((()=>e(t,{retryCount:r-1})),100),n&&ethereum.on("accountsChanged",(e=>{const r=jr(e);r&&t(r)})),Lr(t)):(console.log("METAMASK INIT FAILED: not installed"),!1)}});function Br(e){return e?e.trim().replace(/\s+/g," "):e}let zr,qr,Kr,Fr="";const Yr=[];function Hr({searchQuery:e="",page:t,searchMode:r,selectedTags:n,keepSelectedTags:o,remoteObject:s,remoteMethod:i,searchStatusCallback:a=(()=>{}),searchDelay:c=1300,force:l,searchMetadata:h,timezone:f}){return new Promise(((d,p)=>{if(""==e.trim())return Yr.push(Date.now()),o||n.set({}),(""!=Fr||l)&&(clearTimeout(Kr),a({searching:!1}),d(l?null:[])),Fr=e,zr=t,void(qr=r);try{(l||function({searchQuery:e,prevQuery:t,searchMode:r,prevSearchMode:n,page:o,prevPage:s}){return Br(e)!=Br(t)||r!=n||o!=s}({searchQuery:e,prevQuery:Fr,searchMode:r,prevSearchMode:qr,page:t,prevPage:zr}))&&(o||n.set({}),clearTimeout(Kr),a({searching:!0}),Fr=e,zr=t,qr=r,Kr=setTimeout((()=>{const r=Date.now();Yr.push(r),console.log(`Search executed on remote object: ${e}`),s.call(i,{query:Br(e),page:t,selectedTags:Object.keys(u(n)),searchMetadata:h,timezone:f}).then((e=>{const t=Yr[Yr.length-1];if(r==t){const t=e.filter((e=>e.error||0==e.results.length)).length==e.length,r=e.filter((e=>{var t;return null==(t=e.results)?void 0:t.length})),n=r.filter((e=>e.meta.noMorePages)).length==r.length;a({searching:!1,noHits:t,noMorePages:n}),d(e)}else console.log("Discarding search result which came out of order because a more recent result is due ...")})).catch((e=>{a({searching:!1}),console.log("executeSearch ERROR:"),console.log(e),p(e)}))}),c))}catch(v){console.log("This error should not happen: bug in dmt-js"),a({searching:!1}),p(v)}}))}const Wr=l(),Jr=l(1),Qr=l(),Gr=l(0),Zr=l({}),Xr=l(!1),en=l(!1),tn=l(!1),rn=l({});function nn(e){let t,r,n,o,s,i,a;return{c(){t=v("div"),r=v("div"),n=v("a"),o=m("DMT SYSTEM"),s=g(),i=v("span"),a=m(e[0]),this.h()},l(c){t=y(c,"DIV",{class:!0});var l=w(t);r=y(l,"DIV",{class:!0});var h=w(r);n=y(h,"A",{href:!0,class:!0});var u=w(n);o=b(u,"DMT SYSTEM"),u.forEach(_),h.forEach(_),s=$(l),i=y(l,"SPAN",{class:!0});var f=w(i);a=b(f,e[0]),f.forEach(_),l.forEach(_),this.h()},h(){E(n,"href","https://dmt-system.com"),E(n,"class","svelte-1873t78"),E(r,"class","tagline svelte-1873t78"),E(i,"class","version svelte-1873t78"),E(t,"class","about svelte-1873t78")},m(e,c){A(e,t,c),x(t,r),x(r,n),x(n,o),x(t,s),x(t,i),x(i,a)},p(e,[t]){1&t&&T(a,e[0])},i:k,o:k,d(e){e&&_(t)}}}function on(e,t,r){let n,{dmtVersion:o}=t;return e.$$set=e=>{"dmtVersion"in e&&r(1,o=e.dmtVersion)},e.$$.update=()=>{2&e.$$.dirty&&r(0,n=o?`v${o}`:"")},[n,o]}class sn extends f{constructor(e){super(),d(this,e,on,nn,p,{dmtVersion:1})}}function an(e,t,r){const n=e.slice();return n[7]=t[r].deviceTag,n[8]=t[r].operational,n[9]=t[r].versionCompareSymbol,n[10]=t[r].peerState,n}function cn(e){let t,r;function n(e,t){return e[1]&&e[1].length>0?hn:ln}let o=n(e),s=o(e),i=e[1]&&un(e);return{c(){s.c(),t=g(),i&&i.c(),r=O()},l(e){s.l(e),t=$(e),i&&i.l(e),r=O()},m(e,n){s.m(e,n),A(e,t,n),i&&i.m(e,n),A(e,r,n)},p(e,a){o!==(o=n(e))&&(s.d(1),s=o(e),s&&(s.c(),s.m(t.parentNode,t))),e[1]?i?i.p(e,a):(i=un(e),i.c(),i.m(r.parentNode,r)):i&&(i.d(1),i=null)},d(e){s.d(e),e&&_(t),i&&i.d(e),e&&_(r)}}}function ln(e){let t,r,n,o;return{c(){t=v("span"),r=m("Peers → "),n=v("span"),o=m("Not following anyone yet."),this.h()},l(e){t=y(e,"SPAN",{class:!0});var s=w(t);r=b(s,"Peers → "),n=y(s,"SPAN",{class:!0});var i=w(n);o=b(i,"Not following anyone yet."),i.forEach(_),s.forEach(_),this.h()},h(){E(n,"class","white svelte-13gawhg"),E(t,"class","title svelte-13gawhg")},m(e,s){A(e,t,s),x(t,r),x(t,n),x(n,o)},d(e){e&&_(t)}}}function hn(e){let t,r;return{c(){t=v("span"),r=m("— Following Peers —"),this.h()},l(e){t=y(e,"SPAN",{class:!0});var n=w(t);r=b(n,"— Following Peers —"),n.forEach(_),this.h()},h(){E(t,"class","title svelte-13gawhg")},m(e,n){A(e,t,n),x(t,r)},d(e){e&&_(t)}}}function un(e){let t,r=e[1],n=[];for(let o=0;o<r.length;o+=1)n[o]=vn(an(e,r,o));return{c(){for(let e=0;e<n.length;e+=1)n[e].c();t=O()},l(e){for(let t=0;t<n.length;t+=1)n[t].l(e);t=O()},m(e,r){for(let t=0;t<n.length;t+=1)n[t].m(e,r);A(e,t,r)},p(e,o){if(2&o){let s;for(r=e[1],s=0;s<r.length;s+=1){const i=an(e,r,s);n[s]?n[s].p(i,o):(n[s]=vn(i),n[s].c(),n[s].m(t.parentNode,t))}for(;s<n.length;s+=1)n[s].d(1);n.length=r.length}},d(e){S(n,e),e&&_(t)}}}function fn(e){let t,r=e[10].dmtVersion&&dn(e);return{c(){r&&r.c(),t=O()},l(e){r&&r.l(e),t=O()},m(e,n){r&&r.m(e,n),A(e,t,n)},p(e,n){e[10].dmtVersion?r?r.p(e,n):(r=dn(e),r.c(),r.m(t.parentNode,t)):r&&(r.d(1),r=null)},d(e){r&&r.d(e),e&&_(t)}}}function dn(e){let t,r,n,o=e[10].dmtVersion+"",s=e[9]&&pn(e);return{c(){t=v("span"),s&&s.c(),r=g(),n=m(o),this.h()},l(e){t=y(e,"SPAN",{class:!0});var i=w(t);s&&s.l(i),r=$(i),n=b(i,o),i.forEach(_),this.h()},h(){E(t,"class","dmt_version svelte-13gawhg")},m(e,o){A(e,t,o),s&&s.m(t,null),x(t,r),x(t,n)},p(e,i){e[9]?s?s.p(e,i):(s=pn(e),s.c(),s.m(t,r)):s&&(s.d(1),s=null),2&i&&o!==(o=e[10].dmtVersion+"")&&T(n,o)},d(e){e&&_(t),s&&s.d()}}}function pn(e){let t,r,n=e[9]+"";return{c(){t=v("span"),r=m(n),this.h()},l(e){t=y(e,"SPAN",{class:!0});var o=w(t);r=b(o,n),o.forEach(_),this.h()},h(){E(t,"class","compare svelte-13gawhg")},m(e,n){A(e,t,n),x(t,r)},p(e,t){2&t&&n!==(n=e[9]+"")&&T(r,n)},d(e){e&&_(t)}}}function vn(e){let t,r,n,o,s,i,a,c,l,h,u=e[7]+"",f=e[10]&&fn(e);return{c(){t=v("div"),r=v("span"),n=m("ok"),o=g(),s=v("span"),i=m("✖"),a=g(),c=m(u),l=g(),f&&f.c(),h=g(),this.h()},l(e){t=y(e,"DIV",{class:!0});var d=w(t);r=y(d,"SPAN",{class:!0});var p=w(r);n=b(p,"ok"),p.forEach(_),o=$(d),s=y(d,"SPAN",{class:!0});var v=w(s);i=b(v,"✖"),v.forEach(_),a=$(d),c=b(d,u),l=$(d),f&&f.l(d),h=$(d),d.forEach(_),this.h()},h(){E(r,"class","ok svelte-13gawhg"),E(s,"class","cross svelte-13gawhg"),E(t,"class","peer svelte-13gawhg"),P(t,"operational",1==e[8])},m(e,u){A(e,t,u),x(t,r),x(r,n),x(t,o),x(t,s),x(s,i),x(t,a),x(t,c),x(t,l),f&&f.m(t,null),x(t,h)},p(e,r){2&r&&u!==(u=e[7]+"")&&T(c,u),e[10]?f?f.p(e,r):(f=fn(e),f.c(),f.m(t,h)):f&&(f.d(1),f=null),2&r&&P(t,"operational",1==e[8])},d(e){e&&_(t),f&&f.d()}}}function mn(e){let t,r=e[2]&&cn(e);return{c(){t=v("div"),r&&r.c(),this.h()},l(e){t=y(e,"DIV",{class:!0});var n=w(t);r&&r.l(n),n.forEach(_),this.h()},h(){E(t,"class","peerlist svelte-13gawhg")},m(e,n){A(e,t,n),r&&r.m(t,null)},p(e,[n]){e[2]?r?r.p(e,n):(r=cn(e),r.c(),r.m(t,null)):r&&(r.d(1),r=null)},i:k,o:k,d(e){e&&_(t),r&&r.d()}}}function gn(e,t,r){let n,o,s,i,a=k,c=()=>(a(),a=N(l,(e=>r(5,s=e))),l);e.$$.on_destroy.push((()=>a()));let{backend:l}=t;c();const{connected:h}=l;return R(e,h,(e=>r(2,i=e))),e.$$set=e=>{"backend"in e&&c(r(0,l=e.backend))},e.$$.update=()=>{32&e.$$.dirty&&r(4,n=s.device),16&e.$$.dirty&&n&&n.dmtVersion,32&e.$$.dirty&&r(1,o=s.peerlist)},[l,o,i,h,n,s]}class yn extends f{constructor(e){super(),d(this,e,gn,mn,p,{backend:0})}}function wn(e){let t,r;return t=new yn({props:{backend:e[1]}}),{c(){I(t.$$.fragment)},l(e){U(t.$$.fragment,e)},m(e,n){C(t,e,n),r=!0},p(e,r){const n={};2&r&&(n.backend=e[1]),t.$set(n)},i(e){r||(D(t.$$.fragment,e),r=!0)},o(e){M(t.$$.fragment,e),r=!1},d(e){j(t,e)}}}function bn(e){let t,r,n,o=e[5]&&wn(e);return{c(){t=v("div"),o&&o.c(),r=g(),this.h()},l(e){t=y(e,"DIV",{class:!0});var n=w(t);o&&o.l(n),r=$(n),n.forEach(_),this.h()},h(){E(t,"class","leftbar svelte-1fmv5sa")},m(e,s){A(e,t,s),o&&o.m(t,null),x(t,r),n=!0},p(e,[n]){e[5]?o?(o.p(e,n),32&n&&D(o,1)):(o=wn(e),o.c(),D(o,1),o.m(t,r)):o&&(L(),M(o,1,1,(()=>{o=null})),V())},i(e){n||(D(o),D(false),n=!0)},o(e){M(o),M(false),n=!1},d(e){e&&_(t),o&&o.d()}}}function _n(e,t,r){let n,o,s,i=k,a=()=>(i(),i=N(c,(e=>r(7,s=e))),c);R(e,Rr,(e=>r(5,n=e))),R(e,Nr,(e=>r(6,o=e))),e.$$.on_destroy.push((()=>i()));let{connected:c}=t;a();let l,h,u,{backend:f}=t,{backend2:d}=t;return d&&d.subscribe((({meetup:e})=>{r(2,l=null==e?void 0:e.meetupScheduled),r(3,h=null==e?void 0:e.meetupStatus)})),B((()=>{setTimeout((()=>{r(4,u=!0)}),1e3)})),e.$$set=e=>{"connected"in e&&a(r(0,c=e.connected)),"backend"in e&&r(1,f=e.backend),"backend2"in e&&r(8,d=e.backend2)},[c,f,l,h,u,n,o,s,d]}class $n extends f{constructor(e){super(),d(this,e,_n,bn,p,{connected:0,backend:1,backend2:8})}}function En(e,t,r){const n=e.slice();return n[5]=t[r],n}function An(e){let t,r;return{c(){t=v("span"),r=m("No results for:"),this.h()},l(e){t=y(e,"SPAN",{class:!0});var n=w(t);r=b(n,"No results for:"),n.forEach(_),this.h()},h(){E(t,"class","no_hits_notice svelte-172m6ii")},m(e,n){A(e,t,n),x(t,r)},d(e){e&&_(t)}}}function xn(e){let t,r=e[1],n=[];for(let o=0;o<r.length;o+=1)n[o]=Tn(En(e,r,o));return{c(){t=v("div");for(let e=0;e<n.length;e+=1)n[e].c();this.h()},l(e){t=y(e,"DIV",{class:!0});var r=w(t);for(let t=0;t<n.length;t+=1)n[t].l(r);r.forEach(_),this.h()},h(){E(t,"class","tags svelte-172m6ii")},m(e,r){A(e,t,r);for(let o=0;o<n.length;o+=1)n[o].m(t,null)},p(e,o){if(2&o){let s;for(r=e[1],s=0;s<r.length;s+=1){const i=En(e,r,s);n[s]?n[s].p(i,o):(n[s]=Tn(i),n[s].c(),n[s].m(t,null))}for(;s<n.length;s+=1)n[s].d(1);n.length=r.length}},d(e){e&&_(t),S(n,e)}}}function Tn(e){let t,r,n,o=e[5]+"";return{c(){t=v("div"),r=m(o),n=g(),this.h()},l(e){t=y(e,"DIV",{class:!0});var s=w(t);r=b(s,o),n=$(s),s.forEach(_),this.h()},h(){E(t,"class","tag svelte-172m6ii")},m(e,o){A(e,t,o),x(t,r),x(t,n)},p(e,t){2&t&&o!==(o=e[5]+"")&&T(r,o)},d(e){e&&_(t)}}}function kn(e){var t;let r,n,o,s,i,a,c,l=0==e[3]&&An(),h=(null==(t=e[1])?void 0:t.length)&&xn(e);return{c(){r=v("div"),l&&l.c(),n=g(),o=m(e[0]),s=g(),h&&h.c(),i=g(),a=v("div"),c=m(e[2]),this.h()},l(t){r=y(t,"DIV",{class:!0});var u=w(r);l&&l.l(u),n=$(u),o=b(u,e[0]),s=$(u),h&&h.l(u),i=$(u),a=y(u,"DIV",{class:!0});var f=w(a);c=b(f,e[2]),f.forEach(_),u.forEach(_),this.h()},h(){E(a,"class","timezone svelte-172m6ii"),E(r,"class","query svelte-172m6ii")},m(e,t){A(e,r,t),l&&l.m(r,null),x(r,n),x(r,o),x(r,s),h&&h.m(r,null),x(r,i),x(r,a),x(a,c)},p(e,[t]){var s;0==e[3]?l||(l=An(),l.c(),l.m(r,n)):l&&(l.d(1),l=null),1&t&&T(o,e[0]),(null==(s=e[1])?void 0:s.length)?h?h.p(e,t):(h=xn(e),h.c(),h.m(r,i)):h&&(h.d(1),h=null),4&t&&T(c,e[2])},i:k,o:k,d(e){e&&_(r),l&&l.d(),h&&h.d()}}}function On(e,t,r){let{query:n}=t,{selectedTags:o}=t,{timezone:s}=t,{totalHits:i}=t,{i:a}=t;return e.$$set=e=>{"query"in e&&r(0,n=e.query),"selectedTags"in e&&r(1,o=e.selectedTags),"timezone"in e&&r(2,s=e.timezone),"totalHits"in e&&r(3,i=e.totalHits),"i"in e&&r(4,a=e.i)},[n,o,s,i,a]}class Pn extends f{constructor(e){super(),d(this,e,On,kn,p,{query:0,selectedTags:1,timezone:2,totalHits:3,i:4})}}function Sn(e){let t,r,n,o,s,i;return{c(){t=v("div"),r=v("a"),n=m(e[0]),o=g(),s=v("div"),i=m(e[1]),this.h()},l(a){t=y(a,"DIV",{class:!0});var c=w(t);r=y(c,"A",{href:!0,class:!0});var l=w(r);n=b(l,e[0]),l.forEach(_),o=$(c),s=y(c,"DIV",{class:!0});var h=w(s);i=b(h,e[1]),h.forEach(_),c.forEach(_),this.h()},h(){E(r,"href",e[0]),E(r,"class","svelte-y9481j"),E(s,"class","timezone svelte-y9481j"),E(t,"class","query svelte-y9481j")},m(e,a){A(e,t,a),x(t,r),x(r,n),x(t,o),x(t,s),x(s,i)},p(e,[t]){1&t&&T(n,e[0]),1&t&&E(r,"href",e[0]),2&t&&T(i,e[1])},i:k,o:k,d(e){e&&_(t)}}}function Nn(e,t,r){let{url:n}=t,{timezone:o}=t,{i:s}=t;return e.$$set=e=>{"url"in e&&r(0,n=e.url),"timezone"in e&&r(1,o=e.timezone),"i"in e&&r(2,s=e.i)},[n,o,s]}class Rn extends f{constructor(e){super(),d(this,e,Nn,Sn,p,{url:0,timezone:1,i:2})}}function In(e,t,r){const n=e.slice();return n[1]=t[r],n[3]=r,n}function Un(e){let t,r,n,o,s,i=e[0],a=[];for(let l=0;l<i.length;l+=1)a[l]=Mn(In(e,i,l));const c=e=>M(a[e],1,1,(()=>{a[e]=null}));return{c(){t=v("h3"),r=m("— Recent clicks and searches —"),n=g();for(let e=0;e<a.length;e+=1)a[e].c();o=O(),this.h()},l(e){t=y(e,"H3",{class:!0});var s=w(t);r=b(s,"— Recent clicks and searches —"),s.forEach(_),n=$(e);for(let t=0;t<a.length;t+=1)a[t].l(e);o=O(),this.h()},h(){E(t,"class","svelte-1ojil64")},m(e,i){A(e,t,i),x(t,r),A(e,n,i);for(let t=0;t<a.length;t+=1)a[t].m(e,i);A(e,o,i),s=!0},p(e,t){if(1&t){let r;for(i=e[0],r=0;r<i.length;r+=1){const n=In(e,i,r);a[r]?(a[r].p(n,t),D(a[r],1)):(a[r]=Mn(n),a[r].c(),D(a[r],1),a[r].m(o.parentNode,o))}for(L(),r=i.length;r<a.length;r+=1)c(r);V()}},i(e){if(!s){for(let e=0;e<i.length;e+=1)D(a[e]);s=!0}},o(e){a=a.filter(Boolean);for(let t=0;t<a.length;t+=1)M(a[t]);s=!1},d(e){e&&_(t),e&&_(n),S(a,e),e&&_(o)}}}function Cn(e){let t,r;const n=[e[1],{i:e[3]}];let o={};for(let s=0;s<n.length;s+=1)o=z(o,n[s]);return t=new Rn({props:o}),{c(){I(t.$$.fragment)},l(e){U(t.$$.fragment,e)},m(e,n){C(t,e,n),r=!0},p(e,r){const o=1&r?q(n,[K(e[1]),n[1]]):{};t.$set(o)},i(e){r||(D(t.$$.fragment,e),r=!0)},o(e){M(t.$$.fragment,e),r=!1},d(e){j(t,e)}}}function Dn(e){let t,r;const n=[e[1],{i:e[3]}];let o={};for(let s=0;s<n.length;s+=1)o=z(o,n[s]);return t=new Pn({props:o}),{c(){I(t.$$.fragment)},l(e){U(t.$$.fragment,e)},m(e,n){C(t,e,n),r=!0},p(e,r){const o=1&r?q(n,[K(e[1]),n[1]]):{};t.$set(o)},i(e){r||(D(t.$$.fragment,e),r=!0)},o(e){M(t.$$.fragment,e),r=!1},d(e){j(t,e)}}}function Mn(e){let t,r,n,o;const s=[Dn,Cn],i=[];function a(e,t){return e[1].query?0:e[1].url?1:-1}return~(t=a(e))&&(r=i[t]=s[t](e)),{c(){r&&r.c(),n=O()},l(e){r&&r.l(e),n=O()},m(e,r){~t&&i[t].m(e,r),A(e,n,r),o=!0},p(e,o){let c=t;t=a(e),t===c?~t&&i[t].p(e,o):(r&&(L(),M(i[c],1,1,(()=>{i[c]=null})),V()),~t?(r=i[t],r?r.p(e,o):(r=i[t]=s[t](e),r.c()),D(r,1),r.m(n.parentNode,n)):r=null)},i(e){o||(D(r),o=!0)},o(e){M(r),o=!1},d(e){~t&&i[t].d(e),e&&_(n)}}}function jn(e){var t;let r,n,o=(null==(t=e[0])?void 0:t.length)&&Un(e);return{c(){r=v("div"),o&&o.c(),this.h()},l(e){r=y(e,"DIV",{class:!0});var t=w(r);o&&o.l(t),t.forEach(_),this.h()},h(){E(r,"class","recent_searches svelte-1ojil64")},m(e,t){A(e,r,t),o&&o.m(r,null),n=!0},p(e,[t]){var n;(null==(n=e[0])?void 0:n.length)?o?(o.p(e,t),1&t&&D(o,1)):(o=Un(e),o.c(),D(o,1),o.m(r,null)):o&&(L(),M(o,1,1,(()=>{o=null})),V())},i(e){n||(D(o),n=!0)},o(e){M(o),n=!1},d(e){e&&_(r),o&&o.d()}}}function Ln(e,t,r){let{recentSearchQueries:n}=t;return e.$$set=e=>{"recentSearchQueries"in e&&r(0,n=e.recentSearchQueries)},[n]}class Vn extends f{constructor(e){super(),d(this,e,Ln,jn,p,{recentSearchQueries:0})}}function Bn(e){let t,r;return t=new Vn({props:{recentSearchQueries:e[1]}}),{c(){I(t.$$.fragment)},l(e){U(t.$$.fragment,e)},m(e,n){C(t,e,n),r=!0},p(e,r){const n={};2&r&&(n.recentSearchQueries=e[1]),t.$set(n)},i(e){r||(D(t.$$.fragment,e),r=!0)},o(e){M(t.$$.fragment,e),r=!1},d(e){j(t,e)}}}function zn(e){let t,r,n=e[2]&&Bn(e);return{c(){t=v("div"),n&&n.c(),this.h()},l(e){t=y(e,"DIV",{class:!0});var r=w(t);n&&n.l(r),r.forEach(_),this.h()},h(){E(t,"class","right_bar svelte-giyyxp")},m(e,o){A(e,t,o),n&&n.m(t,null),r=!0},p(e,[r]){e[2]?n?(n.p(e,r),4&r&&D(n,1)):(n=Bn(e),n.c(),D(n,1),n.m(t,null)):n&&(L(),M(n,1,1,(()=>{n=null})),V())},i(e){r||(D(n),r=!0)},o(e){M(n),r=!1},d(e){e&&_(t),n&&n.d()}}}function qn(e,t,r){let n,o,s,i=k,a=()=>(i(),i=N(c,(e=>r(4,o=e))),c);R(e,Ar,(e=>r(2,s=e))),e.$$.on_destroy.push((()=>i()));let{backend:c}=t;a();let{metamaskConnect:l}=t;return e.$$set=e=>{"backend"in e&&a(r(0,c=e.backend)),"metamaskConnect"in e&&r(3,l=e.metamaskConnect)},e.$$.update=()=>{16&e.$$.dirty&&r(1,n=o.recentSearchQueries)},[c,n,s,l,o]}class Kn extends f{constructor(e){super(),d(this,e,qn,zn,p,{backend:0,metamaskConnect:3})}}function Fn(e){let t,r,n,o,s,i,a,c;return a=new F({props:{size:"16",speed:"2000",color:"#EFCAF8",thickness:"3",gap:"25"}}),{c(){t=v("span"),r=v("span"),n=m(e[2]),o=m(" reconnecting"),s=g(),i=v("span"),I(a.$$.fragment),this.h()},l(c){t=y(c,"SPAN",{class:!0});var l=w(t);r=y(l,"SPAN",{class:!0});var h=w(r);n=b(h,e[2]),h.forEach(_),o=b(l," reconnecting"),l.forEach(_),s=$(c),i=y(c,"SPAN",{class:!0});var u=w(i);U(a.$$.fragment,u),u.forEach(_),this.h()},h(){E(r,"class","device_name svelte-uq65fr"),E(t,"class","device_status svelte-uq65fr"),E(i,"class","spinner svelte-uq65fr")},m(e,l){A(e,t,l),x(t,r),x(r,n),x(t,o),A(e,s,l),A(e,i,l),C(a,i,null),c=!0},p(e,t){(!c||4&t)&&T(n,e[2])},i(e){c||(D(a.$$.fragment,e),c=!0)},o(e){M(a.$$.fragment,e),c=!1},d(e){e&&_(t),e&&_(s),e&&_(i),j(a)}}}function Yn(e){let t,r,n,o,s,i,a,c,l,h,u,f=Or?"local node":"";const d=[Wn,Hn],p=[];function k(e,t){return e[3]?0:1}return l=k(e),h=p[l]=d[l](e),{c(){t=v("span"),r=m(f),n=g(),o=v("span"),s=m(e[2]),i=m(" ready"),a=g(),c=v("div"),h.c(),this.h()},l(l){t=y(l,"SPAN",{class:!0});var u=w(t);r=b(u,f),n=$(u),o=y(u,"SPAN",{class:!0});var d=w(o);s=b(d,e[2]),d.forEach(_),i=b(u," ready"),u.forEach(_),a=$(l),c=y(l,"DIV",{class:!0});var p=w(c);h.l(p),p.forEach(_),this.h()},h(){E(o,"class","device_name svelte-uq65fr"),E(t,"class","device_status svelte-uq65fr"),E(c,"class","spinner_or_mark svelte-uq65fr")},m(e,h){A(e,t,h),x(t,r),x(t,n),x(t,o),x(o,s),x(t,i),A(e,a,h),A(e,c,h),p[l].m(c,null),u=!0},p(e,t){(!u||4&t)&&T(s,e[2]);let r=l;l=k(e),l!==r&&(L(),M(p[r],1,1,(()=>{p[r]=null})),V(),h=p[l],h||(h=p[l]=d[l](e),h.c()),D(h,1),h.m(c,null))},i(e){u||(D(h),u=!0)},o(e){M(h),u=!1},d(e){e&&_(t),e&&_(a),e&&_(c),p[l].d()}}}function Hn(e){let t,r;return{c(){t=v("img"),this.h()},l(e){t=y(e,"IMG",{class:!0,src:!0}),this.h()},h(){E(t,"class","mark svelte-uq65fr"),t.src!==(r="img/redesign/zetaseek_icon-OK.svg")&&E(t,"src","img/redesign/zetaseek_icon-OK.svg")},m(e,r){A(e,t,r)},i:k,o:k,d(e){e&&_(t)}}}function Wn(e){let t,r,n;return r=new F({props:{size:"16",speed:"400",color:"#fff",thickness:"3",gap:"40"}}),{c(){t=v("span"),I(r.$$.fragment),this.h()},l(e){t=y(e,"SPAN",{class:!0});var n=w(t);U(r.$$.fragment,n),n.forEach(_),this.h()},h(){E(t,"class","spinner svelte-uq65fr")},m(e,o){A(e,t,o),C(r,t,null),n=!0},i(e){n||(D(r.$$.fragment,e),n=!0)},o(e){M(r.$$.fragment,e),n=!1},d(e){e&&_(t),j(r)}}}function Jn(e){let t,r,n,o;const s=[Yn,Fn],i=[];function a(e,t){return e[1]?0:1}return r=a(e),n=i[r]=s[r](e),{c(){t=v("p"),n.c(),this.h()},l(e){t=y(e,"P",{class:!0});var r=w(t);n.l(r),r.forEach(_),this.h()},h(){E(t,"class","connection_status svelte-uq65fr"),P(t,"ok",e[1])},m(e,n){A(e,t,n),i[r].m(t,null),o=!0},p(e,[o]){let c=r;r=a(e),r===c?i[r].p(e,o):(L(),M(i[c],1,1,(()=>{i[c]=null})),V(),n=i[r],n?n.p(e,o):(n=i[r]=s[r](e),n.c()),D(n,1),n.m(t,null)),2&o&&P(t,"ok",e[1])},i(e){o||(D(n),o=!0)},o(e){M(n),o=!1},d(e){e&&_(t),i[r].d()}}}function Qn(e,t,r){let n,o,s,i=k,a=()=>(i(),i=N(c,(e=>r(1,n=e))),c);R(e,Xr,(e=>r(3,s=e))),e.$$.on_destroy.push((()=>i()));let{connected:c}=t;a();const l=h(xr,(e=>e&&Or?`@${e}`:`@${window.location.hostname}`));return R(e,l,(e=>r(2,o=e))),e.$$set=e=>{"connected"in e&&a(r(0,c=e.connected))},[c,n,o,s,l]}class Gn extends f{constructor(e){super(),d(this,e,Qn,Jn,p,{connected:0})}}function Zn(e){let t,r;return{c(){t=v("div"),r=m(e[0]),this.h()},l(n){t=y(n,"DIV",{class:!0});var o=w(t);r=b(o,e[0]),o.forEach(_),this.h()},h(){E(t,"class","tagline svelte-595vqi")},m(e,n){A(e,t,n),x(t,r)},p(e,t){1&t&&T(r,e[0])},d(e){e&&_(t)}}}function Xn(e){let t,r=e[0]&&Zn(e);return{c(){r&&r.c(),t=O()},l(e){r&&r.l(e),t=O()},m(e,n){r&&r.m(e,n),A(e,t,n)},p(e,[n]){e[0]?r?r.p(e,n):(r=Zn(e),r.c(),r.m(t.parentNode,t)):r&&(r.d(1),r=null)},i:k,o:k,d(e){r&&r.d(e),e&&_(t)}}}function eo(e,t,r){let n;return R(e,Tr,(e=>r(0,n=e))),[n]}class to extends f{constructor(e){super(),d(this,e,eo,Xn,p,{})}}function ro(e,t,r){const n=e.slice();return n[8]=t[r].tag,n[9]=t[r].count,n[10]=t[r].impliedTag,n[11]=t[r].unreachableTag,n[12]=t[r].lowQuantile,n[13]=t[r].midQuantile,n[14]=t[r].highQuantile,n}function no(e){let t,r,n,o,s;return{c(){t=v("div"),r=v("span"),n=m("Search query:"),o=g(),s=m(e[4]),this.h()},l(i){t=y(i,"DIV",{class:!0});var a=w(t);r=y(a,"SPAN",{class:!0});var c=w(r);n=b(c,"Search query:"),c.forEach(_),o=$(a),s=b(a,e[4]),a.forEach(_),this.h()},h(){E(r,"class","svelte-18uwrer"),E(t,"class","search_query svelte-18uwrer")},m(e,i){A(e,t,i),x(t,r),x(r,n),x(t,o),x(t,s)},p(e,t){16&t&&T(s,e[4])},d(e){e&&_(t)}}}function oo(e){let t,r,n,o,s=e[0],i=[];for(let a=0;a<s.length;a+=1)i[a]=so(ro(e,s,a));return{c(){t=v("div");for(let e=0;e<i.length;e+=1)i[e].c();this.h()},l(e){t=y(e,"DIV",{class:!0,style:!0});var r=w(t);for(let t=0;t<i.length;t+=1)i[t].l(r);r.forEach(_),this.h()},h(){E(t,"class","tagcloud svelte-18uwrer"),Y(t,"--maxWidth",e[3]),P(t,"disabled",!e[5])},m(e,r){A(e,t,r);for(let n=0;n<i.length;n+=1)i[n].m(t,null);o=!0},p(e,r){if(67&r){let n;for(s=e[0],n=0;n<s.length;n+=1){const o=ro(e,s,n);i[n]?i[n].p(o,r):(i[n]=so(o),i[n].c(),i[n].m(t,null))}for(;n<i.length;n+=1)i[n].d(1);i.length=s.length}(!o||8&r)&&Y(t,"--maxWidth",e[3]),32&r&&P(t,"disabled",!e[5])},i(e){o||(W((()=>{n&&n.end(1),r||(r=J(t,Q,{duration:300,delay:100})),r.start()})),o=!0)},o(e){r&&r.invalidate(),n=G(t,Q,{}),o=!1},d(e){e&&_(t),S(i,e),e&&n&&n.end()}}}function so(e){let t,r,n,o,s,i,a,c,l=e[9]+"",h=e[8]+"";function u(){return e[7](e[10],e[11],e[8])}return{c(){t=v("span"),r=v("span"),n=m(l),o=m("x"),s=g(),i=m(h),this.h()},l(e){t=y(e,"SPAN",{class:!0});var a=w(t);r=y(a,"SPAN",{class:!0});var c=w(r);n=b(c,l),o=b(c,"x"),c.forEach(_),s=$(a),i=b(a,h),a.forEach(_),this.h()},h(){E(r,"class","count svelte-18uwrer"),E(t,"class","tag svelte-18uwrer"),P(t,"implied_tag",e[10]),P(t,"unreachable",e[11]),P(t,"active",e[6][e[8]]),P(t,"low_quantile",e[12]),P(t,"mid_quantile",e[13]),P(t,"high_quantile",e[14])},m(e,l){A(e,t,l),x(t,r),x(r,n),x(r,o),x(t,s),x(t,i),a||(c=H(t,"click",u),a=!0)},p(r,o){e=r,1&o&&l!==(l=e[9]+"")&&T(n,l),1&o&&h!==(h=e[8]+"")&&T(i,h),1&o&&P(t,"implied_tag",e[10]),1&o&&P(t,"unreachable",e[11]),65&o&&P(t,"active",e[6][e[8]]),1&o&&P(t,"low_quantile",e[12]),1&o&&P(t,"mid_quantile",e[13]),1&o&&P(t,"high_quantile",e[14])},d(e){e&&_(t),a=!1,c()}}}function io(e){let t,r,n,o=e[4]&&no(e),s=e[0]&&oo(e);return{c(){o&&o.c(),t=g(),s&&s.c(),r=O()},l(e){o&&o.l(e),t=$(e),s&&s.l(e),r=O()},m(e,i){o&&o.m(e,i),A(e,t,i),s&&s.m(e,i),A(e,r,i),n=!0},p(e,[n]){e[4]?o?o.p(e,n):(o=no(e),o.c(),o.m(t.parentNode,t)):o&&(o.d(1),o=null),e[0]?s?(s.p(e,n),1&n&&D(s,1)):(s=oo(e),s.c(),D(s,1),s.m(r.parentNode,r)):s&&(L(),M(s,1,1,(()=>{s=null})),V())},i(e){n||(D(s),n=!0)},o(e){M(s),n=!1},d(e){o&&o.d(e),e&&_(t),s&&s.d(e),e&&_(r)}}}function ao(e,t,r){let n,o,s,i=k,a=()=>(i(),i=N(h,(e=>r(5,o=e))),h);R(e,Wr,(e=>r(4,n=e))),R(e,rn,(e=>r(6,s=e))),e.$$.on_destroy.push((()=>i()));let{tagcloud:c}=t,{onTagClick:l}=t,{connected:h}=t;a();let{maxWidth:u="600px"}=t;return e.$$set=e=>{"tagcloud"in e&&r(0,c=e.tagcloud),"onTagClick"in e&&r(1,l=e.onTagClick),"connected"in e&&a(r(2,h=e.connected)),"maxWidth"in e&&r(3,u=e.maxWidth)},[c,l,h,u,n,o,s,(e,t,r)=>{e||t||l(r)}]}class co extends f{constructor(e){super(),d(this,e,ao,io,p,{tagcloud:0,onTagClick:1,connected:2,maxWidth:3})}}function lo(e=new Date){return e.toString().match(new RegExp("\\((.*?)\\)"))[1]}function ho(e){let t,r,n,o=e[0].toUpperCase()+"";return{c(){t=v("div"),r=m(o),this.h()},l(e){t=y(e,"DIV",{class:!0});var n=w(t);r=b(n,o),n.forEach(_),this.h()},h(){E(t,"class",n="tag "+e[0].replace("-","").toLowerCase()+" svelte-by8e9u")},m(e,n){A(e,t,n),x(t,r)},p(e,[s]){1&s&&o!==(o=e[0].toUpperCase()+"")&&T(r,o),1&s&&n!==(n="tag "+e[0].replace("-","").toLowerCase()+" svelte-by8e9u")&&E(t,"class",n)},i:k,o:k,d(e){e&&_(t)}}}function uo(e,t,r){let{siteTag:n}=t;return e.$$set=e=>{"siteTag"in e&&r(0,n=e.siteTag)},[n]}class fo extends f{constructor(e){super(),d(this,e,uo,ho,p,{siteTag:0})}}function po(e){let t,r,n,o,s,i,a,c;return{c(){t=v("div"),r=v("div"),n=v("div"),o=g(),s=v("div"),i=m("ⓘ"),this.h()},l(e){t=y(e,"DIV",{class:!0});var a=w(t);r=y(a,"DIV",{class:!0});var c=w(r);n=y(c,"DIV",{class:!0}),w(n).forEach(_),o=$(c),s=y(c,"DIV",{role:!0,class:!0});var l=w(s);i=b(l,"ⓘ"),l.forEach(_),c.forEach(_),a.forEach(_),this.h()},h(){E(n,"class","bg svelte-86a428"),P(n,"hovering",e[6]),P(n,"active",e[0]),E(s,"role","button"),E(s,"class","toggle svelte-86a428"),P(s,"hovering",e[6]),E(r,"class","corner svelte-86a428"),E(t,"class","toggle-container svelte-86a428"),P(t,"scoreInfoVisible",e[0])},m(l,h){A(l,t,h),x(t,r),x(r,n),x(r,o),x(r,s),x(s,i),a||(c=[H(s,"click",Z(X(e[14]))),H(s,"mouseover",e[15]),H(s,"mouseout",e[16])],a=!0)},p(e,r){64&r&&P(n,"hovering",e[6]),1&r&&P(n,"active",e[0]),64&r&&P(s,"hovering",e[6]),1&r&&P(t,"scoreInfoVisible",e[0])},d(e){e&&_(t),a=!1,ee(c)}}}function vo(e){let t,r,n,o,s,i,a,c,l,h,u,f,d,p=e[2]&&mo(e),O="this"==e[4].providerTag&&e[3]&&e[8]!=e[3]&&go(e);return{c(){t=v("section"),r=g(),n=v("div"),o=v("label"),s=m("Score"),i=g(),a=v("div"),c=v("span"),l=m(e[1]),h=g(),p&&p.c(),u=g(),f=g(),O&&O.c(),this.h()},l(d){t=y(d,"SECTION",{class:!0});var v=w(t);r=$(v),n=y(v,"DIV",{class:!0});var m=w(n);o=y(m,"LABEL",{for:!0,class:!0});var g=w(o);s=b(g,"Score"),g.forEach(_),i=$(m),a=y(m,"DIV",{name:!0,class:!0});var E=w(a);c=y(E,"SPAN",{class:!0});var A=w(c);l=b(A,e[1]),A.forEach(_),h=$(E),p&&p.l(E),E.forEach(_),m.forEach(_),u=$(v),f=$(v),O&&O.l(v),v.forEach(_),this.h()},h(){E(o,"for","link-score"),E(o,"class","svelte-86a428"),E(c,"class","svelte-86a428"),E(a,"name","link-score"),E(a,"class","value score svelte-86a428"),E(n,"class","info svelte-86a428"),E(t,"class","score_info svelte-86a428"),P(t,"scoreInfoVisible",e[0])},m(e,d){A(e,t,d),x(t,r),x(t,n),x(n,o),x(o,s),x(n,i),x(n,a),x(a,c),x(c,l),x(a,h),p&&p.m(a,null),x(t,u),x(t,f),O&&O.m(t,null)},p(e,r){2&r&&T(l,e[1]),e[2]?p?p.p(e,r):(p=mo(e),p.c(),p.m(a,null)):p&&(p.d(1),p=null),"this"==e[4].providerTag&&e[3]&&e[8]!=e[3]?O?O.p(e,r):(O=go(e),O.c(),O.m(t,null)):O&&(O.d(1),O=null),1&r&&P(t,"scoreInfoVisible",e[0])},i(e){d||W((()=>{d=J(t,te,{delay:200,duration:100}),d.start()}))},o:k,d(e){e&&_(t),p&&p.d(),O&&O.d()}}}function mo(e){let t,r,n,o;return{c(){t=v("span"),r=m("(incl. "),n=m(e[2]),o=m(" boost)"),this.h()},l(s){t=y(s,"SPAN",{class:!0});var i=w(t);r=b(i,"(incl. "),n=b(i,e[2]),o=b(i," boost)"),i.forEach(_),this.h()},h(){E(t,"class","boost svelte-86a428")},m(e,s){A(e,t,s),x(t,r),x(t,n),x(t,o)},p(e,t){4&t&&T(n,e[2])},d(e){e&&_(t)}}}function go(e){let t,r,n,o,s,i;return{c(){t=v("div"),r=v("label"),n=m("Index"),o=g(),s=v("div"),i=m(e[3]),this.h()},l(a){t=y(a,"DIV",{class:!0});var c=w(t);r=y(c,"LABEL",{for:!0,class:!0});var l=w(r);n=b(l,"Index"),l.forEach(_),o=$(c),s=y(c,"DIV",{name:!0,class:!0});var h=w(s);i=b(h,e[3]),h.forEach(_),c.forEach(_),this.h()},h(){E(r,"for","linkIndex"),E(r,"class","svelte-86a428"),E(s,"name","linkIndex"),E(s,"class","value svelte-86a428"),E(t,"class","info svelte-86a428")},m(e,a){A(e,t,a),x(t,r),x(r,n),x(t,o),x(t,s),x(s,i)},p(e,t){8&t&&T(i,e[3])},d(e){e&&_(t)}}}function yo(e){let t,r,n=!e[7]&&po(e),o=e[0]&&vo(e);return{c(){n&&n.c(),t=g(),o&&o.c(),r=O()},l(e){n&&n.l(e),t=$(e),o&&o.l(e),r=O()},m(e,s){n&&n.m(e,s),A(e,t,s),o&&o.m(e,s),A(e,r,s)},p(e,[s]){e[7]?n&&(n.d(1),n=null):n?n.p(e,s):(n=po(e),n.c(),n.m(t.parentNode,t)),e[0]?o?(o.p(e,s),1&s&&D(o,1)):(o=vo(e),o.c(),D(o,1),o.m(r.parentNode,r)):o&&(o.d(1),o=null)},i(e){D(o)},o:k,d(e){n&&n.d(e),e&&_(t),o&&o.d(e),e&&_(r)}}}function wo(e,t,r){let n,o;R(e,Ur,(e=>r(7,n=e))),R(e,xr,(e=>r(8,o=e)));let{scoreInfoVisible:s=!1}=t,{score:i}=t,{title:a}=t,{tags:c}=t,{boost:l}=t,{context:h}=t,{linkIndexName:u}=t,{meta:f}=t,{i:d}=t;const p=re();let v;s=!1;return e.$$set=e=>{"scoreInfoVisible"in e&&r(0,s=e.scoreInfoVisible),"score"in e&&r(1,i=e.score),"title"in e&&r(11,a=e.title),"tags"in e&&r(12,c=e.tags),"boost"in e&&r(2,l=e.boost),"context"in e&&r(13,h=e.context),"linkIndexName"in e&&r(3,u=e.linkIndexName),"meta"in e&&r(4,f=e.meta),"i"in e&&r(5,d=e.i)},[s,i,l,u,f,d,v,n,o,p,["Frida Jaramillo","Marshall Ferreira","Aarav Logan","Edna Hayden","Elaina Davie","Danni Ruiz","Krystal Dodson","Jordanne Mccullough","Zubair Boyd","Natalya Hancock","Zayden Galloway","Casey Mayer","Fergus Emerson","Bella-Rose Vang","Rabia Franks","Ernest Atherton","Rachel Jensen","Shivani Metcalfe","Ayisha Mueller","Davey Preston"],a,c,h,()=>p("toggle"),()=>r(6,v=!0),()=>r(6,v=!1)]}class bo extends f{constructor(e){super(),d(this,e,wo,yo,p,{scoreInfoVisible:0,score:1,title:11,tags:12,boost:2,context:13,linkIndexName:3,meta:4,i:5})}}function _o(e,t,r){const n=e.slice();return n[26]=t[r],n}function $o(e){let t;return{c(){t=v("div"),this.h()},l(e){t=y(e,"DIV",{class:!0,style:!0}),w(t).forEach(_),this.h()},h(){E(t,"class","favicon svelte-11lvo0l"),Y(t,"background-image","url("+e[12]+")")},m(e,r){A(e,t,r)},p(e,r){4096&r&&Y(t,"background-image","url("+e[12]+")")},d(e){e&&_(t)}}}function Eo(e){let t,r;return{c(){t=v("div"),r=m(e[4]),this.h()},l(n){t=y(n,"DIV",{class:!0});var o=w(t);r=b(o,e[4]),o.forEach(_),this.h()},h(){E(t,"class","media_type svelte-11lvo0l")},m(e,n){A(e,t,n),x(t,r)},p(e,t){16&t&&T(r,e[4])},d(e){e&&_(t)}}}function Ao(e){let t;function r(e,t){return e[11].imageUrl?To:xo}let n=r(e),o=n(e);return{c(){o.c(),t=O()},l(e){o.l(e),t=O()},m(e,r){o.m(e,r),A(e,t,r)},p(e,s){n===(n=r(e))&&o?o.p(e,s):(o.d(1),o=n(e),o&&(o.c(),o.m(t.parentNode,t)))},d(e){o.d(e),e&&_(t)}}}function xo(e){let t;return{c(){t=v("div"),this.h()},l(e){t=y(e,"DIV",{class:!0}),w(t).forEach(_),this.h()},h(){E(t,"class","image image-placeholder svelte-11lvo0l")},m(e,r){A(e,t,r)},p:k,d(e){e&&_(t)}}}function To(e){let t;return{c(){t=v("div"),this.h()},l(e){t=y(e,"DIV",{class:!0,style:!0}),w(t).forEach(_),this.h()},h(){E(t,"class","image svelte-11lvo0l"),Y(t,"background-image","url("+e[11].imageUrl+")")},m(e,r){A(e,t,r)},p(e,r){2048&r&&Y(t,"background-image","url("+e[11].imageUrl+")")},d(e){e&&_(t)}}}function ko(e){let t,r,n;return r=new fo({props:{siteTag:e[10]}}),{c(){t=v("div"),I(r.$$.fragment),this.h()},l(e){t=y(e,"DIV",{class:!0});var n=w(t);U(r.$$.fragment,n),n.forEach(_),this.h()},h(){E(t,"class","site_tag svelte-11lvo0l")},m(e,o){A(e,t,o),C(r,t,null),n=!0},p(e,t){const n={};1024&t&&(n.siteTag=e[10]),r.$set(n)},i(e){n||(D(r.$$.fragment,e),n=!0)},o(e){M(r.$$.fragment,e),n=!1},d(e){e&&_(t),j(r)}}}function Oo(e){let t,r;return{c(){t=v("div"),r=m(e[7]),this.h()},l(n){t=y(n,"DIV",{class:!0});var o=w(t);r=b(o,e[7]),o.forEach(_),this.h()},h(){E(t,"class","context svelte-11lvo0l")},m(e,n){A(e,t,n),x(t,r)},p(e,t){128&t&&T(r,e[7])},d(e){e&&_(t)}}}function Po(e){let t,r,n=e[11].description+"";return{c(){t=v("div"),r=m(n),this.h()},l(e){t=y(e,"DIV",{class:!0});var o=w(t);r=b(o,n),o.forEach(_),this.h()},h(){E(t,"class","description svelte-11lvo0l"),P(t,"expand",Mo)},m(e,n){A(e,t,n),x(t,r)},p(e,t){2048&t&&n!==(n=e[11].description+"")&&T(r,n)},d(e){e&&_(t)}}}function So(e){let t,r,n="this"==e[0].providerTag&&e[5]&&e[16]!=e[5]&&No(e),o=e[3],s=[];for(let i=0;i<o.length;i+=1)s[i]=Ro(_o(e,o,i));return{c(){t=v("div"),n&&n.c(),r=O();for(let e=0;e<s.length;e+=1)s[e].c();this.h()},l(e){t=y(e,"DIV",{class:!0});var o=w(t);n&&n.l(o),r=O();for(let t=0;t<s.length;t+=1)s[t].l(o);o.forEach(_),this.h()},h(){E(t,"class","tags svelte-11lvo0l")},m(e,o){A(e,t,o),n&&n.m(t,null),x(t,r);for(let r=0;r<s.length;r+=1)s[r].m(t,null)},p(e,i){if("this"==e[0].providerTag&&e[5]&&e[16]!=e[5]?n?n.p(e,i):(n=No(e),n.c(),n.m(t,r)):n&&(n.d(1),n=null),1179656&i){let r;for(o=e[3],r=0;r<o.length;r+=1){const n=_o(e,o,r);s[r]?s[r].p(n,i):(s[r]=Ro(n),s[r].c(),s[r].m(t,null))}for(;r<s.length;r+=1)s[r].d(1);s.length=o.length}},d(e){e&&_(t),n&&n.d(),S(s,e)}}}function No(e){let t,r;return{c(){t=v("span"),r=m(e[5]),this.h()},l(n){t=y(n,"SPAN",{class:!0});var o=w(t);r=b(o,e[5]),o.forEach(_),this.h()},h(){E(t,"class","link_index svelte-11lvo0l")},m(e,n){A(e,t,n),x(t,r)},p(e,t){32&t&&T(r,e[5])},d(e){e&&_(t)}}}function Ro(e){let t,r,n=e[26]+"";return{c(){t=v("span"),r=m(n),this.h()},l(e){t=y(e,"SPAN",{class:!0});var o=w(t);r=b(o,n),o.forEach(_),this.h()},h(){E(t,"class","svelte-11lvo0l"),P(t,"active",e[17][e[26]]),P(t,"implied_tag",e[20](e[26]))},m(e,n){A(e,t,n),x(t,r)},p(e,o){8&o&&n!==(n=e[26]+"")&&T(r,n),131080&o&&P(t,"active",e[17][e[26]]),1048584&o&&P(t,"implied_tag",e[20](e[26]))},d(e){e&&_(t)}}}function Io(e){let t,r,n;function o(t){e[23](t)}let s={context:e[7],score:e[8],title:e[2],boost:e[6],meta:e[0],linkIndexName:e[5],i:e[14]};return void 0!==e[15]&&(s.scoreInfoVisible=e[15]),t=new bo({props:s}),oe.push((()=>se(t,"scoreInfoVisible",o))),t.$on("toggle",e[19]),{c(){I(t.$$.fragment)},l(e){U(t.$$.fragment,e)},m(e,r){C(t,e,r),n=!0},p(e,n){const o={};128&n&&(o.context=e[7]),256&n&&(o.score=e[8]),4&n&&(o.title=e[2]),64&n&&(o.boost=e[6]),1&n&&(o.meta=e[0]),32&n&&(o.linkIndexName=e[5]),16384&n&&(o.i=e[14]),!r&&32768&n&&(r=!0,o.scoreInfoVisible=e[15],ne((()=>r=!1))),t.$set(o)},i(e){n||(D(t.$$.fragment,e),n=!0)},o(e){M(t.$$.fragment,e),n=!1},d(e){j(t,e)}}}function Uo(e){let t,r=e[9]&&Co(e);return{c(){t=v("div"),r&&r.c(),this.h()},l(e){t=y(e,"DIV",{class:!0});var n=w(t);r&&r.l(n),n.forEach(_),this.h()},h(){E(t,"class","explain_scores svelte-11lvo0l")},m(e,n){A(e,t,n),r&&r.m(t,null)},p(e,n){e[9]?r?r.p(e,n):(r=Co(e),r.c(),r.m(t,null)):r&&(r.d(1),r=null)},d(e){e&&_(t),r&&r.d()}}}function Co(e){let t,r,n,o,s,i=(e[9]||"")+"";return{c(){t=m("score "),r=v("b"),n=m(e[8]),o=m(" = "),s=m(i),this.h()},l(a){t=b(a,"score "),r=y(a,"B",{class:!0});var c=w(r);n=b(c,e[8]),c.forEach(_),o=b(a," = "),s=b(a,i),this.h()},h(){E(r,"class","svelte-11lvo0l")},m(e,i){A(e,t,i),A(e,r,i),x(r,n),A(e,o,i),A(e,s,i)},p(e,t){256&t&&T(n,e[8]),512&t&&i!==(i=(e[9]||"")+"")&&T(s,i)},d(e){e&&_(t),e&&_(r),e&&_(o),e&&_(s)}}}function Do(e){var t;let r,n,o,s,i,a,c,l,h,u,f,d,p,k,P,S,N,R,I,U,C,j,B,z,q,K=("this"==e[0].providerTag?"":e[0].providerTag)+"",F=(e[2]||"")+"",Y=e[1].replace(/^https?:\/\//,"").replace(/\/$/,"")+"",W=e[12]&&$o(e);function J(e,t){return e[11]?Ao:e[4]?Eo:void 0}let Q=J(e),G=Q&&Q(e),Z=e[10]&&ko(e),X=e[7]&&Oo(e),ee=(null==(t=e[11])?void 0:t.description)&&Po(e),te=e[3]&&So(e),re=!e[13]&&Io(e),ne=(kr||e[15])&&Uo(e);return{c(){r=v("a"),W&&W.c(),n=g(),o=v("div"),s=m(K),i=g(),a=v("div"),c=v("div"),G&&G.c(),l=g(),Z&&Z.c(),h=g(),u=v("div"),f=v("div"),d=m(F),p=g(),X&&X.c(),k=g(),P=v("div"),S=m(Y),N=g(),ee&&ee.c(),R=g(),te&&te.c(),I=g(),re&&re.c(),C=g(),ne&&ne.c(),j=O(),this.h()},l(e){r=y(e,"A",{class:!0,href:!0,tabindex:!0,role:!0});var t=w(r);W&&W.l(t),n=$(t),o=y(t,"DIV",{class:!0});var v=w(o);s=b(v,K),v.forEach(_),i=$(t),a=y(t,"DIV",{class:!0});var m=w(a);c=y(m,"DIV",{class:!0});var g=w(c);G&&G.l(g),l=$(g),Z&&Z.l(g),g.forEach(_),h=$(m),u=y(m,"DIV",{class:!0});var E=w(u);f=y(E,"DIV",{class:!0});var A=w(f);d=b(A,F),A.forEach(_),p=$(E),X&&X.l(E),k=$(E),P=y(E,"DIV",{class:!0});var x=w(P);S=b(x,Y),x.forEach(_),N=$(E),ee&&ee.l(E),R=$(E),te&&te.l(E),E.forEach(_),m.forEach(_),I=$(t),re&&re.l(t),t.forEach(_),C=$(e),ne&&ne.l(e),j=O(),this.h()},h(){E(o,"class","provider_tag svelte-11lvo0l"),E(c,"class","preview"),E(f,"class","title svelte-11lvo0l"),E(P,"class","url svelte-11lvo0l"),E(u,"class","content svelte-11lvo0l"),E(a,"class","entry svelte-11lvo0l"),E(r,"class","container svelte-11lvo0l"),E(r,"href",e[1]),E(r,"tabindex",U=e[14]+1),E(r,"role","link")},m(t,v){A(t,r,v),W&&W.m(r,null),x(r,n),x(r,o),x(o,s),x(r,i),x(r,a),x(a,c),G&&G.m(c,null),x(c,l),Z&&Z.m(c,null),x(a,h),x(a,u),x(u,f),x(f,d),x(u,p),X&&X.m(u,null),x(u,k),x(u,P),x(P,S),x(u,N),ee&&ee.m(u,null),x(u,R),te&&te.m(u,null),x(r,I),re&&re.m(r,null),A(t,C,v),ne&&ne.m(t,v),A(t,j,v),B=!0,z||(q=H(r,"click",e[18]),z=!0)},p(e,[t]){var o;e[12]?W?W.p(e,t):(W=$o(e),W.c(),W.m(r,n)):W&&(W.d(1),W=null),(!B||1&t)&&K!==(K=("this"==e[0].providerTag?"":e[0].providerTag)+"")&&T(s,K),Q===(Q=J(e))&&G?G.p(e,t):(G&&G.d(1),G=Q&&Q(e),G&&(G.c(),G.m(c,l))),e[10]?Z?(Z.p(e,t),1024&t&&D(Z,1)):(Z=ko(e),Z.c(),D(Z,1),Z.m(c,null)):Z&&(L(),M(Z,1,1,(()=>{Z=null})),V()),(!B||4&t)&&F!==(F=(e[2]||"")+"")&&T(d,F),e[7]?X?X.p(e,t):(X=Oo(e),X.c(),X.m(u,k)):X&&(X.d(1),X=null),(!B||2&t)&&Y!==(Y=e[1].replace(/^https?:\/\//,"").replace(/\/$/,"")+"")&&T(S,Y),(null==(o=e[11])?void 0:o.description)?ee?ee.p(e,t):(ee=Po(e),ee.c(),ee.m(u,R)):ee&&(ee.d(1),ee=null),e[3]?te?te.p(e,t):(te=So(e),te.c(),te.m(u,null)):te&&(te.d(1),te=null),e[13]?re&&(L(),M(re,1,1,(()=>{re=null})),V()):re?(re.p(e,t),8192&t&&D(re,1)):(re=Io(e),re.c(),D(re,1),re.m(r,null)),(!B||2&t)&&E(r,"href",e[1]),(!B||16384&t&&U!==(U=e[14]+1))&&E(r,"tabindex",U),kr||e[15]?ne?ne.p(e,t):(ne=Uo(e),ne.c(),ne.m(j.parentNode,j)):ne&&(ne.d(1),ne=null)},i(e){B||(D(Z),D(re),B=!0)},o(e){M(Z),M(re),B=!1},d(e){e&&_(r),W&&W.d(),G&&G.d(),Z&&Z.d(),X&&X.d(),ee&&ee.d(),te&&te.d(),re&&re.d(),e&&_(C),ne&&ne.d(e),e&&_(j),z=!1,q()}}}let Mo=!1;function jo(e,t,r){let n,o,s;R(e,Ar,(e=>r(24,n=e))),R(e,xr,(e=>r(16,o=e))),R(e,rn,(e=>r(17,s=e)));let i,{connector:a}=t,{meta:c}=t,{url:l}=t,{title:h}=t,{tags:u}=t,{mediaType:f}=t,{linkIndexName:d}=t,{boost:p}=t,{context:v}=t,{score:m}=t,{scoreExplain:g}=t,{siteTag:y}=t,{preview:w}=t,{favicon:b}=t,{tagcloud:_}=t,{newsfeed:$}=t,{i:E}=t;const A=lo();return e.$$set=e=>{"connector"in e&&r(21,a=e.connector),"meta"in e&&r(0,c=e.meta),"url"in e&&r(1,l=e.url),"title"in e&&r(2,h=e.title),"tags"in e&&r(3,u=e.tags),"mediaType"in e&&r(4,f=e.mediaType),"linkIndexName"in e&&r(5,d=e.linkIndexName),"boost"in e&&r(6,p=e.boost),"context"in e&&r(7,v=e.context),"score"in e&&r(8,m=e.score),"scoreExplain"in e&&r(9,g=e.scoreExplain),"siteTag"in e&&r(10,y=e.siteTag),"preview"in e&&r(11,w=e.preview),"favicon"in e&&r(12,b=e.favicon),"tagcloud"in e&&r(22,_=e.tagcloud),"newsfeed"in e&&r(13,$=e.newsfeed),"i"in e&&r(14,E=e.i)},[c,l,h,u,f,d,p,v,m,g,y,w,b,$,E,i,o,s,function(){const{host:e}=window.location,t={ethAccount:n,host:e};try{a.remoteObject("GUISearchObject").call("trackLinkClick",{url:l,title:h,siteTag:y,providerTag:c.providerTag,timezone:A,clickMetadata:t}).then((()=>{console.log("TRACKER RETURNED")}))}catch(r){console.log(r)}},function(){r(15,i=!i)},function(e){return _&&_.find((({tag:t,impliedTag:r})=>t==e&&r))},a,_,function(e){i=e,r(15,i)}]}class Lo extends f{constructor(e){super(),d(this,e,jo,Do,p,{connector:21,meta:0,url:1,title:2,tags:3,mediaType:4,linkIndexName:5,boost:6,context:7,score:8,scoreExplain:9,siteTag:10,preview:11,favicon:12,tagcloud:22,newsfeed:13,i:14})}}const Vo=window.location.host;function Bo(){return{ethAccount:u(Ar),searchOriginHost:Vo,isLAN:false}}function zo(e,t){Wr.set(null),Qr.set(e),console.log(`Browse place: ${e}`);t.remoteObject("GUISearchObject").call("browsePlace",{place:e,searchMetadata:Bo()}).then((e=>{console.log("browsePlace RESULTS:"),console.dir(e),Zr.set({searchResults:e})})).catch((e=>{Zr.set({searchError:e})}))}function qo(e){let t;function r(e,t){return e[10]?Fo:Ko}let n=r(e),o=n(e);return{c(){o.c(),t=O()},l(e){o.l(e),t=O()},m(e,r){o.m(e,r),A(e,t,r)},p(e,s){n===(n=r(e))&&o?o.p(e,s):(o.d(1),o=n(e),o&&(o.c(),o.m(t.parentNode,t)))},d(e){o.d(e),e&&_(t)}}}function Ko(e){let t,r,n,o,s;return{c(){t=v("span"),r=v("span"),n=m("📁"),o=g(),s=m(e[4]),this.h()},l(i){t=y(i,"SPAN",{class:!0});var a=w(t);r=y(a,"SPAN",{class:!0});var c=w(r);n=b(c,"📁"),c.forEach(_),o=$(a),s=b(a,e[4]),a.forEach(_),this.h()},h(){E(r,"class","icon"),E(t,"class","directory svelte-iu72us")},m(e,i){A(e,t,i),x(t,r),x(r,n),x(t,o),x(t,s)},p(e,t){16&t&&T(s,e[4])},d(e){e&&_(t)}}}function Fo(e){let t,r,n,o,s,i,a,c;return{c(){t=v("a"),r=v("span"),n=m("📁"),o=g(),s=m(e[4]),this.h()},l(i){t=y(i,"A",{class:!0,href:!0});var a=w(t);r=y(a,"SPAN",{class:!0});var c=w(r);n=b(c,"📁"),c.forEach(_),o=$(a),s=b(a,e[4]),a.forEach(_),this.h()},h(){E(r,"class","icon svelte-iu72us"),E(t,"class","directory svelte-iu72us"),E(t,"href",i=`/?place=${e[6]}`)},m(i,l){A(i,t,l),x(t,r),x(r,n),x(t,o),x(t,s),a||(c=H(t,"click",X(e[20])),a=!0)},p(e,r){16&r&&T(s,e[4]),64&r&&i!==(i=`/?place=${e[6]}`)&&E(t,"href",i)},d(e){e&&_(t),a=!1,c()}}}function Yo(e){let t,r;return{c(){t=v("div"),r=m(e[8]),this.h()},l(n){t=y(n,"DIV",{class:!0});var o=w(t);r=b(o,e[8]),o.forEach(_),this.h()},h(){E(t,"class","file_size svelte-iu72us")},m(e,n){A(e,t,n),x(t,r)},p(e,t){256&t&&T(r,e[8])},d(e){e&&_(t)}}}function Ho(e){let t,r,n,o;return{c(){t=v("div"),r=m("⏱️ "),n=v("span"),o=m(e[9]),this.h()},l(s){t=y(s,"DIV",{class:!0});var i=w(t);r=b(i,"⏱️ "),n=y(i,"SPAN",{});var a=w(n);o=b(a,e[9]),a.forEach(_),i.forEach(_),this.h()},h(){E(t,"class","file_updated_at svelte-iu72us")},m(e,s){A(e,t,s),x(t,r),x(t,n),x(n,o)},p(e,t){512&t&&T(o,e[9])},d(e){e&&_(t)}}}function Wo(e){let t,r,n,o,s,i,a,c,l,h,u,f,d,p,O,S,N,R,I,U,C,D=("this"==e[1].providerTag?"":e[1].providerTag)+"",M=(e[3]||"")+"",j=e[4]!=e[11]&&qo(e),L=e[8]&&Yo(e),V=e[9]&&Ho(e);return{c(){j&&j.c(),t=g(),r=v("a"),n=v("div"),o=m(D),s=g(),i=v("div"),a=v("div"),c=v("div"),l=m(e[12]),h=g(),u=v("div"),f=v("div"),d=m(e[5]),p=g(),O=v("div"),S=m(M),N=g(),L&&L.c(),R=g(),V&&V.c(),this.h()},l(v){j&&j.l(v),t=$(v),r=y(v,"A",{class:!0,href:!0,tabindex:!0,role:!0});var m=w(r);n=y(m,"DIV",{class:!0});var g=w(n);o=b(g,D),g.forEach(_),s=$(m),i=y(m,"DIV",{class:!0});var E=w(i);a=y(E,"DIV",{class:!0});var A=w(a);c=y(A,"DIV",{class:!0});var x=w(c);l=b(x,e[12]),x.forEach(_),A.forEach(_),h=$(E),u=y(E,"DIV",{class:!0});var T=w(u);f=y(T,"DIV",{class:!0});var k=w(f);d=b(k,e[5]),k.forEach(_),p=$(T),O=y(T,"DIV",{class:!0});var P=w(O);S=b(P,M),P.forEach(_),N=$(T),L&&L.l(T),R=$(T),V&&V.l(T),T.forEach(_),E.forEach(_),m.forEach(_),this.h()},h(){E(n,"class","provider_tag svelte-iu72us"),E(c,"class","file_type "+e[12]+" svelte-iu72us"),P(c,"small",e[12].length>3),E(a,"class","preview svelte-iu72us"),E(f,"class","basedir svelte-iu72us"),E(O,"class","title "+e[12]+" svelte-iu72us"),E(u,"class","content svelte-iu72us"),E(i,"class","entry svelte-iu72us"),E(r,"class","container svelte-iu72us"),E(r,"href",e[7]),E(r,"tabindex",I=e[2]+1),E(r,"role","link")},m(v,m){j&&j.m(v,m),A(v,t,m),A(v,r,m),x(r,n),x(n,o),x(r,s),x(r,i),x(i,a),x(a,c),x(c,l),x(i,h),x(i,u),x(u,f),x(f,d),x(u,p),x(u,O),x(O,S),x(u,N),L&&L.m(u,null),x(u,R),V&&V.m(u,null),U||(C=H(r,"click",e[21]),U=!0)},p(e,[n]){e[4]!=e[11]?j?j.p(e,n):(j=qo(e),j.c(),j.m(t.parentNode,t)):j&&(j.d(1),j=null),2&n&&D!==(D=("this"==e[1].providerTag?"":e[1].providerTag)+"")&&T(o,D),32&n&&T(d,e[5]),8&n&&M!==(M=(e[3]||"")+"")&&T(S,M),e[8]?L?L.p(e,n):(L=Yo(e),L.c(),L.m(u,R)):L&&(L.d(1),L=null),e[9]?V?V.p(e,n):(V=Ho(e),V.c(),V.m(u,null)):V&&(V.d(1),V=null),128&n&&E(r,"href",e[7]),4&n&&I!==(I=e[2]+1)&&E(r,"tabindex",I)},i:k,o:k,d(e){j&&j.d(e),e&&_(t),e&&_(r),L&&L.d(),V&&V.d(),U=!1,C()}}}function Jo(e,t,r){let n,o;R(e,Ar,(e=>r(23,o=e)));let{connector:s}=t,{meta:i}=t,{allResults:a}=t,{i:c}=t,{fileName:l}=t,{directory:h}=t,{basedir:u}=t,{directoryHandle:f}=t,{place:d}=t,{playableUrl:p}=t,{mediaType:v}=t,{extname:m}=t,{fileSizePretty:g}=t,{fileUpdatedAtRelativePretty:y}=t,{fileNote:w}=t,{hasPlayer:b}=t,{localResult:_}=t,$=v||m;const E=lo();function A({fileName:e}){const{host:t}=window.location,r={displayName:"",ethAccount:o,host:t};try{s.remoteObject("GUISearchObject").call("trackFileClick",{fileName:e,providerTag:i.providerTag,timezone:E,clickMetadata:r}).then((()=>{console.log("TRACKER RETURNED")}))}catch(n){console.log(n)}}return e.$$set=e=>{"connector"in e&&r(0,s=e.connector),"meta"in e&&r(1,i=e.meta),"allResults"in e&&r(14,a=e.allResults),"i"in e&&r(2,c=e.i),"fileName"in e&&r(3,l=e.fileName),"directory"in e&&r(4,h=e.directory),"basedir"in e&&r(5,u=e.basedir),"directoryHandle"in e&&r(6,f=e.directoryHandle),"place"in e&&r(15,d=e.place),"playableUrl"in e&&r(7,p=e.playableUrl),"mediaType"in e&&r(16,v=e.mediaType),"extname"in e&&r(17,m=e.extname),"fileSizePretty"in e&&r(8,g=e.fileSizePretty),"fileUpdatedAtRelativePretty"in e&&r(9,y=e.fileUpdatedAtRelativePretty),"fileNote"in e&&r(18,w=e.fileNote),"hasPlayer"in e&&r(19,b=e.hasPlayer),"localResult"in e&&r(10,_=e.localResult)},e.$$.update=()=>{16388&e.$$.dirty&&r(11,n=c>0?a[c-1].directory:null)},[s,i,c,l,h,u,f,p,g,y,_,n,$,A,a,d,v,m,w,b,()=>zo(f,s),()=>A({fileName:l})]}class Qo extends f{constructor(e){super(),d(this,e,Jo,Wo,p,{connector:0,meta:1,allResults:14,i:2,fileName:3,directory:4,basedir:5,directoryHandle:6,place:15,playableUrl:7,mediaType:16,extname:17,fileSizePretty:8,fileUpdatedAtRelativePretty:9,fileNote:18,hasPlayer:19,localResult:10})}}function Go(e){let t,r;return{c(){t=v("div"),r=m("Unsupported search results format."),this.h()},l(e){t=y(e,"DIV",{class:!0});var n=w(t);r=b(n,"Unsupported search results format."),n.forEach(_),this.h()},h(){E(t,"class","resultError svelte-1qotnfz")},m(e,n){A(e,t,n),x(t,r)},p:k,i:k,o:k,d(e){e&&_(t)}}}function Zo(e){let t,r;const n=[e[1],{connector:e[2]},{hasPlayer:e[3]},{meta:e[4]},{allResults:e[5]},{i:e[0]}];let o={};for(let s=0;s<n.length;s+=1)o=z(o,n[s]);return t=new Qo({props:o}),{c(){I(t.$$.fragment)},l(e){U(t.$$.fragment,e)},m(e,n){C(t,e,n),r=!0},p(e,r){const o=63&r?q(n,[2&r&&K(e[1]),4&r&&{connector:e[2]},8&r&&{hasPlayer:e[3]},16&r&&{meta:e[4]},32&r&&{allResults:e[5]},1&r&&{i:e[0]}]):{};t.$set(o)},i(e){r||(D(t.$$.fragment,e),r=!0)},o(e){M(t.$$.fragment,e),r=!1},d(e){j(t,e)}}}function Xo(e){let t,r;const n=[e[1],{connector:e[2]},{meta:e[4]},{newsfeed:e[7]},{tagcloud:e[6]},{i:e[0]}];let o={};for(let s=0;s<n.length;s+=1)o=z(o,n[s]);return t=new Lo({props:o}),{c(){I(t.$$.fragment)},l(e){U(t.$$.fragment,e)},m(e,n){C(t,e,n),r=!0},p(e,r){const o=215&r?q(n,[2&r&&K(e[1]),4&r&&{connector:e[2]},16&r&&{meta:e[4]},128&r&&{newsfeed:e[7]},64&r&&{tagcloud:e[6]},1&r&&{i:e[0]}]):{};t.$set(o)},i(e){r||(D(t.$$.fragment,e),r=!0)},o(e){M(t.$$.fragment,e),r=!1},d(e){j(t,e)}}}function es(e){let t,r,n,o,s;const i=[Xo,Zo,Go],a=[];function c(e,t){return e[1].url?0:e[1].filePath?1:2}return n=c(e),o=a[n]=i[n](e),{c(){t=v("div"),r=v("div"),o.c(),this.h()},l(e){t=y(e,"DIV",{class:!0});var n=w(t);r=y(n,"DIV",{class:!0});var s=w(r);o.l(s),s.forEach(_),n.forEach(_),this.h()},h(){E(r,"class","result"),P(r,"url_result",e[1].url),E(t,"class","inner")},m(e,o){A(e,t,o),x(t,r),a[n].m(r,null),s=!0},p(e,[t]){let s=n;n=c(e),n===s?a[n].p(e,t):(L(),M(a[s],1,1,(()=>{a[s]=null})),V(),o=a[n],o?o.p(e,t):(o=a[n]=i[n](e),o.c()),D(o,1),o.m(r,null)),2&t&&P(r,"url_result",e[1].url)},i(e){s||(D(o),s=!0)},o(e){M(o),s=!1},d(e){e&&_(t),a[n].d()}}}function ts(e,t,r){let{i:n}=t,{result:o}=t,{connector:s}=t,{hasPlayer:i}=t,{meta:a}=t,{allResults:c}=t,{tagcloud:l}=t,{newsfeed:h}=t;return e.$$set=e=>{"i"in e&&r(0,n=e.i),"result"in e&&r(1,o=e.result),"connector"in e&&r(2,s=e.connector),"hasPlayer"in e&&r(3,i=e.hasPlayer),"meta"in e&&r(4,a=e.meta),"allResults"in e&&r(5,c=e.allResults),"tagcloud"in e&&r(6,l=e.tagcloud),"newsfeed"in e&&r(7,h=e.newsfeed)},[n,o,s,i,a,c,l,h]}class rs extends f{constructor(e){super(),d(this,e,ts,es,p,{i:0,result:1,connector:2,hasPlayer:3,meta:4,allResults:5,tagcloud:6,newsfeed:7})}}function ns(e,t,r){const n=e.slice();return n[7]=t[r],n[9]=r,n}function os(e){let t,r,n,o,s,i;return r=new rs({props:{result:e[7],connector:e[2],hasPlayer:e[4],meta:e[1],allResults:e[0],i:e[9],tagcloud:e[3]}}),{c(){t=v("div"),I(r.$$.fragment),n=g(),this.h()},l(e){t=y(e,"DIV",{class:!0});var o=w(t);U(r.$$.fragment,o),n=$(o),o.forEach(_),this.h()},h(){E(t,"class","result")},m(e,o){A(e,t,o),C(r,t,null),x(t,n),i=!0},p(t,n){e=t;const o={};97&n&&(o.result=e[7]),4&n&&(o.connector=e[2]),16&n&&(o.hasPlayer=e[4]),2&n&&(o.meta=e[1]),1&n&&(o.allResults=e[0]),8&n&&(o.tagcloud=e[3]),r.$set(o)},i(n){i||(D(r.$$.fragment,n),W((()=>{s&&s.end(1),o||(o=J(t,Q,{y:50,duration:e[7].filePath?50:750,delay:e[7].filePath?0:100*e[9]})),o.start()})),i=!0)},o(e){M(r.$$.fragment,e),o&&o.invalidate(),s=G(t,Q,{y:50}),i=!1},d(e){e&&_(t),j(r),e&&s&&s.end()}}}function ss(e){let t,r,n=e[0].slice(e[5],e[6]?e[5]+e[6]:e[6]),o=[];for(let i=0;i<n.length;i+=1)o[i]=os(ns(e,n,i));const s=e=>M(o[e],1,1,(()=>{o[e]=null}));return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=O()},l(e){for(let t=0;t<o.length;t+=1)o[t].l(e);t=O()},m(e,n){for(let t=0;t<o.length;t+=1)o[t].m(e,n);A(e,t,n),r=!0},p(e,[r]){if(127&r){let i;for(n=e[0].slice(e[5],e[6]?e[5]+e[6]:e[6]),i=0;i<n.length;i+=1){const s=ns(e,n,i);o[i]?(o[i].p(s,r),D(o[i],1)):(o[i]=os(s),o[i].c(),D(o[i],1),o[i].m(t.parentNode,t))}for(L(),i=n.length;i<o.length;i+=1)s(i);V()}},i(e){if(!r){for(let e=0;e<n.length;e+=1)D(o[e]);r=!0}},o(e){o=o.filter(Boolean);for(let t=0;t<o.length;t+=1)M(o[t]);r=!1},d(e){S(o,e),e&&_(t)}}}function is(e,t,r){let{results:n}=t,{meta:o}=t,{connector:s}=t,{tagcloud:i}=t,{hasPlayer:a}=t,{startFrom:c=0}=t,{count:l}=t;return e.$$set=e=>{"results"in e&&r(0,n=e.results),"meta"in e&&r(1,o=e.meta),"connector"in e&&r(2,s=e.connector),"tagcloud"in e&&r(3,i=e.tagcloud),"hasPlayer"in e&&r(4,a=e.hasPlayer),"startFrom"in e&&r(5,c=e.startFrom),"count"in e&&r(6,l=e.count)},[n,o,s,i,a,c,l]}class as extends f{constructor(e){super(),d(this,e,is,ss,p,{results:0,meta:1,connector:2,tagcloud:3,hasPlayer:4,startFrom:5,count:6})}}function cs(e){let t,r=e[1](e[0])+"";return{c(){t=v("div"),this.h()},l(e){t=y(e,"DIV",{class:!0}),w(t).forEach(_),this.h()},h(){E(t,"class","results_meta svelte-3vss1y")},m(e,n){A(e,t,n),t.innerHTML=r},p(e,[n]){1&n&&r!==(r=e[1](e[0])+"")&&(t.innerHTML=r)},i:k,o:k,d(e){e&&_(t)}}}function ls(e,t,r){const n=Dr;let{providerResponse:o}=t;return e.$$set=e=>{"providerResponse"in e&&r(0,o=e.providerResponse)},[o,function(e){if(e.error)return n.red(`⚠️  Error: ${e.error}`);const{meta:t}=e,{page:r,noMorePages:o,resultCount:s,resultsFrom:i,resultsTo:a,searchTimePretty:c,networkTimePretty:l}=t;let h="";if(c&&(h+=n.gray(` · ${n.gray("fs")} ${n.white(c)}`)),l&&(h+=n.gray(` · ${n.gray("network")} ${n.white(l)}`)),s>0){if(1==r&&o)return n.white(`${s} ${1==s?"result":"results"}${h}`);const e=o?n.gray(" [ last ]"):"",t=`${n.white(`Results ${i} ${n.gray("to")} ${a}`)}`;return n.gray(`${n.white(`Page ${r}`)}${e} → ${t}${h}`)}return n.gray(`No ${r>1?"more ":""}results${h}`)}]}class hs extends f{constructor(e){super(),d(this,e,ls,cs,p,{providerResponse:0})}}function us(e){let t;return{c(){t=m("— NO RESULTS —")},l(e){t=b(e,"— NO RESULTS —")},m(e,r){A(e,t,r)},d(e){e&&_(t)}}}function fs(e){let t;return{c(){t=m("— NO MORE RESULTS —")},l(e){t=b(e,"— NO MORE RESULTS —")},m(e,r){A(e,t,r)},d(e){e&&_(t)}}}function ds(e){let t;function r(e,t){return e[1]>1?fs:us}let n=r(e),o=n(e);return{c(){t=v("div"),o.c(),this.h()},l(e){t=y(e,"DIV",{class:!0});var r=w(t);o.l(r),r.forEach(_),this.h()},h(){E(t,"class","no_results svelte-qqdxfj"),P(t,"visible",e[0])},m(e,r){A(e,t,r),o.m(t,null)},p(e,[s]){n!==(n=r(e))&&(o.d(1),o=n(e),o&&(o.c(),o.m(t,null))),1&s&&P(t,"visible",e[0])},i:k,o:k,d(e){e&&_(t),o.d()}}}function ps(e,t,r){let n,o;return R(e,en,(e=>r(0,n=e))),R(e,Jr,(e=>r(1,o=e))),[n,o]}class vs extends f{constructor(e){super(),d(this,e,ps,ds,p,{})}}function ms(e){let t,r,n=e[0].contentId+"";return{c(){t=m("/"),r=m(n)},l(e){t=b(e,"/"),r=b(e,n)},m(e,n){A(e,t,n),A(e,r,n)},p(e,t){1&t&&n!==(n=e[0].contentId+"")&&T(r,n)},d(e){e&&_(t),e&&_(r)}}}function gs(e){let t,r;return{c(){t=v("span"),r=m("[ File System ]"),this.h()},l(e){t=y(e,"SPAN",{class:!0});var n=w(t);r=b(n,"[ File System ]"),n.forEach(_),this.h()},h(){E(t,"class","file_system_tag svelte-114odhp")},m(e,n){A(e,t,n),x(t,r)},d(e){e&&_(t)}}}function ys(e){let t,r,n,o,s,i,a=e[0].providerTag+"",c=e[0].contentId&&ms(e),l=!e[0].contentId&&gs();return{c(){t=v("div"),r=v("span"),n=m("🖥️ @"),o=m(a),s=v("span"),c&&c.c(),i=g(),l&&l.c(),this.h()},l(e){t=y(e,"DIV",{class:!0});var h=w(t);r=y(h,"SPAN",{class:!0});var u=w(r);n=b(u,"🖥️ @"),o=b(u,a),u.forEach(_),s=y(h,"SPAN",{class:!0});var f=w(s);c&&c.l(f),f.forEach(_),i=$(h),l&&l.l(h),h.forEach(_),this.h()},h(){E(r,"class","host svelte-114odhp"),E(s,"class","contentId svelte-114odhp"),E(t,"class","provider_host svelte-114odhp"),P(t,"this",e[0].thisMachine)},m(e,a){A(e,t,a),x(t,r),x(r,n),x(r,o),x(t,s),c&&c.m(s,null),x(t,i),l&&l.m(t,null)},p(e,[r]){1&r&&a!==(a=e[0].providerTag+"")&&T(o,a),e[0].contentId?c?c.p(e,r):(c=ms(e),c.c(),c.m(s,null)):c&&(c.d(1),c=null),e[0].contentId?l&&(l.d(1),l=null):l||(l=gs(),l.c(),l.m(t,null)),1&r&&P(t,"this",e[0].thisMachine)},i:k,o:k,d(e){e&&_(t),c&&c.d(),l&&l.d()}}}function ws(e,t,r){let{meta:n}=t;return e.$$set=e=>{"meta"in e&&r(0,n=e.meta)},[n]}class bs extends f{constructor(e){super(),d(this,e,ws,ys,p,{meta:0})}}function _s(e){let t,r,n,o,s,i,a,c,l,h,u,f,d;return{c(){t=v("button"),r=m("Prev"),o=g(),s=v("span"),i=m("Page "),a=m(e[2]),c=g(),l=v("button"),h=m("Next"),this.h()},l(n){t=y(n,"BUTTON",{disabled:!0,class:!0});var u=w(t);r=b(u,"Prev"),u.forEach(_),o=$(n),s=y(n,"SPAN",{class:!0});var f=w(s);i=b(f,"Page "),a=b(f,e[2]),f.forEach(_),c=$(n),l=y(n,"BUTTON",{disabled:!0,class:!0});var d=w(l);h=b(d,"Next"),d.forEach(_),this.h()},h(){t.disabled=n=1==e[2],E(t,"class","svelte-celm3m"),P(t,"disconnected",!e[1]),E(s,"class","svelte-celm3m"),l.disabled=u=e[3]||e[5]||e[6],E(l,"class","svelte-celm3m"),P(l,"disconnected",!e[1])},m(n,u){A(n,t,u),x(t,r),A(n,o,u),A(n,s,u),x(s,i),x(s,a),A(n,c,u),A(n,l,u),x(l,h),f||(d=[H(t,"click",e[7]),H(l,"click",e[8])],f=!0)},p(e,r){4&r&&n!==(n=1==e[2])&&(t.disabled=n),2&r&&P(t,"disconnected",!e[1]),4&r&&T(a,e[2]),104&r&&u!==(u=e[3]||e[5]||e[6])&&(l.disabled=u),2&r&&P(l,"disconnected",!e[1])},d(e){e&&_(t),e&&_(o),e&&_(s),e&&_(c),e&&_(l),f=!1,ee(d)}}}function $s(e){let t,r=e[4]&&(!e[3]||e[3]&&e[2]>1)&&_s(e);return{c(){t=v("div"),r&&r.c(),this.h()},l(e){t=y(e,"DIV",{class:!0});var n=w(t);r&&r.l(n),n.forEach(_),this.h()},h(){E(t,"class","pagination svelte-celm3m")},m(e,n){A(e,t,n),r&&r.m(t,null)},p(e,[n]){e[4]&&(!e[3]||e[3]&&e[2]>1)?r?r.p(e,n):(r=_s(e),r.c(),r.m(t,null)):r&&(r.d(1),r=null)},i:k,o:k,d(e){e&&_(t),r&&r.d()}}}function Es(e,t,r){let n,o,s,i,a,c,l=k,h=()=>(l(),l=N(f,(e=>r(1,n=e))),f);R(e,Jr,(e=>r(2,o=e))),R(e,en,(e=>r(3,s=e))),R(e,Wr,(e=>r(4,i=e))),R(e,tn,(e=>r(5,a=e))),R(e,Xr,(e=>r(6,c=e))),e.$$.on_destroy.push((()=>l()));let{zetaSearch:u}=t,{connected:f}=t;return h(),e.$$set=e=>{"zetaSearch"in e&&r(9,u=e.zetaSearch),"connected"in e&&h(r(0,f=e.connected))},[f,n,o,s,i,a,c,function(){n&&o>1&&u({searchPage:o-1})},function(){n&&!s&&u({searchPage:o+1})},u]}class As extends f{constructor(e){super(),d(this,e,Es,$s,p,{zetaSearch:9,connected:0})}}function xs(e){rn.update((t=>(t[e]?delete t[e]:t[e]=!0,t)))}function Ts(e,t,r){const n=e.slice();return n[11]=t[r],n[13]=r,n}function ks(e){let t,r,n=e[6],o=[];for(let i=0;i<n.length;i+=1)o[i]=Rs(Ts(e,n,i));const s=e=>M(o[e],1,1,(()=>{o[e]=null}));return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=O()},l(e){for(let t=0;t<o.length;t+=1)o[t].l(e);t=O()},m(e,n){for(let t=0;t<o.length;t+=1)o[t].m(e,n);A(e,t,n),r=!0},p(e,r){if(199&r){let i;for(n=e[6],i=0;i<n.length;i+=1){const s=Ts(e,n,i);o[i]?(o[i].p(s,r),D(o[i],1)):(o[i]=Rs(s),o[i].c(),D(o[i],1),o[i].m(t.parentNode,t))}for(L(),i=n.length;i<o.length;i+=1)s(i);V()}},i(e){if(!r){for(let e=0;e<n.length;e+=1)D(o[e]);r=!0}},o(e){o=o.filter(Boolean);for(let t=0;t<o.length;t+=1)M(o[t]);r=!1},d(e){S(o,e),e&&_(t)}}}function Os(e){let t,r,n,o,s,i,a,c,l=e[5].message+"",h=e[5].stack.split("\n").join("<br>")+"";return{c(){t=v("div"),r=v("p"),n=m("Search Error in Frontend Code:"),o=g(),s=v("span"),i=m(l),a=g(),c=v("span"),this.h()},l(e){t=y(e,"DIV",{class:!0});var h=w(t);r=y(h,"P",{});var u=w(r);n=b(u,"Search Error in Frontend Code:"),u.forEach(_),o=$(h),s=y(h,"SPAN",{class:!0});var f=w(s);i=b(f,l),f.forEach(_),a=$(h),c=y(h,"SPAN",{class:!0}),w(c).forEach(_),h.forEach(_),this.h()},h(){E(s,"class","svelte-16lf2yn"),E(c,"class","svelte-16lf2yn"),E(t,"class","search_error svelte-16lf2yn")},m(e,l){A(e,t,l),x(t,r),x(r,n),x(t,o),x(t,s),x(s,i),x(t,a),x(t,c),c.innerHTML=h},p(e,t){32&t&&l!==(l=e[5].message+"")&&T(i,l),32&t&&h!==(h=e[5].stack.split("\n").join("<br>")+"")&&(c.innerHTML=h)},i:k,o:k,d(e){e&&_(t)}}}function Ps(e){let t,r,n,o,s,i,a,c,l,h=e[11].error+"";return r=new bs({props:{meta:e[11].meta}}),{c(){t=v("div"),I(r.$$.fragment),n=g(),o=v("div"),s=v("span"),i=m("⚠️"),a=g(),c=m(h),this.h()},l(e){t=y(e,"DIV",{class:!0});var l=w(t);U(r.$$.fragment,l),n=$(l),o=y(l,"DIV",{class:!0});var u=w(o);s=y(u,"SPAN",{class:!0});var f=w(s);i=b(f,"⚠️"),f.forEach(_),a=$(u),c=b(u,h),u.forEach(_),l.forEach(_),this.h()},h(){E(s,"class","svelte-16lf2yn"),E(o,"class","result_error svelte-16lf2yn"),E(t,"class","results svelte-16lf2yn")},m(e,h){A(e,t,h),C(r,t,null),x(t,n),x(t,o),x(o,s),x(s,i),x(o,a),x(o,c),l=!0},p(e,t){const n={};64&t&&(n.meta=e[11].meta),r.$set(n),(!l||64&t)&&h!==(h=e[11].error+"")&&T(c,h)},i(e){l||(D(r.$$.fragment,e),l=!0)},o(e){M(r.$$.fragment,e),l=!1},d(e){e&&_(t),j(r)}}}function Ss(e){let t,r,n,o,s,i,a,c,l,h,u;r=new bs({props:{meta:e[11].meta}});let f=e[11].tagcloud&&Ns(e);return s=new hs({props:{providerResponse:e[11]}}),a=new as({props:{connector:e[0],hasPlayer:e[2],results:e[11].results,meta:e[11].meta,tagcloud:e[11].tagcloud}}),l=new hs({props:{providerResponse:e[11]}}),{c(){t=v("div"),I(r.$$.fragment),n=g(),f&&f.c(),o=g(),I(s.$$.fragment),i=g(),I(a.$$.fragment),c=g(),I(l.$$.fragment),h=g(),this.h()},l(e){t=y(e,"DIV",{class:!0});var u=w(t);U(r.$$.fragment,u),n=$(u),f&&f.l(u),o=$(u),U(s.$$.fragment,u),i=$(u),U(a.$$.fragment,u),c=$(u),U(l.$$.fragment,u),h=$(u),u.forEach(_),this.h()},h(){E(t,"class","results svelte-16lf2yn")},m(e,d){A(e,t,d),C(r,t,null),x(t,n),f&&f.m(t,null),x(t,o),C(s,t,null),x(t,i),C(a,t,null),x(t,c),C(l,t,null),x(t,h),u=!0},p(e,n){const i={};64&n&&(i.meta=e[11].meta),r.$set(i),e[11].tagcloud?f?(f.p(e,n),64&n&&D(f,1)):(f=Ns(e),f.c(),D(f,1),f.m(t,o)):f&&(L(),M(f,1,1,(()=>{f=null})),V());const c={};64&n&&(c.providerResponse=e[11]),s.$set(c);const h={};1&n&&(h.connector=e[0]),4&n&&(h.hasPlayer=e[2]),64&n&&(h.results=e[11].results),64&n&&(h.meta=e[11].meta),64&n&&(h.tagcloud=e[11].tagcloud),a.$set(h);const u={};64&n&&(u.providerResponse=e[11]),l.$set(u)},i(e){u||(D(r.$$.fragment,e),D(f),D(s.$$.fragment,e),D(a.$$.fragment,e),D(l.$$.fragment,e),u=!0)},o(e){M(r.$$.fragment,e),M(f),M(s.$$.fragment,e),M(a.$$.fragment,e),M(l.$$.fragment,e),u=!1},d(e){e&&_(t),j(r),f&&f.d(),j(s),j(a),j(l)}}}function Ns(e){let t,r;return t=new co({props:{tagcloud:e[11].tagcloud,onTagClick:e[7],connected:e[1]}}),{c(){I(t.$$.fragment)},l(e){U(t.$$.fragment,e)},m(e,n){C(t,e,n),r=!0},p(e,r){const n={};64&r&&(n.tagcloud=e[11].tagcloud),2&r&&(n.connected=e[1]),t.$set(n)},i(e){r||(D(t.$$.fragment,e),r=!0)},o(e){M(t.$$.fragment,e),r=!1},d(e){j(t,e)}}}function Rs(e){let t,r,n,o=kr&&e[11].error&&Ps(e),s=e[11].results&&e[11].results.length>0&&Ss(e);return{c(){o&&o.c(),t=g(),s&&s.c(),r=O()},l(e){o&&o.l(e),t=$(e),s&&s.l(e),r=O()},m(e,i){o&&o.m(e,i),A(e,t,i),s&&s.m(e,i),A(e,r,i),n=!0},p(e,n){kr&&e[11].error?o?(o.p(e,n),64&n&&D(o,1)):(o=Ps(e),o.c(),D(o,1),o.m(t.parentNode,t)):o&&(L(),M(o,1,1,(()=>{o=null})),V()),e[11].results&&e[11].results.length>0?s?(s.p(e,n),64&n&&D(s,1)):(s=Ss(e),s.c(),D(s,1),s.m(r.parentNode,r)):s&&(L(),M(s,1,1,(()=>{s=null})),V())},i(e){n||(D(o),D(s),n=!0)},o(e){M(o),M(s),n=!1},d(e){o&&o.d(e),e&&_(t),s&&s.d(e),e&&_(r)}}}function Is(e){let t,r,n,o,s,i,a,c;t=new As({props:{zetaSearch:e[4],connected:e[1]}}),n=new vs({});const l=[Os,ks],h=[];function u(e,t){return e[5]?0:e[6]?1:-1}return~(s=u(e))&&(i=h[s]=l[s](e)),{c(){I(t.$$.fragment),r=g(),I(n.$$.fragment),o=g(),i&&i.c(),a=O()},l(e){U(t.$$.fragment,e),r=$(e),U(n.$$.fragment,e),o=$(e),i&&i.l(e),a=O()},m(e,i){C(t,e,i),A(e,r,i),C(n,e,i),A(e,o,i),~s&&h[s].m(e,i),A(e,a,i),c=!0},p(e,[r]){const n={};16&r&&(n.zetaSearch=e[4]),2&r&&(n.connected=e[1]),t.$set(n);let o=s;s=u(e),s===o?~s&&h[s].p(e,r):(i&&(L(),M(h[o],1,1,(()=>{h[o]=null})),V()),~s?(i=h[s],i?i.p(e,r):(i=h[s]=l[s](e),i.c()),D(i,1),i.m(a.parentNode,a)):i=null)},i(e){c||(D(t.$$.fragment,e),D(n.$$.fragment,e),D(i),c=!0)},o(e){M(t.$$.fragment,e),M(n.$$.fragment,e),M(i),c=!1},d(e){j(t,e),e&&_(r),j(n,e),e&&_(o),~s&&h[s].d(e),e&&_(a)}}}function Us(e,t,r){let n,o,s,i,a,c=k,l=()=>(c(),c=N(v,(e=>r(8,s=e))),v),h=k,u=()=>(h(),h=N(d,(e=>r(9,i=e))),d);R(e,Xr,(e=>r(10,a=e))),e.$$.on_destroy.push((()=>c())),e.$$.on_destroy.push((()=>h()));let{connector:f}=t,{connected:d}=t,{hasPlayer:p}=t,{searchResponse:v}=t,{zetaSearch:m}=t;return l(),u(),e.$$set=e=>{"connector"in e&&r(0,f=e.connector),"connected"in e&&u(r(1,d=e.connected)),"hasPlayer"in e&&r(2,p=e.hasPlayer),"searchResponse"in e&&l(r(3,v=e.searchResponse)),"zetaSearch"in e&&r(4,m=e.zetaSearch)},e.$$.update=()=>{256&e.$$.dirty&&r(5,n=s.searchError),256&e.$$.dirty&&r(6,o=s.searchResults)},[f,d,p,v,m,n,o,function(e){i&&!a&&(xs(e),m())},s]}class Cs extends f{constructor(e){super(),d(this,e,Us,Is,p,{connector:0,connected:1,hasPlayer:2,searchResponse:3,zetaSearch:4})}}function Ds(e){let t,r;const n=[e[1],{backend:e[2]},{meta:e[3]},{newsfeed:e[5]},{tagcloud:e[4]},{i:e[0]}];let o={};for(let s=0;s<n.length;s+=1)o=z(o,n[s]);return t=new Lo({props:o}),{c(){I(t.$$.fragment)},l(e){U(t.$$.fragment,e)},m(e,n){C(t,e,n),r=!0},p(e,r){const o=63&r?q(n,[2&r&&K(e[1]),4&r&&{backend:e[2]},8&r&&{meta:e[3]},32&r&&{newsfeed:e[5]},16&r&&{tagcloud:e[4]},1&r&&{i:e[0]}]):{};t.$set(o)},i(e){r||(D(t.$$.fragment,e),r=!0)},o(e){M(t.$$.fragment,e),r=!1},d(e){j(t,e)}}}function Ms(e){let t,r,n,o=e[1].url&&Ds(e);return{c(){t=v("div"),r=v("div"),o&&o.c(),this.h()},l(e){t=y(e,"DIV",{class:!0});var n=w(t);r=y(n,"DIV",{class:!0});var s=w(r);o&&o.l(s),s.forEach(_),n.forEach(_),this.h()},h(){E(r,"class","result"),P(r,"url_result",e[1].url),E(t,"class","inner")},m(e,s){A(e,t,s),x(t,r),o&&o.m(r,null),n=!0},p(e,[t]){e[1].url?o?(o.p(e,t),2&t&&D(o,1)):(o=Ds(e),o.c(),D(o,1),o.m(r,null)):o&&(L(),M(o,1,1,(()=>{o=null})),V()),2&t&&P(r,"url_result",e[1].url)},i(e){n||(D(o),n=!0)},o(e){M(o),n=!1},d(e){e&&_(t),o&&o.d()}}}function js(e,t,r){let{i:n}=t,{result:o}=t,{backend:s}=t,{hasPlayer:i}=t,{meta:a}=t,{allResults:c}=t,{tagcloud:l}=t,{newsfeed:h}=t;return e.$$set=e=>{"i"in e&&r(0,n=e.i),"result"in e&&r(1,o=e.result),"backend"in e&&r(2,s=e.backend),"hasPlayer"in e&&r(6,i=e.hasPlayer),"meta"in e&&r(3,a=e.meta),"allResults"in e&&r(7,c=e.allResults),"tagcloud"in e&&r(4,l=e.tagcloud),"newsfeed"in e&&r(5,h=e.newsfeed)},[n,o,s,a,l,h,i,c]}class Ls extends f{constructor(e){super(),d(this,e,js,Ms,p,{i:0,result:1,backend:2,hasPlayer:6,meta:3,allResults:7,tagcloud:4,newsfeed:5})}}function Vs(e,t,r){const n=e.slice();return n[9]=t[r],n[11]=r,n}function Bs(e){let t,r,n,o=e[1]&&zs(e),s=e[5].slice(e[3],e[4]?e[3]+e[4]:e[4]),i=[];for(let c=0;c<s.length;c+=1)i[c]=Hs(Vs(e,s,c));const a=e=>M(i[e],1,1,(()=>{i[e]=null}));return{c(){o&&o.c(),t=g();for(let e=0;e<i.length;e+=1)i[e].c();r=O()},l(e){o&&o.l(e),t=$(e);for(let t=0;t<i.length;t+=1)i[t].l(e);r=O()},m(e,s){o&&o.m(e,s),A(e,t,s);for(let t=0;t<i.length;t+=1)i[t].m(e,s);A(e,r,s),n=!0},p(e,n){if(e[1]?o?o.p(e,n):(o=zs(e),o.c(),o.m(t.parentNode,t)):o&&(o.d(1),o=null),125&n){let t;for(s=e[5].slice(e[3],e[4]?e[3]+e[4]:e[4]),t=0;t<s.length;t+=1){const o=Vs(e,s,t);i[t]?(i[t].p(o,n),D(i[t],1)):(i[t]=Hs(o),i[t].c(),D(i[t],1),i[t].m(r.parentNode,r))}for(L(),t=s.length;t<i.length;t+=1)a(t);V()}},i(e){if(!n){for(let e=0;e<s.length;e+=1)D(i[e]);n=!0}},o(e){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)M(i[t]);n=!1},d(e){o&&o.d(e),e&&_(t),S(i,e),e&&_(r)}}}function zs(e){let t;function r(e,t){return 0==e[3]?Ks:qs}let n=r(e),o=n(e);return{c(){o.c(),t=O()},l(e){o.l(e),t=O()},m(e,r){o.m(e,r),A(e,t,r)},p(e,s){n===(n=r(e))&&o?o.p(e,s):(o.d(1),o=n(e),o&&(o.c(),o.m(t.parentNode,t)))},d(e){o.d(e),e&&_(t)}}}function qs(e){let t,r,n,o,s;return{c(){t=v("h2"),r=v("span"),n=m("continue"),o=g(),s=m(e[1]),this.h()},l(i){t=y(i,"H2",{class:!0});var a=w(t);r=y(a,"SPAN",{class:!0});var c=w(r);n=b(c,"continue"),c.forEach(_),o=$(a),s=b(a,e[1]),a.forEach(_),this.h()},h(){E(r,"class","svelte-ece0r8"),E(t,"class","continue svelte-ece0r8")},m(e,i){A(e,t,i),x(t,r),x(r,n),x(t,o),x(t,s)},p(e,t){2&t&&T(s,e[1])},d(e){e&&_(t)}}}function Ks(e){let t,r;return{c(){t=v("h2"),r=m(e[1])},l(n){t=y(n,"H2",{});var o=w(t);r=b(o,e[1]),o.forEach(_)},m(e,n){A(e,t,n),x(t,r)},p(e,t){2&t&&T(r,e[1])},d(e){e&&_(t)}}}function Fs(e){let t,r,n,o;return r=new Ls({props:{result:e[9],meta:e[6],newsfeed:"true",backend:e[0],i:e[11]}}),{c(){t=v("div"),I(r.$$.fragment),n=g(),this.h()},l(e){t=y(e,"DIV",{class:!0});var o=w(t);U(r.$$.fragment,o),n=$(o),o.forEach(_),this.h()},h(){E(t,"class","result")},m(e,s){A(e,t,s),C(r,t,null),x(t,n),o=!0},p(e,t){const n={};56&t&&(n.result=e[9]),1&t&&(n.backend=e[0]),r.$set(n)},i(e){o||(D(r.$$.fragment,e),o=!0)},o(e){M(r.$$.fragment,e),o=!1},d(e){e&&_(t),j(r)}}}function Ys(e){let t,r,n,o,s,i;return r=new Ls({props:{result:e[9],meta:e[6],newsfeed:"true",backend:e[0],i:e[11]}}),{c(){t=v("div"),I(r.$$.fragment),n=g(),this.h()},l(e){t=y(e,"DIV",{class:!0});var o=w(t);U(r.$$.fragment,o),n=$(o),o.forEach(_),this.h()},h(){E(t,"class","result")},m(e,o){A(e,t,o),C(r,t,null),x(t,n),i=!0},p(e,t){const n={};56&t&&(n.result=e[9]),1&t&&(n.backend=e[0]),r.$set(n)},i(n){i||(D(r.$$.fragment,n),W((()=>{s&&s.end(1),o||(o=J(t,Q,{y:50,duration:750,delay:100*e[11]})),o.start()})),i=!0)},o(e){M(r.$$.fragment,e),o&&o.invalidate(),s=G(t,Q,{y:50}),i=!1},d(e){e&&_(t),j(r),e&&s&&s.end()}}}function Hs(e){let t,r,n,o;const s=[Ys,Fs],i=[];function a(e,t){return e[2]?0:1}return t=a(e),r=i[t]=s[t](e),{c(){r.c(),n=O()},l(e){r.l(e),n=O()},m(e,r){i[t].m(e,r),A(e,n,r),o=!0},p(e,o){let c=t;t=a(e),t===c?i[t].p(e,o):(L(),M(i[c],1,1,(()=>{i[c]=null})),V(),r=i[t],r?r.p(e,o):(r=i[t]=s[t](e),r.c()),D(r,1),r.m(n.parentNode,n))},i(e){o||(D(r),o=!0)},o(e){M(r),o=!1},d(e){i[t].d(e),e&&_(n)}}}function Ws(e){let t,r,n=e[5]&&e[5].length&&Bs(e);return{c(){n&&n.c(),t=O()},l(e){n&&n.l(e),t=O()},m(e,o){n&&n.m(e,o),A(e,t,o),r=!0},p(e,[r]){e[5]&&e[5].length?n?(n.p(e,r),32&r&&D(n,1)):(n=Bs(e),n.c(),D(n,1),n.m(t.parentNode,t)):n&&(L(),M(n,1,1,(()=>{n=null})),V())},i(e){r||(D(n),r=!0)},o(e){M(n),r=!1},d(e){n&&n.d(e),e&&_(t)}}}function Js(e,t,r){let n,o,s=k,i=()=>(s(),s=N(a,(e=>r(7,o=e))),a);e.$$.on_destroy.push((()=>s()));let{backend:a}=t;i();let{title:c}=t,{animate:l=!0}=t,{startFrom:h=0}=t,{count:u}=t;return e.$$set=e=>{"backend"in e&&i(r(0,a=e.backend)),"title"in e&&r(1,c=e.title),"animate"in e&&r(2,l=e.animate),"startFrom"in e&&r(3,h=e.startFrom),"count"in e&&r(4,u=e.count)},e.$$.update=()=>{128&e.$$.dirty&&r(5,n=o.recentWeblinks),128&e.$$.dirty&&o.entireLinkIndexCloud},[a,c,l,h,u,n,{providerTag:"this"},o]}class Qs extends f{constructor(e){super(),d(this,e,Js,Ws,p,{backend:0,title:1,animate:2,startFrom:3,count:4})}}function Gs(e){return u(e)?u(e):void 0}function Zs(){ie.updateSearchParam("q",Gs(Wr));const e=Gs(Jr);ie.updateSearchParam("page",1==e?void 0:e),ie.updateSearchParam("place",Gs(Qr)),ie.updateSearchParam("mode",Gs(Gr));const t=Gs(rn);ie.updateSearchParam("tags",t&&Object.keys(t).length?Object.keys(t).join(","):void 0)}function Xs(e){let t,r;return{c(){t=v("h1"),r=m("My Zeta Node")},l(e){t=y(e,"H1",{});var n=w(t);r=b(n,"My Zeta Node"),n.forEach(_)},m(e,n){A(e,t,n),x(t,r)},d(e){e&&_(t)}}}function ei(e){let t,r;return{c(){t=v("img"),this.h()},l(e){t=y(e,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){t.src!==(r="img/zetaseek_logo.svg?v=2")&&E(t,"src","img/zetaseek_logo.svg?v=2"),E(t,"alt","zeta logo"),E(t,"class","svelte-1tdly8a")},m(e,r){A(e,t,r)},d(e){e&&_(t)}}}function ti(e){let t,r;return{c(){t=v("h1"),r=m("My Computer")},l(e){t=y(e,"H1",{});var n=w(t);r=b(n,"My Computer"),n.forEach(_)},m(e,n){A(e,t,n),x(t,r)},d(e){e&&_(t)}}}function ri(e){let t,r,n,o,s;return{c(){t=v("p"),r=m("⚠️ Please start the "),n=v("span"),o=m("dmt-proc"),s=m(" ..."),this.h()},l(e){t=y(e,"P",{class:!0});var i=w(t);r=b(i,"⚠️ Please start the "),n=y(i,"SPAN",{class:!0});var a=w(n);o=b(a,"dmt-proc"),a.forEach(_),s=b(i," ..."),i.forEach(_),this.h()},h(){E(n,"class","svelte-1tdly8a"),E(t,"class","connection_status_help svelte-1tdly8a")},m(e,i){A(e,t,i),x(t,r),x(t,n),x(n,o),x(t,s)},d(e){e&&_(t)}}}function ni(e){let t,r,n,o,s=!e[14]&&oi();return{c(){t=v("br"),r=g(),n=v("div"),o=m("⚠️ Requested file was renamed or moved "),s&&s.c(),this.h()},l(e){t=y(e,"BR",{}),r=$(e),n=y(e,"DIV",{class:!0});var i=w(n);o=b(i,"⚠️ Requested file was renamed or moved "),s&&s.l(i),i.forEach(_),this.h()},h(){E(n,"class","error svelte-1tdly8a")},m(e,i){A(e,t,i),A(e,r,i),A(e,n,i),x(n,o),s&&s.m(n,null)},p(e,t){e[14]?s&&(s.d(1),s=null):s||(s=oi(),s.c(),s.m(n,null))},d(e){e&&_(t),e&&_(r),e&&_(n),s&&s.d()}}}function oi(e){let t;return{c(){t=m("but perhaps one of the following results matches:")},l(e){t=b(e,"but perhaps one of the following results matches:")},m(e,r){A(e,t,r)},d(e){e&&_(t)}}}function si(e){let t,r,n,o,s,i,a,c,l,h;t=new Qs({props:{backend:e[2],title:"",count:li}});let u=e[8]&&ii();s=new co({props:{tagcloud:e[8],onTagClick:e[18],connected:e[0],maxWidth:"800px"}}),a=new Qs({props:{backend:e[2],startFrom:li}});let f=e[4].entireLinkIndexCount&&ai(e);return{c(){I(t.$$.fragment),r=g(),u&&u.c(),n=g(),o=v("div"),I(s.$$.fragment),i=g(),I(a.$$.fragment),c=g(),f&&f.c(),l=O(),this.h()},l(e){U(t.$$.fragment,e),r=$(e),u&&u.l(e),n=$(e),o=y(e,"DIV",{class:!0});var h=w(o);U(s.$$.fragment,h),h.forEach(_),i=$(e),U(a.$$.fragment,e),c=$(e),f&&f.l(e),l=O(),this.h()},h(){E(o,"class","tagcloud svelte-1tdly8a")},m(e,d){C(t,e,d),A(e,r,d),u&&u.m(e,d),A(e,n,d),A(e,o,d),C(s,o,null),A(e,i,d),C(a,e,d),A(e,c,d),f&&f.m(e,d),A(e,l,d),h=!0},p(e,r){const o={};4&r[0]&&(o.backend=e[2]),t.$set(o),e[8]?u||(u=ii(),u.c(),u.m(n.parentNode,n)):u&&(u.d(1),u=null);const i={};256&r[0]&&(i.tagcloud=e[8]),1&r[0]&&(i.connected=e[0]),s.$set(i);const c={};4&r[0]&&(c.backend=e[2]),a.$set(c),e[4].entireLinkIndexCount?f?(f.p(e,r),16&r[0]&&D(f,1)):(f=ai(e),f.c(),D(f,1),f.m(l.parentNode,l)):f&&(L(),M(f,1,1,(()=>{f=null})),V())},i(e){h||(D(t.$$.fragment,e),D(s.$$.fragment,e),D(a.$$.fragment,e),D(f),h=!0)},o(e){M(t.$$.fragment,e),M(s.$$.fragment,e),M(a.$$.fragment,e),M(f),h=!1},d(e){j(t,e),e&&_(r),u&&u.d(e),e&&_(n),e&&_(o),j(s),e&&_(i),j(a,e),e&&_(c),f&&f.d(e),e&&_(l)}}}function ii(e){let t,r,n,o,s;return{c(){t=v("h2"),r=m("— "),n=v("span"),o=m("Explore"),s=m(" —"),this.h()},l(e){t=y(e,"H2",{class:!0});var i=w(t);r=b(i,"— "),n=y(i,"SPAN",{class:!0});var a=w(n);o=b(a,"Explore"),a.forEach(_),s=b(i," —"),i.forEach(_),this.h()},h(){E(n,"class","svelte-1tdly8a"),E(t,"class","explore svelte-1tdly8a")},m(e,i){A(e,t,i),x(t,r),x(t,n),x(n,o),x(t,s)},d(e){e&&_(t)}}}function ai(e){let t,r,n,o,s,i,a,c=e[4].entireLinkIndexCount+"";return{c(){t=v("div"),r=m("Total links in local webindex: "),n=v("span"),o=m(c),this.h()},l(e){t=y(e,"DIV",{class:!0});var s=w(t);r=b(s,"Total links in local webindex: "),n=y(s,"SPAN",{class:!0});var i=w(n);o=b(i,c),i.forEach(_),s.forEach(_),this.h()},h(){E(n,"class","svelte-1tdly8a"),E(t,"class","link_count svelte-1tdly8a")},m(e,s){A(e,t,s),x(t,r),x(t,n),x(n,o),a=!0},p(e,t){(!a||16&t[0])&&c!==(c=e[4].entireLinkIndexCount+"")&&T(o,c)},i(e){a||(W((()=>{i&&i.end(1),s||(s=J(t,Q,{duration:300,delay:100})),s.start()})),a=!0)},o(e){s&&s.invalidate(),i=G(t,Q,{}),a=!1},d(e){e&&_(t),e&&i&&i.end()}}}function ci(e){let t,r,n,o,s,i,a,c,l,h,u,f,d,p,m,b,T,k,O,S,N,R,B,z,q;function K(e,t){return kr?ti:e[13]?ei:Xs}let F=K(e),Y=F(e);o=new Gn({props:{connected:e[0]}}),i=new to({});let W=!e[5]&&kr&&ri(),J="file_not_found"==e[6]&&ni(e);N=new Cs({props:{connector:e[1],zetaSearch:e[15],connected:e[0],searchResponse:Zr,hasPlayer:e[3]&&null!=e[3].volume}});let Q=!e[11]&&!e[10]&&si(e);return{c(){t=v("div"),r=v("a"),Y.c(),n=g(),I(o.$$.fragment),s=g(),I(i.$$.fragment),a=g(),c=v("div"),l=v("div"),h=v("input"),f=g(),d=v("img"),m=g(),b=v("img"),k=g(),W&&W.c(),O=g(),J&&J.c(),S=g(),I(N.$$.fragment),R=g(),Q&&Q.c(),this.h()},l(e){t=y(e,"DIV",{class:!0});var u=w(t);r=y(u,"A",{href:!0,"tinro-ignore":!0,class:!0});var p=w(r);Y.l(p),p.forEach(_),u.forEach(_),n=$(e),U(o.$$.fragment,e),s=$(e),U(i.$$.fragment,e),a=$(e),c=y(e,"DIV",{class:!0});var v=w(c);l=y(v,"DIV",{class:!0});var g=w(l);h=y(g,"INPUT",{id:!0,placeholder:!0,disabled:!0,class:!0}),f=$(g),d=y(g,"IMG",{class:!0,src:!0}),m=$(g),b=y(g,"IMG",{class:!0,src:!0}),g.forEach(_),k=$(v),W&&W.l(v),O=$(v),J&&J.l(v),S=$(v),U(N.$$.fragment,v),R=$(v),Q&&Q.l(v),v.forEach(_),this.h()},h(){E(r,"href","#"),E(r,"tinro-ignore",""),E(r,"class","svelte-1tdly8a"),E(t,"class","logo svelte-1tdly8a"),E(h,"id","search_input"),E(h,"placeholder",e[9]),h.disabled=u=!e[5],E(h,"class","svelte-1tdly8a"),P(h,"public_search",0==e[12]),P(h,"this_node_search",1==e[12]),E(d,"class","loupe svelte-1tdly8a"),d.src!==(p="img/redesign/zetaseek_icon-search.svg")&&E(d,"src","img/redesign/zetaseek_icon-search.svg"),E(b,"class","reset svelte-1tdly8a"),b.src!==(T="img/close.png")&&E(b,"src","img/close.png"),P(b,"invisible",!e[11]),E(l,"class","search_input_wrapper svelte-1tdly8a"),E(c,"class","search svelte-1tdly8a")},m(u,p){A(u,t,p),x(t,r),Y.m(r,null),A(u,n,p),C(o,u,p),A(u,s,p),C(i,u,p),A(u,a,p),A(u,c,p),x(c,l),x(l,h),ae(h,e[11]),e[24](h),x(l,f),x(l,d),x(l,m),x(l,b),x(c,k),W&&W.m(c,null),x(c,O),J&&J.m(c,null),x(c,S),C(N,c,null),x(c,R),Q&&Q.m(c,null),B=!0,z||(q=[H(r,"click",X(e[22])),H(h,"input",e[23]),H(h,"keyup",e[16]),H(h,"paste",e[16]),H(b,"click",e[25])],z=!0)},p(e,t){F!==(F=K(e))&&(Y.d(1),Y=F(e),Y&&(Y.c(),Y.m(r,null)));const n={};1&t[0]&&(n.connected=e[0]),o.$set(n),(!B||512&t[0])&&E(h,"placeholder",e[9]),(!B||32&t[0]&&u!==(u=!e[5]))&&(h.disabled=u),2048&t[0]&&h.value!==e[11]&&ae(h,e[11]),4096&t[0]&&P(h,"public_search",0==e[12]),4096&t[0]&&P(h,"this_node_search",1==e[12]),2048&t[0]&&P(b,"invisible",!e[11]),!e[5]&&kr?W||(W=ri(),W.c(),W.m(c,O)):W&&(W.d(1),W=null),"file_not_found"==e[6]?J?J.p(e,t):(J=ni(e),J.c(),J.m(c,S)):J&&(J.d(1),J=null);const s={};2&t[0]&&(s.connector=e[1]),1&t[0]&&(s.connected=e[0]),8&t[0]&&(s.hasPlayer=e[3]&&null!=e[3].volume),N.$set(s),e[11]||e[10]?Q&&(L(),M(Q,1,1,(()=>{Q=null})),V()):Q?(Q.p(e,t),3072&t[0]&&D(Q,1)):(Q=si(e),Q.c(),D(Q,1),Q.m(c,null))},i(e){B||(D(o.$$.fragment,e),D(i.$$.fragment,e),D(N.$$.fragment,e),D(Q),B=!0)},o(e){M(o.$$.fragment,e),M(i.$$.fragment,e),M(N.$$.fragment,e),M(Q),B=!1},d(r){r&&_(t),Y.d(),r&&_(n),j(o,r),r&&_(s),j(i,r),r&&_(a),r&&_(c),e[24](null),W&&W.d(),J&&J.d(),j(N),Q&&Q.d(),z=!1,ee(q)}}}const li=3;function hi(e,t,r){let n,o,s,i,a,c,l,h,u,f,d,p,v=k,m=()=>(v(),v=N(_,(e=>r(4,s=e))),_),g=k,y=()=>(g(),g=N(w,(e=>r(5,i=e))),w);R(e,Qr,(e=>r(10,a=e))),R(e,Jr,(e=>r(27,c=e))),R(e,Ur,(e=>r(28,l=e))),R(e,Wr,(e=>r(11,h=e))),R(e,Nr,(e=>r(29,u=e))),R(e,Gr,(e=>r(12,f=e))),R(e,Ir,(e=>r(13,d=e))),R(e,en,(e=>r(14,p=e))),e.$$.on_destroy.push((()=>v())),e.$$.on_destroy.push((()=>g()));let{connected:w}=t;y();let{connector:b}=t,{backend:_}=t;m();let{backend2:$}=t,{concurrency:E}=t,{displayName:A}=t,{player:x}=t;const T=lo(),{q:O,page:P,tags:S,place:I,error:U,mode:C}=ie.parseQuery();let D=U;if(O&&Wr.set(decodeURIComponent(O)),S)for(const k of decodeURIComponent(S).split(","))xs(k);P&&Jr.set(parseInt(P)),I&&Qr.set(decodeURIComponent(I)),Qr.subscribe((()=>{}));const M=E.requireConditions(2,(()=>{console.log("✓ FIRST STORE CONNECT after MOUNTING the APP ..."),a?zo(a,_):V({force:!0,searchPage:c,keepSelectedTags:!0})}));let j,L;function V({force:e=!1,searchPage:t=1,userActivated:n=!1,keepSelectedTags:o=!1}={}){Qr.set(null),Jr.set(t),h?(document.title=u?`${h} — zetaseek`:`${h} — dmt search`,window.screen.width>768&&document.body.classList.add("darken")):(document.body.classList.remove("darken"),document.title="ZetaSeek Search & Discovery"),console.log(`triggerSearch: ${h}`);const s=b.remoteObject("GUISearchObject");n&&D&&(r(6,D=void 0),ie.updateSearchParam("error")),null==h&&console.log("Warning: null SEARCH QUERY !!! Should not hapen. There is a bug probably in GUI code"),Zs(),Hr({searchQuery:h,page:t,searchMode:f,keepSelectedTags:o,selectedTags:rn,remoteObject:s,remoteMethod:"search",searchStatusCallback:({searching:e,noHits:t,noMorePages:r})=>{Xr.set(e),en.set(t),tn.set(r)},searchDelay:300,force:e,searchMetadata:Bo(),timezone:T}).then((e=>{Zs(),Zr.set({searchResults:e,searchQuery:h})})).catch((e=>{Zs(),Zr.set({searchError:e})}))}function z(e=!1){Wr.set(""),V(),l&&!e||j.focus()}b.on("ready",(()=>{M.oneConditionFulfilled()})),B((()=>{l||setTimeout((()=>{j.focus()}),1e3),M.oneConditionFulfilled()}));return e.$$set=e=>{"connected"in e&&y(r(0,w=e.connected)),"connector"in e&&r(1,b=e.connector),"backend"in e&&m(r(2,_=e.backend)),"backend2"in e&&r(19,$=e.backend2),"concurrency"in e&&r(20,E=e.concurrency),"displayName"in e&&r(21,A=e.displayName),"player"in e&&r(3,x=e.player)},e.$$.update=()=>{16&e.$$.dirty[0]&&r(8,n=s.entireLinkIndexCloud),32&e.$$.dirty[0]&&r(9,o=i?"Search terms":"Search is currently not available")},[w,b,_,x,s,i,D,j,n,o,a,h,f,d,p,function({searchPage:e=1}={}){V({searchPage:e,userActivated:!0,force:!0,keepSelectedTags:!0})},function(){clearTimeout(L),L=setTimeout((()=>{console.log("searchInputChanged event received, triggering search ..."),V({userActivated:!0})}),""==(null==h?void 0:h.trim())?0:400)},z,function(e){window.scrollTo(0,0),function(e,{mode:t,searchPage:r,force:n=!1}={}){Wr.set(e),t&&Gr.set(t),setTimeout((()=>{V({userActivated:!0,searchPage:r,force:n})}),50)}(e)},$,E,A,()=>{z()},function(){h=this.value,Wr.set(h)},function(e){oe[e?"unshift":"push"]((()=>{j=e,r(7,j)}))},()=>z(!0)]}class ui extends f{constructor(e){super(),d(this,e,hi,ci,p,{connected:0,connector:1,backend:2,backend2:19,concurrency:20,displayName:21,player:3},[-1,-1])}}function fi(e){let t,r,n,o,s,i,a,c,l,h,u;return W(e[12]),r=new $n({props:{backend:e[7],backend2:e[1],connected:e[8]}}),o=new sn({props:{dmtVersion:e[5]}}),i=new Kn({props:{metamaskConnect:e[3],backend:e[7]}}),c=new ui({props:{connected:e[8],connector:e[0],backend:e[7],backend2:e[1],concurrency:e[2],metamaskConnect:e[3],player:e[4],displayName:e[9]}}),{c(){t=v("main"),I(r.$$.fragment),n=g(),I(o.$$.fragment),s=g(),I(i.$$.fragment),a=g(),I(c.$$.fragment),this.h()},l(e){t=y(e,"MAIN",{class:!0});var l=w(t);U(r.$$.fragment,l),n=$(l),U(o.$$.fragment,l),s=$(l),U(i.$$.fragment,l),a=$(l),U(c.$$.fragment,l),l.forEach(_),this.h()},h(){E(t,"class","svelte-14z86uw")},m(f,d){A(f,t,d),C(r,t,null),x(t,n),C(o,t,null),x(t,s),C(i,t,null),x(t,a),C(c,t,null),l=!0,h||(u=H(window,"resize",e[12]),h=!0)},p(e,[t]){const n={};2&t&&(n.backend2=e[1]),r.$set(n);const s={};32&t&&(s.dmtVersion=e[5]),o.$set(s);const a={};8&t&&(a.metamaskConnect=e[3]),i.$set(a);const l={};1&t&&(l.connector=e[0]),2&t&&(l.backend2=e[1]),4&t&&(l.concurrency=e[2]),8&t&&(l.metamaskConnect=e[3]),16&t&&(l.player=e[4]),c.$set(l)},i(e){l||(D(r.$$.fragment,e),D(o.$$.fragment,e),D(i.$$.fragment,e),D(c.$$.fragment,e),l=!0)},o(e){M(r.$$.fragment,e),M(o.$$.fragment,e),M(i.$$.fragment,e),M(c.$$.fragment,e),l=!1},d(e){e&&_(t),j(r),j(o),j(i),j(c),h=!1,u()}}}function di(e,t,r){let n,o,s,i,a;R(e,Er,(e=>r(6,a=e)));let{connector:c}=t;const{state:l,connected:h}=c;R(e,l,(e=>r(11,i=e)));let u,{backend2:f}=t,{concurrency:d}=t,{metamaskConnect:p}=t;return l.subscribe((({device:e})=>{xr.set(e?e.deviceName:null),Tr.set(e?e.tagline:null)})),e.$$set=e=>{"connector"in e&&r(0,c=e.connector),"backend2"in e&&r(1,f=e.backend2),"concurrency"in e&&r(2,d=e.concurrency),"metamaskConnect"in e&&r(3,p=e.metamaskConnect)},e.$$.update=()=>{2048&e.$$.dirty&&r(10,n=i.device),2048&e.$$.dirty&&r(4,o=i.player),2048&e.$$.dirty&&i.peerlist,1024&e.$$.dirty&&r(5,s=n?n.dmtVersion:null)},[c,f,d,p,o,s,a,l,h,u,n,i,function(){Er.set(a=window.innerWidth)}]}const{metamaskInit:pi}=Vr,vi={port:7780},mi=new class extends class extends class extends class{constructor(){this.__events_list={}}on(e,t){const r=this.__events_list[e]||(this.__events_list[e]=new Vt),n=t._eev||(t._eev=++Bt);r.reg[n]||(r.reg[n]=r.insert(t))}off(e,t){if(t){const r=this.__events_list[e];if(!r)return;const n=r.reg[t._eev];r.reg[t._eev]=void 0,r&&n&&r.remove(n)}}removeListener(...e){this.off(...e)}emit(e,t){const r=this.__events_list[e];r&&r.head.run(t)}}{constructor(e){super(),this.state=e,this.subscriptions=[]}get(){return this.state}subscribe(e){return this.subscriptions.push(e),e(this.state),()=>{this.subscriptions=this.subscriptions.filter((t=>t!==e))}}announceStateChange(){this.subscriptions.forEach((e=>e(this.state)))}}{set(e){this.state=e,this.announceStateChange()}}{constructor(){super({log:[]})}addToLog({origConsoleLog:e,limit:t},...r){1==r.length&&(r=r[0]);let{log:n}=this.get();if("string"==typeof r)n.push(r);else try{n.push(`${JSON.stringify(r)}`)}catch(o){n.push(r)}n=n.slice(-t),this.set({log:n})}},gi=console.log.bind(console);console.log=(...e)=>{mi.addToLog({origConsoleLog:gi,limit:100},...e),gi(...e)};const yi=Ct(c(a({},vi),{protocol:"dmtapp/search",rpcRequestTimeout:5500,verbose:!1}));let wi;if(u(Nr)||kr){const{state:e}=Ct(c(a({},vi),{protocol:"dmt/system"}));wi=e}const bi=pi((e=>{console.log(`Connected ethereum address: ${e}`),Ar.set(e)}));new class extends f{constructor(e){super(),d(this,e,di,fi,p,{connector:0,backend2:1,concurrency:2,metamaskConnect:3})}}({target:document.body,props:{connector:yi,backend2:wi,concurrency:Mt,metamaskConnect:bi}});
