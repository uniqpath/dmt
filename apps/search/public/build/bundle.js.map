{"version":3,"file":"bundle.js","sources":["../../dmt-one/node_modules/ansicolor/build/ansicolor.js","../../dmt-one/lib/def.js","../../dmt-one/lib/cssBridge.js","../../dmt-one/lib/util.js","../../dmt-one/lib/emitter/runnableLink.js","../../dmt-one/lib/emitter/linkedList.js","../../dmt-one/lib/emitter/index.js","../../dmt-one/lib/colorsHTML.js","../../dmt-one/lib/metamask/metamask.js","../../dmt-one/lib/search/executeSearch.js","../../../../../../../.dmt/core/node/connectome/dist/index.js","../../../../../../../.dmt/core/node/connectome/stores/index.mjs","../../node_modules/svelte/internal/index.mjs","../../node_modules/svelte/store/index.mjs","../../src/appHelper.js","../../node_modules/urljs/lib/index.js","../../src/components/About.svelte","../../src/components/Login/DisplayLoggedInInfo.svelte","../../src/components/Login/DisplayMetamaskInvite.svelte","../../src/components/Login/Login.svelte","../../src/components/LeftBar/PeerList.svelte","../../src/components/LeftBar/LeftBar.svelte","../../src/testStore.js","../../node_modules/svelte-spinner/src/index.svelte","../../src/components/ConnectionStatus.svelte","../../src/components/NodeTagline.svelte","../../src/components/SearchModeSelector.svelte","../../src/components/SearchResults/ResultTags/ResultTag.svelte","../../src/components/SearchResults/ResultTags/ResultLinkTag.svelte","../../src/components/SearchResults/ResultTags/ResultTags.svelte","../../src/components/SearchResults/ResultTypes/ResultLink.svelte","../../src/components/SearchResults/PlayMedia.svelte","../../src/components/SearchResults/ResultTypes/ResultFS.svelte","../../src/components/SearchResults/ResultTypes/ResultNote.svelte","../../src/components/SearchResults/NoResults.svelte","../../src/components/SearchResults/ResultsMetaTop.svelte","../../src/components/SearchResults/ResultsMetaBottom.svelte","../../src/components/SearchResults/SearchResults.svelte","../../src/App.svelte","../../src/main.js"],"sourcesContent":["\"use strict\";\n\n/*  ------------------------------------------------------------------------ */\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar O = Object;\n\n/*  See https://misc.flogisoft.com/bash/tip_colors_and_formatting\n    ------------------------------------------------------------------------ */\n\nvar colorCodes = ['black', 'red', 'green', 'yellow', 'blue', 'magenta', 'cyan', 'lightGray', '', 'default'],\n    colorCodesLight = ['darkGray', 'lightRed', 'lightGreen', 'lightYellow', 'lightBlue', 'lightMagenta', 'lightCyan', 'white', ''],\n    styleCodes = ['', 'bright', 'dim', 'italic', 'underline', '', '', 'inverse'],\n    asBright = { 'red': 'lightRed',\n    'green': 'lightGreen',\n    'yellow': 'lightYellow',\n    'blue': 'lightBlue',\n    'magenta': 'lightMagenta',\n    'cyan': 'lightCyan',\n    'black': 'darkGray',\n    'lightGray': 'white' },\n    types = { 0: 'style',\n    2: 'unstyle',\n    3: 'color',\n    9: 'colorLight',\n    4: 'bgColor',\n    10: 'bgColorLight' },\n    subtypes = { color: colorCodes,\n    colorLight: colorCodesLight,\n    bgColor: colorCodes,\n    bgColorLight: colorCodesLight,\n    style: styleCodes,\n    unstyle: styleCodes\n\n    /*  ------------------------------------------------------------------------ */\n\n};var clean = function clean(obj) {\n    for (var k in obj) {\n        if (!obj[k]) {\n            delete obj[k];\n        }\n    }\n    return O.keys(obj).length === 0 ? undefined : obj;\n};\n\n/*  ------------------------------------------------------------------------ */\n\nvar Color = function () {\n    function Color(background, name, brightness) {\n        _classCallCheck(this, Color);\n\n        this.background = background;\n        this.name = name;\n        this.brightness = brightness;\n    }\n\n    _createClass(Color, [{\n        key: 'defaultBrightness',\n        value: function defaultBrightness(value) {\n\n            return new Color(this.background, this.name, this.brightness || value);\n        }\n    }, {\n        key: 'css',\n        value: function css(inverted) {\n\n            var color = inverted ? this.inverse : this;\n\n            var rgbName = color.brightness === Code.bright && asBright[color.name] || color.name;\n\n            var prop = color.background ? 'background:' : 'color:',\n                rgb = Colors.rgb[rgbName],\n                alpha = this.brightness === Code.dim ? 0.5 : 1;\n\n            return rgb ? prop + 'rgba(' + [].concat(_toConsumableArray(rgb), [alpha]).join(',') + ');' : !color.background && alpha < 1 ? 'color:rgba(0,0,0,0.5);' : ''; // Chrome does not support 'opacity' property...\n        }\n    }, {\n        key: 'inverse',\n        get: function get() {\n            return new Color(!this.background, this.name || (this.background ? 'black' : 'white'), this.brightness);\n        }\n    }, {\n        key: 'clean',\n        get: function get() {\n            return clean({ name: this.name === 'default' ? '' : this.name,\n                bright: this.brightness === Code.bright,\n                dim: this.brightness === Code.dim });\n        }\n    }]);\n\n    return Color;\n}();\n\n/*  ------------------------------------------------------------------------ */\n\nvar Code = function () {\n    function Code(n) {\n        _classCallCheck(this, Code);\n\n        if (n !== undefined) {\n            this.value = Number(n);\n        }\n    }\n\n    _createClass(Code, [{\n        key: 'type',\n        get: function get() {\n            return types[Math.floor(this.value / 10)];\n        }\n    }, {\n        key: 'subtype',\n        get: function get() {\n            return subtypes[this.type][this.value % 10];\n        }\n    }, {\n        key: 'str',\n        get: function get() {\n            return this.value ? '\\x1B[' + this.value + 'm' : '';\n        }\n    }, {\n        key: 'isBrightness',\n        get: function get() {\n            return this.value === Code.noBrightness || this.value === Code.bright || this.value === Code.dim;\n        }\n    }], [{\n        key: 'str',\n        value: function str(x) {\n            return new Code(x).str;\n        }\n    }]);\n\n    return Code;\n}();\n\n/*  ------------------------------------------------------------------------ */\n\nO.assign(Code, {\n\n    reset: 0,\n    bright: 1,\n    dim: 2,\n    inverse: 7,\n    noBrightness: 22,\n    noItalic: 23,\n    noUnderline: 24,\n    noInverse: 27,\n    noColor: 39,\n    noBgColor: 49\n});\n\n/*  ------------------------------------------------------------------------ */\n\nvar replaceAll = function replaceAll(str, a, b) {\n    return str.split(a).join(b);\n};\n\n/*  ANSI brightness codes do not overlap, e.g. \"{bright}{dim}foo\" will be rendered bright (not dim).\n    So we fix it by adding brightness canceling before each brightness code, so the former example gets\n    converted to \"{noBrightness}{bright}{noBrightness}{dim}foo\" â€“ this way it gets rendered as expected.\n */\n\nvar denormalizeBrightness = function denormalizeBrightness(s) {\n    return s.replace(/(\\u001b\\[(1|2)m)/g, '\\x1B[22m$1');\n};\nvar normalizeBrightness = function normalizeBrightness(s) {\n    return s.replace(/\\u001b\\[22m(\\u001b\\[(1|2)m)/g, '$1');\n};\n\nvar wrap = function wrap(x, openCode, closeCode) {\n\n    var open = Code.str(openCode),\n        close = Code.str(closeCode);\n\n    return String(x).split('\\n').map(function (line) {\n        return denormalizeBrightness(open + replaceAll(normalizeBrightness(line), close, open) + close);\n    }).join('\\n');\n};\n\n/*  ------------------------------------------------------------------------ */\n\nvar camel = function camel(a, b) {\n    return a + b.charAt(0).toUpperCase() + b.slice(1);\n};\n\nvar stringWrappingMethods = function () {\n    return [].concat(_toConsumableArray(colorCodes.map(function (k, i) {\n        return !k ? [] : [// color methods\n\n        [k, 30 + i, Code.noColor], [camel('bg', k), 40 + i, Code.noBgColor]];\n    })), _toConsumableArray(colorCodesLight.map(function (k, i) {\n        return !k ? [] : [// light color methods\n\n        [k, 90 + i, Code.noColor], [camel('bg', k), 100 + i, Code.noBgColor]];\n    })), _toConsumableArray(['', 'BrightRed', 'BrightGreen', 'BrightYellow', 'BrightBlue', 'BrightMagenta', 'BrightCyan'].map(function (k, i) {\n        return !k ? [] : [['bg' + k, 100 + i, Code.noBgColor]];\n    })), _toConsumableArray(styleCodes.map(function (k, i) {\n        return !k ? [] : [// style methods\n\n        [k, i, k === 'bright' || k === 'dim' ? Code.noBrightness : 20 + i]];\n    }))).reduce(function (a, b) {\n        return a.concat(b);\n    });\n}();\n\n/*  ------------------------------------------------------------------------ */\n\nvar assignStringWrappingAPI = function assignStringWrappingAPI(target) {\n    var wrapBefore = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : target;\n    return stringWrappingMethods.reduce(function (memo, _ref) {\n        var _ref2 = _slicedToArray(_ref, 3),\n            k = _ref2[0],\n            open = _ref2[1],\n            close = _ref2[2];\n\n        return O.defineProperty(memo, k, {\n            get: function get() {\n                return assignStringWrappingAPI(function (str) {\n                    return wrapBefore(wrap(str, open, close));\n                });\n            }\n        });\n    }, target);\n};\n\n/*  ------------------------------------------------------------------------ */\n\nvar TEXT = 0,\n    BRACKET = 1,\n    CODE = 2;\n\nfunction rawParse(s) {\n\n    var state = TEXT,\n        buffer = '',\n        text = '',\n        code = '',\n        codes = [];\n    var spans = [];\n\n    for (var i = 0, n = s.length; i < n; i++) {\n\n        var c = s[i];\n\n        buffer += c;\n\n        switch (state) {\n\n            case TEXT:\n                if (c === '\\x1B') {\n                    state = BRACKET;buffer = c;\n                } else {\n                    text += c;\n                }\n                break;\n\n            case BRACKET:\n                if (c === '[') {\n                    state = CODE;code = '';codes = [];\n                } else {\n                    state = TEXT;text += buffer;\n                }\n                break;\n\n            case CODE:\n\n                if (c >= '0' && c <= '9') {\n                    code += c;\n                } else if (c === ';') {\n                    codes.push(new Code(code));code = '';\n                } else if (c === 'm' && code.length) {\n                    codes.push(new Code(code));\n                    var _iteratorNormalCompletion = true;\n                    var _didIteratorError = false;\n                    var _iteratorError = undefined;\n\n                    try {\n                        for (var _iterator = codes[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                            var _code = _step.value;\n                            spans.push({ text: text, code: _code });text = '';\n                        }\n                    } catch (err) {\n                        _didIteratorError = true;\n                        _iteratorError = err;\n                    } finally {\n                        try {\n                            if (!_iteratorNormalCompletion && _iterator.return) {\n                                _iterator.return();\n                            }\n                        } finally {\n                            if (_didIteratorError) {\n                                throw _iteratorError;\n                            }\n                        }\n                    }\n\n                    state = TEXT;\n                } else {\n                    state = TEXT;text += buffer;\n                }\n        }\n    }\n\n    if (state !== TEXT) text += buffer;\n\n    if (text) spans.push({ text: text, code: new Code() });\n\n    return spans;\n}\n\n/*  ------------------------------------------------------------------------ */\n\n/**\n * Represents an ANSI-escaped string.\n */\n\nvar Colors = function () {\n\n    /**\n     * @param {string} s a string containing ANSI escape codes.\n     */\n    function Colors(s) {\n        _classCallCheck(this, Colors);\n\n        this.spans = s ? rawParse(s) : [];\n    }\n\n    _createClass(Colors, [{\n        key: Symbol.iterator,\n\n\n        /**\n         * @example\n         * const spans = [...ansi.parse ('\\u001b[7m\\u001b[7mfoo\\u001b[7mbar\\u001b[27m')]\n         */\n        value: function value() {\n            return this.spans[Symbol.iterator]();\n        }\n\n        /**\n         * @desc This allows an alternative import style, see https://github.com/xpl/ansicolor/issues/7#issuecomment-578923578\n         * @example\n         * import { ansicolor, ParsedSpan } from 'ansicolor'\n         */\n\n    }, {\n        key: 'str',\n        get: function get() {\n            return this.spans.reduce(function (str, p) {\n                return str + p.text + p.code.str;\n            }, '');\n        }\n    }, {\n        key: 'parsed',\n        get: function get() {\n\n            var color = void 0,\n                bgColor = void 0,\n                brightness = void 0,\n                styles = void 0;\n\n            function reset() {\n\n                color = new Color(), bgColor = new Color(true /* background */), brightness = undefined, styles = new Set();\n            }\n\n            reset();\n\n            return O.assign(new Colors(), {\n\n                spans: this.spans.map(function (span) {\n\n                    var c = span.code;\n\n                    var inverted = styles.has('inverse'),\n                        underline = styles.has('underline') ? 'text-decoration: underline;' : '',\n                        italic = styles.has('italic') ? 'font-style: italic;' : '',\n                        bold = brightness === Code.bright ? 'font-weight: bold;' : '';\n\n                    var foreColor = color.defaultBrightness(brightness);\n\n                    var styledSpan = O.assign({ css: bold + italic + underline + foreColor.css(inverted) + bgColor.css(inverted) }, clean({ bold: !!bold, color: foreColor.clean, bgColor: bgColor.clean }), span);\n\n                    var _iteratorNormalCompletion2 = true;\n                    var _didIteratorError2 = false;\n                    var _iteratorError2 = undefined;\n\n                    try {\n                        for (var _iterator2 = styles[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n                            var k = _step2.value;\n                            styledSpan[k] = true;\n                        }\n                    } catch (err) {\n                        _didIteratorError2 = true;\n                        _iteratorError2 = err;\n                    } finally {\n                        try {\n                            if (!_iteratorNormalCompletion2 && _iterator2.return) {\n                                _iterator2.return();\n                            }\n                        } finally {\n                            if (_didIteratorError2) {\n                                throw _iteratorError2;\n                            }\n                        }\n                    }\n\n                    if (c.isBrightness) {\n\n                        brightness = c.value;\n                    } else if (span.code.value !== undefined) {\n\n                        if (span.code.value === Code.reset) {\n                            reset();\n                        } else {\n\n                            switch (span.code.type) {\n\n                                case 'color':\n                                case 'colorLight':\n                                    color = new Color(false, c.subtype);break;\n\n                                case 'bgColor':\n                                case 'bgColorLight':\n                                    bgColor = new Color(true, c.subtype);break;\n\n                                case 'style':\n                                    styles.add(c.subtype);break;\n                                case 'unstyle':\n                                    styles.delete(c.subtype);break;\n                            }\n                        }\n                    }\n\n                    return styledSpan;\n                }).filter(function (s) {\n                    return s.text.length > 0;\n                })\n            });\n        }\n\n        /*  Outputs with Chrome DevTools-compatible format     */\n\n    }, {\n        key: 'asChromeConsoleLogArguments',\n        get: function get() {\n\n            var spans = this.parsed.spans;\n\n            return [spans.map(function (s) {\n                return '%c' + s.text;\n            }).join('')].concat(_toConsumableArray(spans.map(function (s) {\n                return s.css;\n            })));\n        }\n    }, {\n        key: 'browserConsoleArguments',\n        get: function get() /* LEGACY, DEPRECATED */{\n            return this.asChromeConsoleLogArguments;\n        }\n\n        /**\n         * @desc installs String prototype extensions\n         * @example\n         * require ('ansicolor').nice\n         * console.log ('foo'.bright.red)\n         */\n\n    }], [{\n        key: 'parse',\n\n\n        /**\n         * @desc parses a string containing ANSI escape codes\n         * @return {Colors} parsed representation.\n         */\n        value: function parse(s) {\n            return new Colors(s).parsed;\n        }\n\n        /**\n         * @desc strips ANSI codes from a string\n         * @param {string} s a string containing ANSI escape codes.\n         * @return {string} clean string.\n         */\n\n    }, {\n        key: 'strip',\n        value: function strip(s) {\n            return s.replace(/[\\u001b\\u009b][[()#;?]*(?:[0-9]{1,4}(?:;[0-9]{0,4})*)?[0-9A-PRZcf-nqry=><]/g, ''); // hope V8 caches the regexp\n        }\n    }, {\n        key: 'nice',\n        get: function get() {\n\n            Colors.names.forEach(function (k) {\n                if (!(k in String.prototype)) {\n                    O.defineProperty(String.prototype, k, { get: function get() {\n                            return Colors[k](this);\n                        } });\n                }\n            });\n\n            return Colors;\n        }\n    }, {\n        key: 'ansicolor',\n        get: function get() {\n            return Colors;\n        }\n    }]);\n\n    return Colors;\n}();\n\n/*  ------------------------------------------------------------------------ */\n\nassignStringWrappingAPI(Colors, function (str) {\n    return str;\n});\n\n/*  ------------------------------------------------------------------------ */\n\nColors.names = stringWrappingMethods.map(function (_ref3) {\n    var _ref4 = _slicedToArray(_ref3, 1),\n        k = _ref4[0];\n\n    return k;\n});\n\n/*  ------------------------------------------------------------------------ */\n\nColors.rgb = {\n\n    black: [0, 0, 0],\n    darkGray: [100, 100, 100],\n    lightGray: [200, 200, 200],\n    white: [255, 255, 255],\n\n    red: [204, 0, 0],\n    lightRed: [255, 51, 0],\n\n    green: [0, 204, 0],\n    lightGreen: [51, 204, 51],\n\n    yellow: [204, 102, 0],\n    lightYellow: [255, 153, 51],\n\n    blue: [0, 0, 255],\n    lightBlue: [26, 140, 255],\n\n    magenta: [204, 0, 204],\n    lightMagenta: [255, 0, 255],\n\n    cyan: [0, 153, 255],\n    lightCyan: [0, 204, 255]\n\n    /*  ------------------------------------------------------------------------ */\n\n};module.exports = Colors;\n\n/*  ------------------------------------------------------------------------ */\n\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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O0FBZ0JULFVBQWMsQ0FBQyxDQUFELEVBQVEsQ0FBUixFQUFXLEdBQVgsQ0FoQkw7QUFpQlQsZUFBYyxDQUFDLEVBQUQsRUFBTSxHQUFOLEVBQVcsR0FBWCxDQWpCTDs7QUFtQlQsYUFBYyxDQUFDLEdBQUQsRUFBUSxDQUFSLEVBQVcsR0FBWCxDQW5CTDtBQW9CVCxrQkFBYyxDQUFDLEdBQUQsRUFBUSxDQUFSLEVBQVcsR0FBWCxDQXBCTDs7QUFzQlQsVUFBYyxDQUFDLENBQUQsRUFBTSxHQUFOLEVBQVcsR0FBWCxDQXRCTDtBQXVCVCxlQUFjLENBQUMsQ0FBRCxFQUFNLEdBQU4sRUFBVyxHQUFYOztBQUdsQjs7QUExQmEsQ0FBYixDQTRCQSxPQUFPLE9BQVAsR0FBaUIsTUFBakI7O0FBRUEiLCJmaWxlIjoiYW5zaWNvbG9yLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblxuY29uc3QgTyA9IE9iamVjdFxuXG4vKiAgU2VlIGh0dHBzOi8vbWlzYy5mbG9naXNvZnQuY29tL2Jhc2gvdGlwX2NvbG9yc19hbmRfZm9ybWF0dGluZ1xuICAgIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXG5jb25zdCBjb2xvckNvZGVzICAgICAgPSBbICAgJ2JsYWNrJywgICAgICAncmVkJywgICAgICAnZ3JlZW4nLCAgICAgICd5ZWxsb3cnLCAgICAgICdibHVlJywgICAgICAnbWFnZW50YScsICAgICAgJ2N5YW4nLCAnbGlnaHRHcmF5JywgJycsICdkZWZhdWx0J11cbiAgICAsIGNvbG9yQ29kZXNMaWdodCA9IFsnZGFya0dyYXknLCAnbGlnaHRSZWQnLCAnbGlnaHRHcmVlbicsICdsaWdodFllbGxvdycsICdsaWdodEJsdWUnLCAnbGlnaHRNYWdlbnRhJywgJ2xpZ2h0Q3lhbicsICd3aGl0ZScsICcnXVxuICAgIFxuICAgICwgc3R5bGVDb2RlcyA9IFsnJywgJ2JyaWdodCcsICdkaW0nLCAnaXRhbGljJywgJ3VuZGVybGluZScsICcnLCAnJywgJ2ludmVyc2UnXVxuXG4gICAgLCBhc0JyaWdodCA9IHsgJ3JlZCc6ICAgICAgICdsaWdodFJlZCcsXG4gICAgICAgICAgICAgICAgICAgJ2dyZWVuJzogICAgICdsaWdodEdyZWVuJyxcbiAgICAgICAgICAgICAgICAgICAneWVsbG93JzogICAgJ2xpZ2h0WWVsbG93JyxcbiAgICAgICAgICAgICAgICAgICAnYmx1ZSc6ICAgICAgJ2xpZ2h0Qmx1ZScsXG4gICAgICAgICAgICAgICAgICAgJ21hZ2VudGEnOiAgICdsaWdodE1hZ2VudGEnLFxuICAgICAgICAgICAgICAgICAgICdjeWFuJzogICAgICAnbGlnaHRDeWFuJyxcbiAgICAgICAgICAgICAgICAgICAnYmxhY2snOiAgICAgJ2RhcmtHcmF5JyxcbiAgICAgICAgICAgICAgICAgICAnbGlnaHRHcmF5JzogJ3doaXRlJyB9XG4gICAgXG4gICAgLCB0eXBlcyA9IHsgMDogICdzdHlsZScsXG4gICAgICAgICAgICAgICAgMjogICd1bnN0eWxlJyxcbiAgICAgICAgICAgICAgICAzOiAgJ2NvbG9yJyxcbiAgICAgICAgICAgICAgICA5OiAgJ2NvbG9yTGlnaHQnLFxuICAgICAgICAgICAgICAgIDQ6ICAnYmdDb2xvcicsXG4gICAgICAgICAgICAgICAgMTA6ICdiZ0NvbG9yTGlnaHQnIH1cblxuICAgICwgc3VidHlwZXMgPSB7ICBjb2xvcjogICAgICAgICBjb2xvckNvZGVzLFxuICAgICAgICAgICAgICAgICAgICBjb2xvckxpZ2h0OiAgICBjb2xvckNvZGVzTGlnaHQsXG4gICAgICAgICAgICAgICAgICAgIGJnQ29sb3I6ICAgICAgIGNvbG9yQ29kZXMsXG4gICAgICAgICAgICAgICAgICAgIGJnQ29sb3JMaWdodDogIGNvbG9yQ29kZXNMaWdodCxcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU6ICAgICAgICAgc3R5bGVDb2RlcyxcbiAgICAgICAgICAgICAgICAgICAgdW5zdHlsZTogICAgICAgc3R5bGVDb2RlcyAgICB9XG5cbi8qICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblxuY29uc3QgY2xlYW4gPSBvYmogPT4ge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgayBpbiBvYmopIHsgaWYgKCFvYmpba10pIHsgZGVsZXRlIG9ialtrXSB9IH1cbiAgICAgICAgICAgICAgICByZXR1cm4gKE8ua2V5cyAob2JqKS5sZW5ndGggPT09IDApID8gdW5kZWZpbmVkIDogb2JqXG4gICAgICAgICAgICB9XG5cbi8qICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblxuY2xhc3MgQ29sb3Ige1xuXG4gICAgY29uc3RydWN0b3IgKGJhY2tncm91bmQsIG5hbWUsIGJyaWdodG5lc3MpIHtcblxuICAgICAgICB0aGlzLmJhY2tncm91bmQgPSBiYWNrZ3JvdW5kXG4gICAgICAgIHRoaXMubmFtZSAgICAgICA9IG5hbWVcbiAgICAgICAgdGhpcy5icmlnaHRuZXNzID0gYnJpZ2h0bmVzc1xuICAgIH1cblxuICAgIGdldCBpbnZlcnNlICgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBDb2xvciAoIXRoaXMuYmFja2dyb3VuZCwgdGhpcy5uYW1lIHx8ICh0aGlzLmJhY2tncm91bmQgPyAnYmxhY2snIDogJ3doaXRlJyksIHRoaXMuYnJpZ2h0bmVzcylcbiAgICB9XG5cbiAgICBnZXQgY2xlYW4gKCkge1xuICAgICAgICByZXR1cm4gY2xlYW4gKHsgbmFtZTogICB0aGlzLm5hbWUgPT09ICdkZWZhdWx0JyA/ICcnIDogdGhpcy5uYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgYnJpZ2h0OiB0aGlzLmJyaWdodG5lc3MgPT09IENvZGUuYnJpZ2h0LFxuICAgICAgICAgICAgICAgICAgICAgICAgZGltOiAgICB0aGlzLmJyaWdodG5lc3MgPT09IENvZGUuZGltIH0pXG4gICAgfVxuXG4gICAgZGVmYXVsdEJyaWdodG5lc3MgKHZhbHVlKSB7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBDb2xvciAodGhpcy5iYWNrZ3JvdW5kLCB0aGlzLm5hbWUsIHRoaXMuYnJpZ2h0bmVzcyB8fCB2YWx1ZSlcbiAgICB9XG5cbiAgICBjc3MgKGludmVydGVkKSB7XG5cbiAgICAgICAgY29uc3QgY29sb3IgPSBpbnZlcnRlZCA/IHRoaXMuaW52ZXJzZSA6IHRoaXNcblxuICAgICAgICBjb25zdCByZ2JOYW1lID0gKChjb2xvci5icmlnaHRuZXNzID09PSBDb2RlLmJyaWdodCkgJiYgYXNCcmlnaHRbY29sb3IubmFtZV0pIHx8IGNvbG9yLm5hbWVcblxuICAgICAgICBjb25zdCBwcm9wID0gKGNvbG9yLmJhY2tncm91bmQgPyAnYmFja2dyb3VuZDonIDogJ2NvbG9yOicpXG4gICAgICAgICAgICAsIHJnYiAgPSBDb2xvcnMucmdiW3JnYk5hbWVdXG4gICAgICAgICAgICAsIGFscGhhID0gKHRoaXMuYnJpZ2h0bmVzcyA9PT0gQ29kZS5kaW0pID8gMC41IDogMVxuXG4gICAgICAgIHJldHVybiByZ2JcbiAgICAgICAgICAgICAgICA/IChwcm9wICsgJ3JnYmEoJyArIFsuLi5yZ2IsIGFscGhhXS5qb2luICgnLCcpICsgJyk7JylcbiAgICAgICAgICAgICAgICA6ICgoIWNvbG9yLmJhY2tncm91bmQgJiYgKGFscGhhIDwgMSkpID8gJ2NvbG9yOnJnYmEoMCwwLDAsMC41KTsnIDogJycpIC8vIENocm9tZSBkb2VzIG5vdCBzdXBwb3J0ICdvcGFjaXR5JyBwcm9wZXJ0eS4uLlxuICAgIH1cbn1cblxuLyogIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXG5jbGFzcyBDb2RlIHtcblxuICAgIGNvbnN0cnVjdG9yIChuKSB7XG4gICAgICAgIGlmIChuICE9PSB1bmRlZmluZWQpIHsgdGhpcy52YWx1ZSA9IE51bWJlciAobikgfSB9XG5cbiAgICBnZXQgdHlwZSAoKSB7XG4gICAgICAgcmV0dXJuIHR5cGVzW01hdGguZmxvb3IgKHRoaXMudmFsdWUgLyAxMCldIH1cblxuICAgIGdldCBzdWJ0eXBlICgpIHtcbiAgICAgICAgcmV0dXJuIHN1YnR5cGVzW3RoaXMudHlwZV1bdGhpcy52YWx1ZSAlIDEwXSB9XG5cbiAgICBnZXQgc3RyICgpIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLnZhbHVlID8gKCdcXHUwMDFiXFxbJyArIHRoaXMudmFsdWUgKyAnbScpIDogJycpIH1cblxuICAgIHN0YXRpYyBzdHIgKHgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBDb2RlICh4KS5zdHIgfVxuXG4gICAgZ2V0IGlzQnJpZ2h0bmVzcyAoKSB7XG4gICAgICAgIHJldHVybiAodGhpcy52YWx1ZSA9PT0gQ29kZS5ub0JyaWdodG5lc3MpIHx8ICh0aGlzLnZhbHVlID09PSBDb2RlLmJyaWdodCkgfHwgKHRoaXMudmFsdWUgPT09IENvZGUuZGltKSB9XG59XG5cbi8qICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblxuTy5hc3NpZ24gKENvZGUsIHtcblxuICAgIHJlc2V0OiAgICAgICAgMCxcbiAgICBicmlnaHQ6ICAgICAgIDEsXG4gICAgZGltOiAgICAgICAgICAyLFxuICAgIGludmVyc2U6ICAgICAgNyxcbiAgICBub0JyaWdodG5lc3M6IDIyLFxuICAgIG5vSXRhbGljOiAgICAgMjMsXG4gICAgbm9VbmRlcmxpbmU6ICAyNCxcbiAgICBub0ludmVyc2U6ICAgIDI3LFxuICAgIG5vQ29sb3I6ICAgICAgMzksXG4gICAgbm9CZ0NvbG9yOiAgICA0OVxufSlcblxuLyogIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXG5jb25zdCByZXBsYWNlQWxsID0gKHN0ciwgYSwgYikgPT4gc3RyLnNwbGl0IChhKS5qb2luIChiKVxuXG4vKiAgQU5TSSBicmlnaHRuZXNzIGNvZGVzIGRvIG5vdCBvdmVybGFwLCBlLmcuIFwie2JyaWdodH17ZGltfWZvb1wiIHdpbGwgYmUgcmVuZGVyZWQgYnJpZ2h0IChub3QgZGltKS5cbiAgICBTbyB3ZSBmaXggaXQgYnkgYWRkaW5nIGJyaWdodG5lc3MgY2FuY2VsaW5nIGJlZm9yZSBlYWNoIGJyaWdodG5lc3MgY29kZSwgc28gdGhlIGZvcm1lciBleGFtcGxlIGdldHNcbiAgICBjb252ZXJ0ZWQgdG8gXCJ7bm9CcmlnaHRuZXNzfXticmlnaHR9e25vQnJpZ2h0bmVzc317ZGltfWZvb1wiIOKAkyB0aGlzIHdheSBpdCBnZXRzIHJlbmRlcmVkIGFzIGV4cGVjdGVkLlxuICovXG5cbmNvbnN0IGRlbm9ybWFsaXplQnJpZ2h0bmVzcyA9IHMgPT4gcy5yZXBsYWNlICgvKFxcdTAwMWJcXFsoMXwyKW0pL2csICdcXHUwMDFiWzIybSQxJylcbmNvbnN0IG5vcm1hbGl6ZUJyaWdodG5lc3MgPSBzID0+IHMucmVwbGFjZSAoL1xcdTAwMWJcXFsyMm0oXFx1MDAxYlxcWygxfDIpbSkvZywgJyQxJylcblxuY29uc3Qgd3JhcCA9ICh4LCBvcGVuQ29kZSwgY2xvc2VDb2RlKSA9PiB7XG5cbiAgICBjb25zdCBvcGVuICA9IENvZGUuc3RyIChvcGVuQ29kZSksXG4gICAgICAgICAgY2xvc2UgPSBDb2RlLnN0ciAoY2xvc2VDb2RlKVxuXG4gICAgcmV0dXJuIFN0cmluZyAoeClcbiAgICAgICAgICAgICAgICAuc3BsaXQgKCdcXG4nKVxuICAgICAgICAgICAgICAgIC5tYXAgKGxpbmUgPT4gZGVub3JtYWxpemVCcmlnaHRuZXNzIChvcGVuICsgcmVwbGFjZUFsbCAobm9ybWFsaXplQnJpZ2h0bmVzcyAobGluZSksIGNsb3NlLCBvcGVuKSArIGNsb3NlKSlcbiAgICAgICAgICAgICAgICAuam9pbiAoJ1xcbicpXG59XG5cbi8qICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblxuY29uc3QgY2FtZWwgPSAoYSwgYikgPT4gYSArIGIuY2hhckF0ICgwKS50b1VwcGVyQ2FzZSAoKSArIGIuc2xpY2UgKDEpXG5cblxuY29uc3Qgc3RyaW5nV3JhcHBpbmdNZXRob2RzID0gKCgpID0+IFtcblxuICAgICAgICAuLi5jb2xvckNvZGVzLm1hcCAoKGssIGkpID0+ICFrID8gW10gOiBbIC8vIGNvbG9yIG1ldGhvZHNcblxuICAgICAgICAgICAgW2ssICAgICAgICAgICAgICAgMzAgKyBpLCBDb2RlLm5vQ29sb3JdLFxuICAgICAgICAgICAgW2NhbWVsICgnYmcnLCBrKSwgNDAgKyBpLCBDb2RlLm5vQmdDb2xvcl0sXG4gICAgICAgIF0pLFxuXG4gICAgICAgIC4uLmNvbG9yQ29kZXNMaWdodC5tYXAgKChrLCBpKSA9PiAhayA/IFtdIDogWyAvLyBsaWdodCBjb2xvciBtZXRob2RzXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIFtrLCAgICAgICAgICAgICAgICA5MCArIGksIENvZGUubm9Db2xvcl0sXG4gICAgICAgICAgICBbY2FtZWwgKCdiZycsIGspLCAxMDAgKyBpLCBDb2RlLm5vQmdDb2xvcl0sXG4gICAgICAgIF0pLFxuXG4gICAgICAgIC8qIFRISVMgT05FIElTIEZPUiBCQUNLV0FSRFMgQ09NUEFUSUJJTElUWSBXSVRIIFBSRVZJT1VTIFZFUlNJT05TIChoYWQgJ2JyaWdodCcgaW5zdGVhZCBvZiAnbGlnaHQnIGZvciBiYWNrZ3JvdW5kcylcbiAgICAgICAgICovXG4gICAgICAgIC4uLlsnJywgJ0JyaWdodFJlZCcsICdCcmlnaHRHcmVlbicsICdCcmlnaHRZZWxsb3cnLCAnQnJpZ2h0Qmx1ZScsICdCcmlnaHRNYWdlbnRhJywgJ0JyaWdodEN5YW4nXS5tYXAgKChrLCBpKSA9PiAhayA/IFtdIDogW1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBbJ2JnJyArIGssIDEwMCArIGksIENvZGUubm9CZ0NvbG9yXSxcbiAgICAgICAgXSksXG4gICAgICAgIFxuICAgICAgICAuLi5zdHlsZUNvZGVzLm1hcCAoKGssIGkpID0+ICFrID8gW10gOiBbIC8vIHN0eWxlIG1ldGhvZHNcblxuICAgICAgICAgICAgW2ssIGksICgoayA9PT0gJ2JyaWdodCcpIHx8IChrID09PSAnZGltJykpID8gQ29kZS5ub0JyaWdodG5lc3MgOiAoMjAgKyBpKV1cbiAgICAgICAgXSlcbiAgICBdXG4gICAgLnJlZHVjZSAoKGEsIGIpID0+IGEuY29uY2F0IChiKSlcbiAgICBcbikgKCk7XG5cbi8qICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblxuY29uc3QgYXNzaWduU3RyaW5nV3JhcHBpbmdBUEkgPSAodGFyZ2V0LCB3cmFwQmVmb3JlID0gdGFyZ2V0KSA9PlxuXG4gICAgc3RyaW5nV3JhcHBpbmdNZXRob2RzLnJlZHVjZSAoKG1lbW8sIFtrLCBvcGVuLCBjbG9zZV0pID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTy5kZWZpbmVQcm9wZXJ0eSAobWVtbywgaywge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZXQ6ICgpID0+IGFzc2lnblN0cmluZ1dyYXBwaW5nQVBJIChzdHIgPT4gd3JhcEJlZm9yZSAod3JhcCAoc3RyLCBvcGVuLCBjbG9zZSkpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0KVxuXG4vKiAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG5cbmNvbnN0IFRFWFQgICAgPSAwLFxuICAgICAgQlJBQ0tFVCA9IDEsXG4gICAgICBDT0RFICAgID0gMlxuXG5mdW5jdGlvbiByYXdQYXJzZSAocykge1xuICAgIFxuICAgIGxldCBzdGF0ZSA9IFRFWFQsIGJ1ZmZlciA9ICcnLCB0ZXh0ID0gJycsIGNvZGUgPSAnJywgY29kZXMgPSBbXVxuICAgIGxldCBzcGFucyA9IFtdXG5cbiAgICBmb3IgKGxldCBpID0gMCwgbiA9IHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG5cbiAgICAgICAgY29uc3QgYyA9IHNbaV1cblxuICAgICAgICBidWZmZXIgKz0gY1xuXG4gICAgICAgIHN3aXRjaCAoc3RhdGUpIHtcblxuICAgICAgICAgICAgY2FzZSBURVhUOlxuICAgICAgICAgICAgICAgIGlmIChjID09PSAnXFx1MDAxYicpIHsgc3RhdGUgPSBCUkFDS0VUOyBidWZmZXIgPSBjOyB9XG4gICAgICAgICAgICAgICAgZWxzZSAgICAgICAgICAgICAgICB7IHRleHQgKz0gYyB9XG4gICAgICAgICAgICAgICAgYnJlYWtcblxuICAgICAgICAgICAgY2FzZSBCUkFDS0VUOlxuICAgICAgICAgICAgICAgIGlmIChjID09PSAnWycpIHsgc3RhdGUgPSBDT0RFOyBjb2RlID0gJyc7IGNvZGVzID0gW10gfVxuICAgICAgICAgICAgICAgIGVsc2UgICAgICAgICAgIHsgc3RhdGUgPSBURVhUOyB0ZXh0ICs9IGJ1ZmZlciB9XG4gICAgICAgICAgICAgICAgYnJlYWtcblxuICAgICAgICAgICAgY2FzZSBDT0RFOlxuXG4gICAgICAgICAgICAgICAgaWYgKChjID49ICcwJykgJiYgKGMgPD0gJzknKSkgICAgICAgIHsgY29kZSArPSBjIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChjID09PSAnOycpICAgICAgICAgICAgICAgICAgeyBjb2Rlcy5wdXNoIChuZXcgQ29kZSAoY29kZSkpOyBjb2RlID0gJycgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKChjID09PSAnbScpICYmIGNvZGUubGVuZ3RoKSB7IGNvZGVzLnB1c2ggKG5ldyBDb2RlIChjb2RlKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGNvZGUgb2YgY29kZXMpIHsgc3BhbnMucHVzaCAoeyB0ZXh0LCBjb2RlIH0pOyB0ZXh0ID0gJycgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlID0gVEVYVFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgc3RhdGUgPSBURVhUOyB0ZXh0ICs9IGJ1ZmZlciB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoc3RhdGUgIT09IFRFWFQpIHRleHQgKz0gYnVmZmVyXG5cbiAgICBpZiAodGV4dCkgc3BhbnMucHVzaCAoeyB0ZXh0LCBjb2RlOiBuZXcgQ29kZSAoKSB9KVxuXG4gICAgcmV0dXJuIHNwYW5zXG59XG5cbi8qICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblxuLyoqXG4gKiBSZXByZXNlbnRzIGFuIEFOU0ktZXNjYXBlZCBzdHJpbmcuXG4gKi9cbmNsYXNzIENvbG9ycyB7XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcyBhIHN0cmluZyBjb250YWluaW5nIEFOU0kgZXNjYXBlIGNvZGVzLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yIChzKSB7XG5cbiAgICAgICAgdGhpcy5zcGFucyA9IHMgPyByYXdQYXJzZSAocykgOiBbXVxuICAgIH1cblxuICAgIGdldCBzdHIgKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zcGFucy5yZWR1Y2UgKChzdHIsIHApID0+IHN0ciArIHAudGV4dCArIHAuY29kZS5zdHIsICcnKVxuICAgIH1cblxuICAgIGdldCBwYXJzZWQgKCkge1xuXG4gICAgICAgIGxldCBjb2xvciwgYmdDb2xvciwgYnJpZ2h0bmVzcywgc3R5bGVzXG5cbiAgICAgICAgZnVuY3Rpb24gcmVzZXQgKCkge1xuXG4gICAgICAgICAgICBjb2xvciAgICAgID0gbmV3IENvbG9yICgpLFxuICAgICAgICAgICAgYmdDb2xvciAgICA9IG5ldyBDb2xvciAodHJ1ZSAvKiBiYWNrZ3JvdW5kICovKSxcbiAgICAgICAgICAgIGJyaWdodG5lc3MgPSB1bmRlZmluZWQsXG4gICAgICAgICAgICBzdHlsZXMgICAgID0gbmV3IFNldCAoKVxuICAgICAgICB9XG5cbiAgICAgICAgcmVzZXQgKClcblxuICAgICAgICByZXR1cm4gTy5hc3NpZ24gKG5ldyBDb2xvcnMgKCksIHtcblxuICAgICAgICAgICAgc3BhbnM6IHRoaXMuc3BhbnMubWFwIChzcGFuID0+IHtcblxuICAgICAgICAgICAgICAgIGNvbnN0IGMgPSBzcGFuLmNvZGVcblxuICAgICAgICAgICAgICAgIGNvbnN0IGludmVydGVkICA9IHN0eWxlcy5oYXMgKCdpbnZlcnNlJyksXG4gICAgICAgICAgICAgICAgICAgICAgdW5kZXJsaW5lID0gc3R5bGVzLmhhcyAoJ3VuZGVybGluZScpICAgPyAndGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7JyA6ICcnLCAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICBpdGFsaWMgICAgPSBzdHlsZXMuaGFzICgnaXRhbGljJykgICAgICA/ICdmb250LXN0eWxlOiBpdGFsaWM7JyA6ICcnLFxuICAgICAgICAgICAgICAgICAgICAgIGJvbGQgICAgICA9IGJyaWdodG5lc3MgPT09IENvZGUuYnJpZ2h0ID8gJ2ZvbnQtd2VpZ2h0OiBib2xkOycgOiAnJ1xuXG4gICAgICAgICAgICAgICAgY29uc3QgZm9yZUNvbG9yID0gY29sb3IuZGVmYXVsdEJyaWdodG5lc3MgKGJyaWdodG5lc3MpXG5cbiAgICAgICAgICAgICAgICBjb25zdCBzdHlsZWRTcGFuID0gTy5hc3NpZ24gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgY3NzOiBib2xkICsgaXRhbGljICsgdW5kZXJsaW5lICsgZm9yZUNvbG9yLmNzcyAoaW52ZXJ0ZWQpICsgYmdDb2xvci5jc3MgKGludmVydGVkKSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFuICh7IGJvbGQ6ICEhYm9sZCwgY29sb3I6IGZvcmVDb2xvci5jbGVhbiwgYmdDb2xvcjogYmdDb2xvci5jbGVhbiB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcGFuKVxuXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBrIG9mIHN0eWxlcykgeyBzdHlsZWRTcGFuW2tdID0gdHJ1ZSB9XG5cbiAgICAgICAgICAgICAgICBpZiAoYy5pc0JyaWdodG5lc3MpIHtcblxuICAgICAgICAgICAgICAgICAgICBicmlnaHRuZXNzID0gYy52YWx1ZVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc3Bhbi5jb2RlLnZhbHVlICE9PSB1bmRlZmluZWQpIHtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoc3Bhbi5jb2RlLnZhbHVlID09PSBDb2RlLnJlc2V0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNldCAoKVxuXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoc3Bhbi5jb2RlLnR5cGUpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2NvbG9yJyAgICAgICAgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2NvbG9yTGlnaHQnICAgOiBjb2xvciAgID0gbmV3IENvbG9yIChmYWxzZSwgYy5zdWJ0eXBlKTsgYnJlYWtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2JnQ29sb3InICAgICAgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2JnQ29sb3JMaWdodCcgOiBiZ0NvbG9yID0gbmV3IENvbG9yICh0cnVlLCAgYy5zdWJ0eXBlKTsgYnJlYWtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ3N0eWxlJyAgOiBzdHlsZXMuYWRkICAgIChjLnN1YnR5cGUpOyBicmVha1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ3Vuc3R5bGUnOiBzdHlsZXMuZGVsZXRlIChjLnN1YnR5cGUpOyBicmVha1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0eWxlZFNwYW5cblxuICAgICAgICAgICAgfSkuZmlsdGVyIChzID0+IHMudGV4dC5sZW5ndGggPiAwKVxuICAgICAgICB9KVxuICAgIH1cblxuLyogIE91dHB1dHMgd2l0aCBDaHJvbWUgRGV2VG9vbHMtY29tcGF0aWJsZSBmb3JtYXQgICAgICovXG5cbiAgICBnZXQgYXNDaHJvbWVDb25zb2xlTG9nQXJndW1lbnRzICgpIHtcblxuICAgICAgICBjb25zdCBzcGFucyA9IHRoaXMucGFyc2VkLnNwYW5zXG5cbiAgICAgICAgcmV0dXJuIFtzcGFucy5tYXAgKHMgPT4gKCclYycgKyBzLnRleHQpKS5qb2luICgnJyksXG4gICAgICAgICAgICAgLi4uc3BhbnMubWFwIChzID0+IHMuY3NzKV1cbiAgICB9XG5cbiAgICBnZXQgYnJvd3NlckNvbnNvbGVBcmd1bWVudHMgKCkgLyogTEVHQUNZLCBERVBSRUNBVEVEICovIHsgcmV0dXJuIHRoaXMuYXNDaHJvbWVDb25zb2xlTG9nQXJndW1lbnRzIH1cblxuICAgIC8qKlxuICAgICAqIEBkZXNjIGluc3RhbGxzIFN0cmluZyBwcm90b3R5cGUgZXh0ZW5zaW9uc1xuICAgICAqIEBleGFtcGxlXG4gICAgICogcmVxdWlyZSAoJ2Fuc2ljb2xvcicpLm5pY2VcbiAgICAgKiBjb25zb2xlLmxvZyAoJ2ZvbycuYnJpZ2h0LnJlZClcbiAgICAgKi9cbiAgICBzdGF0aWMgZ2V0IG5pY2UgKCkge1xuXG4gICAgICAgIENvbG9ycy5uYW1lcy5mb3JFYWNoIChrID0+IHtcbiAgICAgICAgICAgIGlmICghKGsgaW4gU3RyaW5nLnByb3RvdHlwZSkpIHtcbiAgICAgICAgICAgICAgICBPLmRlZmluZVByb3BlcnR5IChTdHJpbmcucHJvdG90eXBlLCBrLCB7IGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gQ29sb3JzW2tdICh0aGlzKSB9IH0pXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG5cbiAgICAgICAgcmV0dXJuIENvbG9yc1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBkZXNjIHBhcnNlcyBhIHN0cmluZyBjb250YWluaW5nIEFOU0kgZXNjYXBlIGNvZGVzXG4gICAgICogQHJldHVybiB7Q29sb3JzfSBwYXJzZWQgcmVwcmVzZW50YXRpb24uXG4gICAgICovXG4gICAgc3RhdGljIHBhcnNlIChzKSB7XG4gICAgICAgIHJldHVybiBuZXcgQ29sb3JzIChzKS5wYXJzZWRcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAZGVzYyBzdHJpcHMgQU5TSSBjb2RlcyBmcm9tIGEgc3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHMgYSBzdHJpbmcgY29udGFpbmluZyBBTlNJIGVzY2FwZSBjb2Rlcy5cbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IGNsZWFuIHN0cmluZy5cbiAgICAgKi9cbiAgICBzdGF0aWMgc3RyaXAgKHMpIHtcbiAgICAgICAgcmV0dXJuIHMucmVwbGFjZSAoL1tcXHUwMDFiXFx1MDA5Yl1bWygpIzs/XSooPzpbMC05XXsxLDR9KD86O1swLTldezAsNH0pKik/WzAtOUEtUFJaY2YtbnFyeT0+PF0vZywgJycpIC8vIGhvcGUgVjggY2FjaGVzIHRoZSByZWdleHBcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNvbnN0IHNwYW5zID0gWy4uLmFuc2kucGFyc2UgKCdcXHUwMDFiWzdtXFx1MDAxYls3bWZvb1xcdTAwMWJbN21iYXJcXHUwMDFiWzI3bScpXVxuICAgICAqL1xuICAgIFtTeW1ib2wuaXRlcmF0b3JdICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3BhbnNbU3ltYm9sLml0ZXJhdG9yXSAoKVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBkZXNjIFRoaXMgYWxsb3dzIGFuIGFsdGVybmF0aXZlIGltcG9ydCBzdHlsZSwgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS94cGwvYW5zaWNvbG9yL2lzc3Vlcy83I2lzc3VlY29tbWVudC01Nzg5MjM1NzhcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGltcG9ydCB7IGFuc2ljb2xvciwgUGFyc2VkU3BhbiB9IGZyb20gJ2Fuc2ljb2xvcidcbiAgICAgKi9cbiAgICBzdGF0aWMgZ2V0IGFuc2ljb2xvciAoKSB7XG4gICAgICAgIHJldHVybiBDb2xvcnNcbiAgICB9XG59XG5cbi8qICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblxuYXNzaWduU3RyaW5nV3JhcHBpbmdBUEkgKENvbG9ycywgc3RyID0+IHN0cilcblxuLyogIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXG5Db2xvcnMubmFtZXMgPSBzdHJpbmdXcmFwcGluZ01ldGhvZHMubWFwICgoW2tdKSA9PiBrKVxuXG4vKiAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG5cbkNvbG9ycy5yZ2IgPSB7XG5cbiAgICBibGFjazogICAgICAgIFswLCAgICAgMCwgICAwXSwgICAgXG4gICAgZGFya0dyYXk6ICAgICBbMTAwLCAxMDAsIDEwMF0sXG4gICAgbGlnaHRHcmF5OiAgICBbMjAwLCAyMDAsIDIwMF0sXG4gICAgd2hpdGU6ICAgICAgICBbMjU1LCAyNTUsIDI1NV0sXG5cbiAgICByZWQ6ICAgICAgICAgIFsyMDQsICAgMCwgICAwXSxcbiAgICBsaWdodFJlZDogICAgIFsyNTUsICA1MSwgICAwXSxcbiAgICBcbiAgICBncmVlbjogICAgICAgIFswLCAgIDIwNCwgICAwXSxcbiAgICBsaWdodEdyZWVuOiAgIFs1MSwgIDIwNCwgIDUxXSxcbiAgICBcbiAgICB5ZWxsb3c6ICAgICAgIFsyMDQsIDEwMiwgICAwXSxcbiAgICBsaWdodFllbGxvdzogIFsyNTUsIDE1MywgIDUxXSxcbiAgICBcbiAgICBibHVlOiAgICAgICAgIFswLCAgICAgMCwgMjU1XSxcbiAgICBsaWdodEJsdWU6ICAgIFsyNiwgIDE0MCwgMjU1XSxcbiAgICBcbiAgICBtYWdlbnRhOiAgICAgIFsyMDQsICAgMCwgMjA0XSxcbiAgICBsaWdodE1hZ2VudGE6IFsyNTUsICAgMCwgMjU1XSxcbiAgICBcbiAgICBjeWFuOiAgICAgICAgIFswLCAgIDE1MywgMjU1XSxcbiAgICBsaWdodEN5YW46ICAgIFswLCAgIDIwNCwgMjU1XSxcbn1cblxuLyogIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IENvbG9yc1xuXG4vKiAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG5cbiJdfQ==","// --- DMT DEF DUPLICATED --- start\n\nfunction constructTryer(obj) {\n  return accessor => {\n    let current = obj;\n\n    for (const nextKey of accessor.split('.')) {\n      // support square barcket syntax for matching by id inside lists, like:\n      // dmt.userDefaults().try('service[\"search\"].clientResultsPerPage')\n      const re = new RegExp(/(\\S*)\\[['\"]?(\\S*?)['\"]?\\]/);\n      const matches = nextKey.match(re);\n      if (matches) {\n        const nextDict = matches[1];\n        const _nextKey = matches[2];\n        current = listify(current[nextDict]).find(el => id(el) == _nextKey);\n      } else {\n        current = current[nextKey];\n      }\n\n      if (typeof current == 'undefined') {\n        return undefined;\n      }\n    }\n\n    return current;\n  };\n}\n\nfunction tryOnTheFly(obj, accessor) {\n  return constructTryer(obj)(accessor);\n}\n\nfunction makeTryable(obj) {\n  if (!obj) {\n    obj = {};\n  }\n\n  obj.try = constructTryer(obj);\n\n  return obj;\n}\n\nfunction id(obj) {\n  return values(obj)[0];\n}\n\nfunction values(obj) {\n  return listify(obj).map(el => el.id);\n}\n\nfunction listify(obj) {\n  if (typeof obj == 'undefined' || obj == null) {\n    return [];\n  }\n  if (Array.isArray(obj)) {\n    return obj;\n  }\n  if (typeof obj == 'string') {\n    return [{ id: obj }];\n  }\n  return [obj];\n}\n\n// --- DMT DEF DUPLICATED --- end\n\nexport default { makeTryable, tryOnTheFly, id, values, listify };\n","class CssBridge {\n  // cities/Monaco1.jpg\n  setWallpaper(wallpaperSubPath) {\n    if (!wallpaperSubPath) {\n      document.body.style.backgroundImage = '';\n    } else if (wallpaperSubPath.startsWith('/')) {\n      document.body.style.backgroundImage = `url('${wallpaperSubPath}')`;\n    }\n  }\n\n  setBodyClass(className) {\n    const body = document.getElementsByTagName('body')[0];\n    body.className = className;\n  }\n}\n\nexport default new CssBridge();\n","import def from './def';\nimport css from './cssBridge';\n\nfunction log(msg) {\n  console.log(`${new Date().toLocaleString()} â†’ ${msg}`);\n}\n\nfunction isInputElementActive() {\n  const { activeElement } = document;\n  const inputs = ['input', 'select', 'textarea']; //'button'\n\n  if (activeElement && inputs.indexOf(activeElement.tagName.toLowerCase()) !== -1) {\n    return true;\n  }\n}\n\nlog.write = log; // nodejs compatibility in connect.js\n\nfunction dir(msg) {\n  console.log(`${new Date().toLocaleString()} â†’ ${JSON.stringify(msg, null, 2)}`);\n}\n\nfunction pad(number, digits = 2) {\n  return Array(Math.max(digits - String(number).length + 1, 0)).join(0) + number;\n}\n\nfunction getDisplayTime(date) {\n  return `${pad(date.getHours())}:${pad(date.getMinutes())}`;\n}\n\nfunction unique(items) {\n  return [...new Set(items)];\n}\n\nfunction setWallpaper(wallpaper) {\n  if (wallpaper) {\n    css.setWallpaper(wallpaper);\n  } else {\n    css.setWallpaper('');\n  }\n}\n\n// source: https://www.sitepoint.com/sort-an-array-of-objects-in-javascript/\n// usage:\n// array is sorted by band, in ascending order by default\n// singers.sort(compareValues('band'));\n// array is sorted by band in descending order\n// singers.sort(compareValues('band', 'desc'));\n// array is sorted by name in ascending order\n// singers.sort(compareValues('name'));\nfunction compareValues(key, order = 'asc') {\n  return function innerSort(a, b) {\n    if (!a.hasOwnProperty(key) || !b.hasOwnProperty(key)) {\n      // property doesn't exist on either object\n      return 0;\n    }\n\n    const varA = typeof a[key] === 'string' ? a[key].toUpperCase() : a[key];\n    const varB = typeof b[key] === 'string' ? b[key].toUpperCase() : b[key];\n\n    let comparison = 0;\n    if (varA > varB) {\n      comparison = 1;\n    } else if (varA < varB) {\n      comparison = -1;\n    }\n    return order === 'desc' ? comparison * -1 : comparison;\n  };\n}\n\nfunction mapTempToHUE(temp) {\n  const percent = 50 - temp;\n  //console.log(Math.round((360 * percent) / 100.0)); // original formula, too simple, adjusted is much better (nicer colors for each temperature)\n  return Math.round((270 * percent) / 100.0 + (temp < -10 ? 65 : temp > 20 ? 35 : 60)); // 100 + X is a rotation of the wheel, we could do it 50 fixed for example but it was determined to be even better if this varies for certain temperature ranges...\n}\n\nfunction accessProperty(obj, acc) {\n  return def.tryOnTheFly(obj, acc);\n}\n\nfunction msIntoTimeSpan(timeInMs, index = 0, result = {}) {\n  const times = ['day', 'h', 'min', 's'];\n  const arr = [24, 60, 60, 1000];\n\n  if (index == times.length) {\n    result['ms'] = timeInMs;\n    return result;\n  }\n\n  if (index == 0) {\n    result.totalSeconds = timeInMs / 1000.0;\n  }\n\n  const n = arr.slice(index).reduce((total, num) => total * num, 1);\n  result[times[index]] = Math.floor(timeInMs / n);\n\n  return msIntoTimeSpan(timeInMs % n, index + 1, result);\n}\n\nfunction humanTime(ts) {\n  const times = ['day', 'h', 'min', 's'];\n  let str = '';\n\n  for (const t of times) {\n    if (ts[t] > 0) {\n      if (t != 's' || (t == 's' && ts.totalSeconds < 60)) {\n        // show seconds only if time is under a minute\n        str = `${str} ${ts[t]} ${t}`;\n      }\n    }\n  }\n\n  return str.trim();\n}\n\nfunction songTime(s) {\n  s = Math.round(s);\n  const hours = Math.floor(s / 3600);\n  const rem = s % 3600;\n  const min = Math.floor(rem / 60);\n  s = rem % 60;\n\n  return hours ? `${hours}h ${pad(min)}min ${pad(s)}s` : `${min}:${pad(s)}`;\n}\n\nfunction colorJSON(json) {\n  if (typeof json != 'string') {\n    json = JSON.stringify(json, undefined, 2);\n  }\n  json = json\n    .replace(/&/g, '&amp;')\n    .replace(/</g, '&lt;')\n    .replace(/>/g, '&gt;');\n  return json.replace(/(\"(\\\\u[a-zA-Z0-9]{4}|\\\\[^u]|[^\\\\\"])*\"(\\s*:)?|\\b(true|false|null)\\b|-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?)/g, function(match) {\n    var cls = 'number';\n    var color = 'yellow';\n    if (/^\"/.test(match)) {\n      if (/:$/.test(match)) {\n        cls = 'key';\n        color = 'cyan';\n      } else {\n        cls = 'string';\n        color = '#66F62A';\n      }\n    } else if (/true|false/.test(match)) {\n      cls = 'boolean';\n      color = 'orange';\n    } else if (/null/.test(match)) {\n      cls = 'null';\n      color = 'red';\n    }\n    //return {cls, text: match};\n    return `<span style=\"color: ${color}\" class=\"${cls}\">${match}</span>`;\n  });\n}\n\n// Uint8Array to string in Javascript\n// https://stackoverflow.com/a/22373197\nfunction Utf8ArrayToStr(array) {\n  let out;\n  let i;\n  let c;\n  let char2;\n  let char3;\n\n  out = '';\n\n  const len = array.length;\n\n  i = 0;\n\n  while (i < len) {\n    c = array[i++];\n\n    switch (c >> 4) {\n      case 0:\n      case 1:\n      case 2:\n      case 3:\n      case 4:\n      case 5:\n      case 6:\n      case 7:\n        // 0xxxxxxx\n        out += String.fromCharCode(c);\n        break;\n      case 12:\n      case 13:\n        // 110x xxxx   10xx xxxx\n        char2 = array[i++];\n        out += String.fromCharCode(((c & 0x1f) << 6) | (char2 & 0x3f));\n        break;\n      case 14:\n        // 1110 xxxx  10xx xxxx  10xx xxxx\n        char2 = array[i++];\n        char3 = array[i++];\n        out += String.fromCharCode(((c & 0x0f) << 12) | ((char2 & 0x3f) << 6) | ((char3 & 0x3f) << 0));\n        break;\n      default:\n        break;\n    }\n  }\n\n  return out;\n}\n\nfunction listify(obj) {\n  if (typeof obj == 'undefined' || obj == null) {\n    return [];\n  }\n  return Array.isArray(obj) ? obj : [obj];\n}\n\nfunction bufferToHex(buffer) {\n  return Array.from(new Uint8Array(buffer))\n    .map(b => b.toString(16).padStart(2, '0'))\n    .join('');\n}\n\nfunction hexToBuffer(hex) {\n  const tokens = hex.match(/.{1,2}(?=(.{2})+(?!.))|.{1,2}$/g); // split by two, https://blog.abelotech.com/posts/split-string-tokens-defined-length-javascript/\n  return new Uint8Array(tokens.map(token => parseInt(token, 16)));\n}\n\nfunction getAllFuncs(obj) {\n  return Object.getOwnPropertyNames(obj.prototype).filter(prop => prop != 'constructor' && typeof obj.prototype[prop] == 'function');\n}\n\n// like this: https://stackoverflow.com/a/62142995/458177 -- but iterating over functions didn't work\nfunction includeModule(obj, Module) {\n  const module = new Module();\n\n  for (const func of getAllFuncs(Module)) {\n    obj[func] = module[func]; //.bind(obj);\n  }\n}\n\nexport default {\n  log,\n  dir,\n  pad,\n  getDisplayTime,\n  unique,\n  setWallpaper,\n  compareValues,\n  accessProperty,\n  mapTempToHUE,\n  msIntoTimeSpan,\n  humanTime,\n  songTime,\n  colorJSON,\n  Utf8ArrayToStr,\n  isInputElementActive,\n  listify,\n  bufferToHex,\n  hexToBuffer,\n  includeModule\n};\n","function noop() {}\n\nclass RunnableLink {\n  constructor(prev, next, fn) {\n    this.prev = prev;\n    this.next = next;\n    this.fn = fn || noop;\n  }\n\n  run(data) {\n    this.fn(data);\n    this.next && this.next.run(data);\n  }\n}\n\nexport default RunnableLink;\n","import RunnableLink from './runnableLink';\n\n// A relatively generic LinkedList impl\nclass LinkedList {\n  constructor(linkConstructor) {\n    this.head = new RunnableLink();\n    this.tail = new RunnableLink(this.head);\n    this.head.next = this.tail;\n    this.linkConstructor = linkConstructor;\n    this.reg = {};\n  }\n\n  insert(data) {\n    const link = new RunnableLink(this.tail.prev, this.tail, data);\n    link.next.prev = link;\n    link.prev.next = link;\n    return link;\n  }\n\n  remove(link) {\n    link.prev.next = link.next;\n    link.next.prev = link.prev;\n  }\n}\n\nexport default LinkedList;\n","import LinkedList from './linkedList';\n\nlet id = 0;\nconst splitter = /[\\s,]+/g;\n\n// A link in the linked list which allows\n// for efficient execution of the callbacks\n\nclass Eev {\n  constructor() {\n    this.events = {};\n  }\n\n  on(names, fn) {\n    const me = this;\n\n    names.split(splitter).forEach(name => {\n      const list = me.events[name] || (me.events[name] = new LinkedList());\n      const eev = fn._eev || (fn._eev = ++id);\n\n      list.reg[eev] || (list.reg[eev] = list.insert(fn));\n    });\n  }\n\n  off(names, fn) {\n    const me = this;\n    fn &&\n      names.split(splitter).forEach(function(name) {\n        const list = me.events[name];\n\n        if (!list) {\n          return;\n        }\n\n        const link = list.reg[fn._eev];\n\n        list.reg[fn._eev] = undefined;\n\n        list && link && list.remove(link);\n      });\n  }\n\n  removeListener(...args) {\n    this.off(...args);\n  }\n\n  emit(name, data) {\n    const evt = this.events[name];\n    evt && evt.head.run(data);\n  }\n}\n\nexport default Eev;\n","function wrap(text, color) {\n  return `<span style=\"color: ${color};\">${text}</span>`;\n}\n\nfunction white(text) {\n  return wrap(text, 'white');\n}\n\nfunction red(text) {\n  return wrap(text, '#E34042');\n}\n\nfunction green(text) {\n  return wrap(text, '#5FE02A');\n}\n\nfunction gray(text) {\n  return wrap(text, '#C3C6C6');\n}\n\nfunction yellow(text) {\n  return wrap(text, '#E5AE34');\n}\n\nfunction cyan(text) {\n  return wrap(text, '#29B3BF');\n}\n\nfunction magenta(text) {\n  return wrap(text, '#A144E9');\n}\n\nexport default { white, red, green, gray, yellow, cyan, magenta };\n","// Running on the page, in the browser\n// This API will go live in early 2020\n// It will be the only API available after a 6-week deprecation period\n\nfunction metaMaskInstalled() {\n  return typeof ethereum != 'undefined' && ethereum.isMetaMask;\n}\n\nfunction getFirstAccount(accounts) {\n  if (accounts.length > 0) {\n    // console.log(`Accounts:`);\n    // console.log(accounts);\n    return accounts[0];\n  }\n}\n\n/***********************************/\n/* Handle connecting, per EIP 1102 */\n/***********************************/\n\n// You should only attempt to connect in response to user interaction,\n// such as a button click. Otherwise, you're popup-spamming the user\n// like it's 1999.\n// If you can't retrieve the user's account(s), you should encourage the user\n// to initiate a connection attempt.\n//document.getElementById('connectButton', connect)\n\nfunction metamaskConnectWrapper(accountChangedCallback) {\n  const connect = () => {\n    return new Promise((success, reject) => {\n      metamaskConnect()\n        .then(accounts => {\n          const acc = getFirstAccount(accounts);\n          // not sure why does this happen and we ged undefined acc but it seems to happen ...\n          // not sure what will we see in the interface now (logins still successful ?)\n          if (acc) {\n            accountChangedCallback(acc);\n          } else {\n            console.log('WARNING: received this from eth_requestAccounts, could not parse out a single account:');\n            console.log(accounts);\n            console.log('--------------------');\n          }\n        })\n        .catch(reject);\n    });\n  };\n\n  return connect;\n}\n\nfunction metamaskConnect() {\n  return new Promise((success, reject) => {\n    if (metaMaskInstalled()) {\n      // This is equivalent to ethereum.enable()\n      ethereum\n        .send('eth_requestAccounts')\n        .then(rpcResult => {\n          success(rpcResult.result);\n        })\n        .catch(err => {\n          if (err.code === 4001) {\n            // EIP 1193 userRejectedRequest error\n            reject(new Error('Please connect to MetaMask.'));\n          } else {\n            reject(err);\n          }\n        });\n    } else {\n      reject(new Error('Metamask not installed! Why was the connect button shown ?'));\n    }\n  });\n}\n\n// HACK --> REMOVE SOON, NOT ALWAYS WORKING\nconst MAX_RETRIES = 20;\n\nfunction metamaskInit(accountChangedCallback = () => {}, { retryCount = MAX_RETRIES } = {}) {\n  const retryInterval = 100; // 10 x 100ms = 1s ! more than enough for metamask to do it's magic!\n\n  const first = retryCount == MAX_RETRIES;\n\n  if (metaMaskInstalled()) {\n    // 1) initial account detection on page load\n    // recurse every 100ms max 10 times to see if ethereum address is known to us\n    // UPS: We strongly discourage the use of this property, which may be removed in the future.\n    // Ask developers: how to make sure ethereum.on('accountsChanged', handleAccountsChanged);\n    // is cought early ... where to attach listener?? then we don't have to use this polling trick\n    if (ethereum.selectedAddress) {\n      console.log(`Success at ${MAX_RETRIES - retryCount}`);\n      accountChangedCallback(ethereum.selectedAddress);\n    } else if (retryCount > 0) {\n      setTimeout(() => metamaskInit(accountChangedCallback, { retryCount: retryCount - 1 }), retryInterval);\n    }\n\n    if (first) {\n      // initial function run\n      // 2) attach handler for all future changes which are not related to manual user action (connect)\n      // SPECIAL COMMENT:\n      // // Note that this event is emitted on page load.\n      // If the array of accounts is non-empty, you're already\n      // connected.\n      //\n      // BUT we decide not to try catch initial event\n      //   ethereum.on('accountsChanged', handleAccountsChanged);\n      // because it's not reliable, we sometimes fail to attach this before it's fired..\n      // we could do it in index.html but it would be ugly! We just use initial and effective \"polling\" (recurse this function)\n      ethereum.on('accountsChanged', accounts => {\n        // it seems that if not connected we still get this event but with empty value... we don't pass empty value on, dont have to call our handler because empty account is assumed initially outside of this script anyway\n        const acc = getFirstAccount(accounts);\n        if (acc) {\n          accountChangedCallback(acc);\n        }\n      });\n    }\n\n    //console.log('METAMASK INSTALLED');\n\n    // For now, 'eth_accounts' will continue to always return an array\n    //ethereum.on('accountsChanged', handleAccountsChanged);\n  } else {\n    console.log('METAMASK INIT FAILED: not installed');\n    return false;\n  }\n\n  // 3) handle user action (first account connect)\n  return metamaskConnectWrapper(accountChangedCallback);\n}\n\n// if (metaMaskInstalled()) {\n//   // Note that this event is emitted on page load.\n//   // If the array of accounts is non-empty, you're already\n//   // connected.\n//   // For now, 'eth_accounts' will continue to always return an array\n//   console.log('ATTACHED HANDLER');\n//   ethereum.on('accountsChanged', handleAccountsChanged);\n// }\n\n/*********************************************************/\n/* Handle chain (network) and chainChanged, per EIP 1193 */\n/*********************************************************/\n\n// let currentChainId = null;\n// ethereum\n//   .send('eth_chainId')\n//   .then(handleChainChanged)\n//   .catch(err => console.error(err)); // This should never happen\n\n// ethereum.on('chainChanged', handleChainChanged);\n\n// function handleChainChanged(chainId) {\n//   // console.log(`Eth chain id:`);\n//   // console.log(chainId);\n//   if (currentChainId !== chainId) {\n//     currentChainId = chainId;\n//     // Run any other necessary logic...\n//   }\n// }\n\n// /**********************************************************/\n// /* Handle user accounts and accountsChanged, per EIP 1193 */\n// ********************************************************\n\n// let currentAccount = null;\n// ethereum\n//   .send('eth_accounts')\n//   .then(handleAccountsChanged)\n//   .catch(err => {\n//     // In the future, maybe in 2020, this will return a 4100 error if\n//     // the user has yet to connect\n//     if (err.code === 4100) {\n//       // EIP 1193 unauthorized error\n//       console.log('Please connect to MetaMask.');\n//     } else {\n//       console.error(err);\n//     }\n//   });\n\nexport { metamaskInit };\n","function queryDifferentEnough({ searchQuery, prevQuery, searchMode, prevSearchMode }) {\n  return normalizeQuery(searchQuery) != normalizeQuery(prevQuery) || searchMode != prevSearchMode;\n}\n\nfunction normalizeQuery(query) {\n  return query ? query.trim().replace(/\\s+/g, ' ') : query;\n}\n\nlet prevQuery = '';\nlet prevSearchMode;\nlet executeQueryTimeout;\nconst timeTags = []; // we can keep this growing (for now ?)  probably forever, todo: OPTIMIZE LATER and be careful when reassigning this array, learn more about event loops!\n\nconst SEARCH_LAG_MS = 300; // 300 -- best value ->> if user presses the next key within this much from the last one, previous search query is cancelled\n\nfunction executeSearch({\n  searchQuery,\n  searchMode,\n  remoteObject,\n  remoteMethod,\n  searchStatusCallback = () => {},\n  searchDelay = SEARCH_LAG_MS,\n  force,\n  searchMetadata\n}) {\n  return new Promise((success, reject) => {\n    if (searchQuery.trim() == '') {\n      timeTags.push(Date.now());\n\n      if (prevQuery != '' || force) {\n        clearTimeout(executeQueryTimeout);\n        searchStatusCallback({ searching: false });\n\n        if (force) {\n          success(null); // don't ask :) okk... we need to have a way to initially show something based on if there were ever results... force is only\n        } else {\n          success([]); // empty result set\n        }\n      }\n\n      prevQuery = searchQuery;\n      prevSearchMode = searchMode;\n\n      return;\n    }\n\n    try {\n      // console.log('prevQuery:');\n      // console.log(prevQuery);\n      // console.log(`force: ${force}`);\n\n      if (force || queryDifferentEnough({ searchQuery, prevQuery, searchMode, prevSearchMode })) {\n        clearTimeout(executeQueryTimeout);\n\n        searchStatusCallback({ searching: true });\n        // if we called this from inside a timeout, there would be a gui lag. Now we report that we are searching even before we fire off search (while we wait for possible next user input)\n\n        prevQuery = searchQuery;\n        prevSearchMode = searchMode;\n\n        executeQueryTimeout = setTimeout(() => {\n          const timeTag = Date.now();\n          timeTags.push(timeTag);\n\n          console.log(`Search executed on remote object: ${searchQuery}`);\n\n          // const searchOriginHost = window.location.host;\n          // Object.assign(searchMetadata, { searchOriginHost });\n\n          remoteObject\n            .call(remoteMethod, { query: normalizeQuery(searchQuery), searchMode, searchMetadata })\n            .then(searchResults => {\n              // console.log(`Search with timeTag ${timeTag} just returned ...`);\n\n              const lastTimeTag = timeTags[timeTags.length - 1];\n\n              if (timeTag == lastTimeTag) {\n                const noHits = searchResults.filter(response => response.error || response.results.length == 0).length == searchResults.length;\n\n                searchStatusCallback({ searching: false, noHits }); // searchResults && searchResults.length == 0 -- todo: fix this since we now return aggregate results\n                success(searchResults);\n              } else {\n                console.log('Discarding search result which came out of order because a more recent result is due ...');\n                // keep the promise pending --> does not matter in frontend ... nodejs would keep a reference count ..\n                // we only use this lib on GUI!\n              }\n              // timeTags.reduce((prevTimeTag, timeTag) => {\n              //   if (prevTimeTag != null) {\n              //     if (prevTimeTag > timeTag) {\n              //       console.log(`Problem!! Results for ${normalizeQuery(searchQuery)} came back out of order ${prevTimeTag} > ${timeTag}`);\n              //     }\n              //   }\n              //   return timeTag;\n              // }, null);\n            })\n            .catch(e => {\n              searchStatusCallback({ searching: false });\n\n              console.log('executeSearch ERROR:');\n              console.log(e);\n\n              reject(e);\n            });\n        }, searchDelay);\n      }\n    } catch (e) {\n      console.log('This error should not happen: bug in dmt-js');\n      searchStatusCallback({ searching: false });\n      reject(e);\n    }\n  });\n}\n\nexport default executeSearch;\n","'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nfunction noop() {}\n\nclass RunnableLink {\n  constructor(prev, next, fn) {\n    this.prev = prev;\n    this.next = next;\n    this.fn = fn || noop;\n  }\n\n  run(data) {\n    this.fn(data);\n    this.next && this.next.run(data);\n  }\n}\n\nclass LinkedList {\n  constructor(linkConstructor) {\n    this.head = new RunnableLink();\n    this.tail = new RunnableLink(this.head);\n    this.head.next = this.tail;\n    this.linkConstructor = linkConstructor;\n    this.reg = {};\n  }\n\n  insert(data) {\n    const link = new RunnableLink(this.tail.prev, this.tail, data);\n    link.next.prev = link;\n    link.prev.next = link;\n    return link;\n  }\n\n  remove(link) {\n    link.prev.next = link.next;\n    link.next.prev = link.prev;\n  }\n}\n\nlet id = 0;\nconst splitter = /[\\s,]+/g;\n\nclass Eev {\n  constructor() {\n    this.__events_list = {};\n  }\n\n  on(names, fn) {\n    names.split(splitter).forEach(name => {\n      const list = this.__events_list[name] || (this.__events_list[name] = new LinkedList());\n      const eev = fn._eev || (fn._eev = ++id);\n\n      list.reg[eev] || (list.reg[eev] = list.insert(fn));\n    });\n  }\n\n  off(names, fn) {\n    fn &&\n      names.split(splitter).forEach(name => {\n        const list = this.__events_list[name];\n\n        if (!list) {\n          return;\n        }\n\n        const link = list.reg[fn._eev];\n\n        list.reg[fn._eev] = undefined;\n\n        list && link && list.remove(link);\n      });\n  }\n\n  removeListener(...args) {\n    this.off(...args);\n  }\n\n  emit(name, data) {\n    const evt = this.__events_list[name];\n    evt && evt.head.run(data);\n  }\n}\n\nfunction log(msg) {\n  console.log(`${new Date().toLocaleString()} â†’ ${msg}`);\n}\n\nfunction listify(obj) {\n  if (typeof obj == 'undefined' || obj == null) {\n    return [];\n  }\n  return Array.isArray(obj) ? obj : [obj];\n}\n\nfunction bufferToHex(buffer) {\n  return Array.from(new Uint8Array(buffer))\n    .map((b) => b.toString(16).padStart(2, '0'))\n    .join('');\n}\n\nfunction hexToBuffer(hex) {\n  const tokens = hex.match(/.{1,2}(?=(.{2})+(?!.))|.{1,2}$/g);\n  return new Uint8Array(tokens.map((token) => parseInt(token, 16)));\n}\n\nfunction integerToByteArray(long, arrayLen = 8) {\n  const byteArray = new Array(arrayLen).fill(0);\n\n  for (let index = 0; index < byteArray.length; index++) {\n    const byte = long & 0xff;\n    byteArray[index] = byte;\n    long = (long - byte) / 256;\n  }\n\n  return byteArray;\n}\n\nvar commonjsGlobal = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\n\nfunction createCommonjsModule(fn, basedir, module) {\n\treturn module = {\n\t\tpath: basedir,\n\t\texports: {},\n\t\trequire: function (path, base) {\n\t\t\treturn commonjsRequire(path, (base === undefined || base === null) ? module.path : base);\n\t\t}\n\t}, fn(module, module.exports), module.exports;\n}\n\nfunction getAugmentedNamespace(n) {\n\tif (n.__esModule) return n;\n\tvar a = Object.defineProperty({}, '__esModule', {value: true});\n\tObject.keys(n).forEach(function (k) {\n\t\tvar d = Object.getOwnPropertyDescriptor(n, k);\n\t\tObject.defineProperty(a, k, d.get ? d : {\n\t\t\tenumerable: true,\n\t\t\tget: function () {\n\t\t\t\treturn n[k];\n\t\t\t}\n\t\t});\n\t});\n\treturn a;\n}\n\nfunction commonjsRequire () {\n\tthrow new Error('Dynamic requires are not currently supported by @rollup/plugin-commonjs');\n}\n\nvar _nodeResolve_empty = {};\n\nvar _nodeResolve_empty$1 = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  'default': _nodeResolve_empty\n});\n\nvar require$$0 = /*@__PURE__*/getAugmentedNamespace(_nodeResolve_empty$1);\n\nvar naclFast = createCommonjsModule(function (module) {\n(function(nacl) {\n\n// Ported in 2014 by Dmitry Chestnykh and Devi Mandiri.\n// Public domain.\n//\n// Implementation derived from TweetNaCl version 20140427.\n// See for details: http://tweetnacl.cr.yp.to/\n\nvar gf = function(init) {\n  var i, r = new Float64Array(16);\n  if (init) for (i = 0; i < init.length; i++) r[i] = init[i];\n  return r;\n};\n\n//  Pluggable, initialized in high-level API below.\nvar randombytes = function(/* x, n */) { throw new Error('no PRNG'); };\n\nvar _0 = new Uint8Array(16);\nvar _9 = new Uint8Array(32); _9[0] = 9;\n\nvar gf0 = gf(),\n    gf1 = gf([1]),\n    _121665 = gf([0xdb41, 1]),\n    D = gf([0x78a3, 0x1359, 0x4dca, 0x75eb, 0xd8ab, 0x4141, 0x0a4d, 0x0070, 0xe898, 0x7779, 0x4079, 0x8cc7, 0xfe73, 0x2b6f, 0x6cee, 0x5203]),\n    D2 = gf([0xf159, 0x26b2, 0x9b94, 0xebd6, 0xb156, 0x8283, 0x149a, 0x00e0, 0xd130, 0xeef3, 0x80f2, 0x198e, 0xfce7, 0x56df, 0xd9dc, 0x2406]),\n    X = gf([0xd51a, 0x8f25, 0x2d60, 0xc956, 0xa7b2, 0x9525, 0xc760, 0x692c, 0xdc5c, 0xfdd6, 0xe231, 0xc0a4, 0x53fe, 0xcd6e, 0x36d3, 0x2169]),\n    Y = gf([0x6658, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666]),\n    I = gf([0xa0b0, 0x4a0e, 0x1b27, 0xc4ee, 0xe478, 0xad2f, 0x1806, 0x2f43, 0xd7a7, 0x3dfb, 0x0099, 0x2b4d, 0xdf0b, 0x4fc1, 0x2480, 0x2b83]);\n\nfunction ts64(x, i, h, l) {\n  x[i]   = (h >> 24) & 0xff;\n  x[i+1] = (h >> 16) & 0xff;\n  x[i+2] = (h >>  8) & 0xff;\n  x[i+3] = h & 0xff;\n  x[i+4] = (l >> 24)  & 0xff;\n  x[i+5] = (l >> 16)  & 0xff;\n  x[i+6] = (l >>  8)  & 0xff;\n  x[i+7] = l & 0xff;\n}\n\nfunction vn(x, xi, y, yi, n) {\n  var i,d = 0;\n  for (i = 0; i < n; i++) d |= x[xi+i]^y[yi+i];\n  return (1 & ((d - 1) >>> 8)) - 1;\n}\n\nfunction crypto_verify_16(x, xi, y, yi) {\n  return vn(x,xi,y,yi,16);\n}\n\nfunction crypto_verify_32(x, xi, y, yi) {\n  return vn(x,xi,y,yi,32);\n}\n\nfunction core_salsa20(o, p, k, c) {\n  var j0  = c[ 0] & 0xff | (c[ 1] & 0xff)<<8 | (c[ 2] & 0xff)<<16 | (c[ 3] & 0xff)<<24,\n      j1  = k[ 0] & 0xff | (k[ 1] & 0xff)<<8 | (k[ 2] & 0xff)<<16 | (k[ 3] & 0xff)<<24,\n      j2  = k[ 4] & 0xff | (k[ 5] & 0xff)<<8 | (k[ 6] & 0xff)<<16 | (k[ 7] & 0xff)<<24,\n      j3  = k[ 8] & 0xff | (k[ 9] & 0xff)<<8 | (k[10] & 0xff)<<16 | (k[11] & 0xff)<<24,\n      j4  = k[12] & 0xff | (k[13] & 0xff)<<8 | (k[14] & 0xff)<<16 | (k[15] & 0xff)<<24,\n      j5  = c[ 4] & 0xff | (c[ 5] & 0xff)<<8 | (c[ 6] & 0xff)<<16 | (c[ 7] & 0xff)<<24,\n      j6  = p[ 0] & 0xff | (p[ 1] & 0xff)<<8 | (p[ 2] & 0xff)<<16 | (p[ 3] & 0xff)<<24,\n      j7  = p[ 4] & 0xff | (p[ 5] & 0xff)<<8 | (p[ 6] & 0xff)<<16 | (p[ 7] & 0xff)<<24,\n      j8  = p[ 8] & 0xff | (p[ 9] & 0xff)<<8 | (p[10] & 0xff)<<16 | (p[11] & 0xff)<<24,\n      j9  = p[12] & 0xff | (p[13] & 0xff)<<8 | (p[14] & 0xff)<<16 | (p[15] & 0xff)<<24,\n      j10 = c[ 8] & 0xff | (c[ 9] & 0xff)<<8 | (c[10] & 0xff)<<16 | (c[11] & 0xff)<<24,\n      j11 = k[16] & 0xff | (k[17] & 0xff)<<8 | (k[18] & 0xff)<<16 | (k[19] & 0xff)<<24,\n      j12 = k[20] & 0xff | (k[21] & 0xff)<<8 | (k[22] & 0xff)<<16 | (k[23] & 0xff)<<24,\n      j13 = k[24] & 0xff | (k[25] & 0xff)<<8 | (k[26] & 0xff)<<16 | (k[27] & 0xff)<<24,\n      j14 = k[28] & 0xff | (k[29] & 0xff)<<8 | (k[30] & 0xff)<<16 | (k[31] & 0xff)<<24,\n      j15 = c[12] & 0xff | (c[13] & 0xff)<<8 | (c[14] & 0xff)<<16 | (c[15] & 0xff)<<24;\n\n  var x0 = j0, x1 = j1, x2 = j2, x3 = j3, x4 = j4, x5 = j5, x6 = j6, x7 = j7,\n      x8 = j8, x9 = j9, x10 = j10, x11 = j11, x12 = j12, x13 = j13, x14 = j14,\n      x15 = j15, u;\n\n  for (var i = 0; i < 20; i += 2) {\n    u = x0 + x12 | 0;\n    x4 ^= u<<7 | u>>>(32-7);\n    u = x4 + x0 | 0;\n    x8 ^= u<<9 | u>>>(32-9);\n    u = x8 + x4 | 0;\n    x12 ^= u<<13 | u>>>(32-13);\n    u = x12 + x8 | 0;\n    x0 ^= u<<18 | u>>>(32-18);\n\n    u = x5 + x1 | 0;\n    x9 ^= u<<7 | u>>>(32-7);\n    u = x9 + x5 | 0;\n    x13 ^= u<<9 | u>>>(32-9);\n    u = x13 + x9 | 0;\n    x1 ^= u<<13 | u>>>(32-13);\n    u = x1 + x13 | 0;\n    x5 ^= u<<18 | u>>>(32-18);\n\n    u = x10 + x6 | 0;\n    x14 ^= u<<7 | u>>>(32-7);\n    u = x14 + x10 | 0;\n    x2 ^= u<<9 | u>>>(32-9);\n    u = x2 + x14 | 0;\n    x6 ^= u<<13 | u>>>(32-13);\n    u = x6 + x2 | 0;\n    x10 ^= u<<18 | u>>>(32-18);\n\n    u = x15 + x11 | 0;\n    x3 ^= u<<7 | u>>>(32-7);\n    u = x3 + x15 | 0;\n    x7 ^= u<<9 | u>>>(32-9);\n    u = x7 + x3 | 0;\n    x11 ^= u<<13 | u>>>(32-13);\n    u = x11 + x7 | 0;\n    x15 ^= u<<18 | u>>>(32-18);\n\n    u = x0 + x3 | 0;\n    x1 ^= u<<7 | u>>>(32-7);\n    u = x1 + x0 | 0;\n    x2 ^= u<<9 | u>>>(32-9);\n    u = x2 + x1 | 0;\n    x3 ^= u<<13 | u>>>(32-13);\n    u = x3 + x2 | 0;\n    x0 ^= u<<18 | u>>>(32-18);\n\n    u = x5 + x4 | 0;\n    x6 ^= u<<7 | u>>>(32-7);\n    u = x6 + x5 | 0;\n    x7 ^= u<<9 | u>>>(32-9);\n    u = x7 + x6 | 0;\n    x4 ^= u<<13 | u>>>(32-13);\n    u = x4 + x7 | 0;\n    x5 ^= u<<18 | u>>>(32-18);\n\n    u = x10 + x9 | 0;\n    x11 ^= u<<7 | u>>>(32-7);\n    u = x11 + x10 | 0;\n    x8 ^= u<<9 | u>>>(32-9);\n    u = x8 + x11 | 0;\n    x9 ^= u<<13 | u>>>(32-13);\n    u = x9 + x8 | 0;\n    x10 ^= u<<18 | u>>>(32-18);\n\n    u = x15 + x14 | 0;\n    x12 ^= u<<7 | u>>>(32-7);\n    u = x12 + x15 | 0;\n    x13 ^= u<<9 | u>>>(32-9);\n    u = x13 + x12 | 0;\n    x14 ^= u<<13 | u>>>(32-13);\n    u = x14 + x13 | 0;\n    x15 ^= u<<18 | u>>>(32-18);\n  }\n   x0 =  x0 +  j0 | 0;\n   x1 =  x1 +  j1 | 0;\n   x2 =  x2 +  j2 | 0;\n   x3 =  x3 +  j3 | 0;\n   x4 =  x4 +  j4 | 0;\n   x5 =  x5 +  j5 | 0;\n   x6 =  x6 +  j6 | 0;\n   x7 =  x7 +  j7 | 0;\n   x8 =  x8 +  j8 | 0;\n   x9 =  x9 +  j9 | 0;\n  x10 = x10 + j10 | 0;\n  x11 = x11 + j11 | 0;\n  x12 = x12 + j12 | 0;\n  x13 = x13 + j13 | 0;\n  x14 = x14 + j14 | 0;\n  x15 = x15 + j15 | 0;\n\n  o[ 0] = x0 >>>  0 & 0xff;\n  o[ 1] = x0 >>>  8 & 0xff;\n  o[ 2] = x0 >>> 16 & 0xff;\n  o[ 3] = x0 >>> 24 & 0xff;\n\n  o[ 4] = x1 >>>  0 & 0xff;\n  o[ 5] = x1 >>>  8 & 0xff;\n  o[ 6] = x1 >>> 16 & 0xff;\n  o[ 7] = x1 >>> 24 & 0xff;\n\n  o[ 8] = x2 >>>  0 & 0xff;\n  o[ 9] = x2 >>>  8 & 0xff;\n  o[10] = x2 >>> 16 & 0xff;\n  o[11] = x2 >>> 24 & 0xff;\n\n  o[12] = x3 >>>  0 & 0xff;\n  o[13] = x3 >>>  8 & 0xff;\n  o[14] = x3 >>> 16 & 0xff;\n  o[15] = x3 >>> 24 & 0xff;\n\n  o[16] = x4 >>>  0 & 0xff;\n  o[17] = x4 >>>  8 & 0xff;\n  o[18] = x4 >>> 16 & 0xff;\n  o[19] = x4 >>> 24 & 0xff;\n\n  o[20] = x5 >>>  0 & 0xff;\n  o[21] = x5 >>>  8 & 0xff;\n  o[22] = x5 >>> 16 & 0xff;\n  o[23] = x5 >>> 24 & 0xff;\n\n  o[24] = x6 >>>  0 & 0xff;\n  o[25] = x6 >>>  8 & 0xff;\n  o[26] = x6 >>> 16 & 0xff;\n  o[27] = x6 >>> 24 & 0xff;\n\n  o[28] = x7 >>>  0 & 0xff;\n  o[29] = x7 >>>  8 & 0xff;\n  o[30] = x7 >>> 16 & 0xff;\n  o[31] = x7 >>> 24 & 0xff;\n\n  o[32] = x8 >>>  0 & 0xff;\n  o[33] = x8 >>>  8 & 0xff;\n  o[34] = x8 >>> 16 & 0xff;\n  o[35] = x8 >>> 24 & 0xff;\n\n  o[36] = x9 >>>  0 & 0xff;\n  o[37] = x9 >>>  8 & 0xff;\n  o[38] = x9 >>> 16 & 0xff;\n  o[39] = x9 >>> 24 & 0xff;\n\n  o[40] = x10 >>>  0 & 0xff;\n  o[41] = x10 >>>  8 & 0xff;\n  o[42] = x10 >>> 16 & 0xff;\n  o[43] = x10 >>> 24 & 0xff;\n\n  o[44] = x11 >>>  0 & 0xff;\n  o[45] = x11 >>>  8 & 0xff;\n  o[46] = x11 >>> 16 & 0xff;\n  o[47] = x11 >>> 24 & 0xff;\n\n  o[48] = x12 >>>  0 & 0xff;\n  o[49] = x12 >>>  8 & 0xff;\n  o[50] = x12 >>> 16 & 0xff;\n  o[51] = x12 >>> 24 & 0xff;\n\n  o[52] = x13 >>>  0 & 0xff;\n  o[53] = x13 >>>  8 & 0xff;\n  o[54] = x13 >>> 16 & 0xff;\n  o[55] = x13 >>> 24 & 0xff;\n\n  o[56] = x14 >>>  0 & 0xff;\n  o[57] = x14 >>>  8 & 0xff;\n  o[58] = x14 >>> 16 & 0xff;\n  o[59] = x14 >>> 24 & 0xff;\n\n  o[60] = x15 >>>  0 & 0xff;\n  o[61] = x15 >>>  8 & 0xff;\n  o[62] = x15 >>> 16 & 0xff;\n  o[63] = x15 >>> 24 & 0xff;\n}\n\nfunction core_hsalsa20(o,p,k,c) {\n  var j0  = c[ 0] & 0xff | (c[ 1] & 0xff)<<8 | (c[ 2] & 0xff)<<16 | (c[ 3] & 0xff)<<24,\n      j1  = k[ 0] & 0xff | (k[ 1] & 0xff)<<8 | (k[ 2] & 0xff)<<16 | (k[ 3] & 0xff)<<24,\n      j2  = k[ 4] & 0xff | (k[ 5] & 0xff)<<8 | (k[ 6] & 0xff)<<16 | (k[ 7] & 0xff)<<24,\n      j3  = k[ 8] & 0xff | (k[ 9] & 0xff)<<8 | (k[10] & 0xff)<<16 | (k[11] & 0xff)<<24,\n      j4  = k[12] & 0xff | (k[13] & 0xff)<<8 | (k[14] & 0xff)<<16 | (k[15] & 0xff)<<24,\n      j5  = c[ 4] & 0xff | (c[ 5] & 0xff)<<8 | (c[ 6] & 0xff)<<16 | (c[ 7] & 0xff)<<24,\n      j6  = p[ 0] & 0xff | (p[ 1] & 0xff)<<8 | (p[ 2] & 0xff)<<16 | (p[ 3] & 0xff)<<24,\n      j7  = p[ 4] & 0xff | (p[ 5] & 0xff)<<8 | (p[ 6] & 0xff)<<16 | (p[ 7] & 0xff)<<24,\n      j8  = p[ 8] & 0xff | (p[ 9] & 0xff)<<8 | (p[10] & 0xff)<<16 | (p[11] & 0xff)<<24,\n      j9  = p[12] & 0xff | (p[13] & 0xff)<<8 | (p[14] & 0xff)<<16 | (p[15] & 0xff)<<24,\n      j10 = c[ 8] & 0xff | (c[ 9] & 0xff)<<8 | (c[10] & 0xff)<<16 | (c[11] & 0xff)<<24,\n      j11 = k[16] & 0xff | (k[17] & 0xff)<<8 | (k[18] & 0xff)<<16 | (k[19] & 0xff)<<24,\n      j12 = k[20] & 0xff | (k[21] & 0xff)<<8 | (k[22] & 0xff)<<16 | (k[23] & 0xff)<<24,\n      j13 = k[24] & 0xff | (k[25] & 0xff)<<8 | (k[26] & 0xff)<<16 | (k[27] & 0xff)<<24,\n      j14 = k[28] & 0xff | (k[29] & 0xff)<<8 | (k[30] & 0xff)<<16 | (k[31] & 0xff)<<24,\n      j15 = c[12] & 0xff | (c[13] & 0xff)<<8 | (c[14] & 0xff)<<16 | (c[15] & 0xff)<<24;\n\n  var x0 = j0, x1 = j1, x2 = j2, x3 = j3, x4 = j4, x5 = j5, x6 = j6, x7 = j7,\n      x8 = j8, x9 = j9, x10 = j10, x11 = j11, x12 = j12, x13 = j13, x14 = j14,\n      x15 = j15, u;\n\n  for (var i = 0; i < 20; i += 2) {\n    u = x0 + x12 | 0;\n    x4 ^= u<<7 | u>>>(32-7);\n    u = x4 + x0 | 0;\n    x8 ^= u<<9 | u>>>(32-9);\n    u = x8 + x4 | 0;\n    x12 ^= u<<13 | u>>>(32-13);\n    u = x12 + x8 | 0;\n    x0 ^= u<<18 | u>>>(32-18);\n\n    u = x5 + x1 | 0;\n    x9 ^= u<<7 | u>>>(32-7);\n    u = x9 + x5 | 0;\n    x13 ^= u<<9 | u>>>(32-9);\n    u = x13 + x9 | 0;\n    x1 ^= u<<13 | u>>>(32-13);\n    u = x1 + x13 | 0;\n    x5 ^= u<<18 | u>>>(32-18);\n\n    u = x10 + x6 | 0;\n    x14 ^= u<<7 | u>>>(32-7);\n    u = x14 + x10 | 0;\n    x2 ^= u<<9 | u>>>(32-9);\n    u = x2 + x14 | 0;\n    x6 ^= u<<13 | u>>>(32-13);\n    u = x6 + x2 | 0;\n    x10 ^= u<<18 | u>>>(32-18);\n\n    u = x15 + x11 | 0;\n    x3 ^= u<<7 | u>>>(32-7);\n    u = x3 + x15 | 0;\n    x7 ^= u<<9 | u>>>(32-9);\n    u = x7 + x3 | 0;\n    x11 ^= u<<13 | u>>>(32-13);\n    u = x11 + x7 | 0;\n    x15 ^= u<<18 | u>>>(32-18);\n\n    u = x0 + x3 | 0;\n    x1 ^= u<<7 | u>>>(32-7);\n    u = x1 + x0 | 0;\n    x2 ^= u<<9 | u>>>(32-9);\n    u = x2 + x1 | 0;\n    x3 ^= u<<13 | u>>>(32-13);\n    u = x3 + x2 | 0;\n    x0 ^= u<<18 | u>>>(32-18);\n\n    u = x5 + x4 | 0;\n    x6 ^= u<<7 | u>>>(32-7);\n    u = x6 + x5 | 0;\n    x7 ^= u<<9 | u>>>(32-9);\n    u = x7 + x6 | 0;\n    x4 ^= u<<13 | u>>>(32-13);\n    u = x4 + x7 | 0;\n    x5 ^= u<<18 | u>>>(32-18);\n\n    u = x10 + x9 | 0;\n    x11 ^= u<<7 | u>>>(32-7);\n    u = x11 + x10 | 0;\n    x8 ^= u<<9 | u>>>(32-9);\n    u = x8 + x11 | 0;\n    x9 ^= u<<13 | u>>>(32-13);\n    u = x9 + x8 | 0;\n    x10 ^= u<<18 | u>>>(32-18);\n\n    u = x15 + x14 | 0;\n    x12 ^= u<<7 | u>>>(32-7);\n    u = x12 + x15 | 0;\n    x13 ^= u<<9 | u>>>(32-9);\n    u = x13 + x12 | 0;\n    x14 ^= u<<13 | u>>>(32-13);\n    u = x14 + x13 | 0;\n    x15 ^= u<<18 | u>>>(32-18);\n  }\n\n  o[ 0] = x0 >>>  0 & 0xff;\n  o[ 1] = x0 >>>  8 & 0xff;\n  o[ 2] = x0 >>> 16 & 0xff;\n  o[ 3] = x0 >>> 24 & 0xff;\n\n  o[ 4] = x5 >>>  0 & 0xff;\n  o[ 5] = x5 >>>  8 & 0xff;\n  o[ 6] = x5 >>> 16 & 0xff;\n  o[ 7] = x5 >>> 24 & 0xff;\n\n  o[ 8] = x10 >>>  0 & 0xff;\n  o[ 9] = x10 >>>  8 & 0xff;\n  o[10] = x10 >>> 16 & 0xff;\n  o[11] = x10 >>> 24 & 0xff;\n\n  o[12] = x15 >>>  0 & 0xff;\n  o[13] = x15 >>>  8 & 0xff;\n  o[14] = x15 >>> 16 & 0xff;\n  o[15] = x15 >>> 24 & 0xff;\n\n  o[16] = x6 >>>  0 & 0xff;\n  o[17] = x6 >>>  8 & 0xff;\n  o[18] = x6 >>> 16 & 0xff;\n  o[19] = x6 >>> 24 & 0xff;\n\n  o[20] = x7 >>>  0 & 0xff;\n  o[21] = x7 >>>  8 & 0xff;\n  o[22] = x7 >>> 16 & 0xff;\n  o[23] = x7 >>> 24 & 0xff;\n\n  o[24] = x8 >>>  0 & 0xff;\n  o[25] = x8 >>>  8 & 0xff;\n  o[26] = x8 >>> 16 & 0xff;\n  o[27] = x8 >>> 24 & 0xff;\n\n  o[28] = x9 >>>  0 & 0xff;\n  o[29] = x9 >>>  8 & 0xff;\n  o[30] = x9 >>> 16 & 0xff;\n  o[31] = x9 >>> 24 & 0xff;\n}\n\nfunction crypto_core_salsa20(out,inp,k,c) {\n  core_salsa20(out,inp,k,c);\n}\n\nfunction crypto_core_hsalsa20(out,inp,k,c) {\n  core_hsalsa20(out,inp,k,c);\n}\n\nvar sigma = new Uint8Array([101, 120, 112, 97, 110, 100, 32, 51, 50, 45, 98, 121, 116, 101, 32, 107]);\n            // \"expand 32-byte k\"\n\nfunction crypto_stream_salsa20_xor(c,cpos,m,mpos,b,n,k) {\n  var z = new Uint8Array(16), x = new Uint8Array(64);\n  var u, i;\n  for (i = 0; i < 16; i++) z[i] = 0;\n  for (i = 0; i < 8; i++) z[i] = n[i];\n  while (b >= 64) {\n    crypto_core_salsa20(x,z,k,sigma);\n    for (i = 0; i < 64; i++) c[cpos+i] = m[mpos+i] ^ x[i];\n    u = 1;\n    for (i = 8; i < 16; i++) {\n      u = u + (z[i] & 0xff) | 0;\n      z[i] = u & 0xff;\n      u >>>= 8;\n    }\n    b -= 64;\n    cpos += 64;\n    mpos += 64;\n  }\n  if (b > 0) {\n    crypto_core_salsa20(x,z,k,sigma);\n    for (i = 0; i < b; i++) c[cpos+i] = m[mpos+i] ^ x[i];\n  }\n  return 0;\n}\n\nfunction crypto_stream_salsa20(c,cpos,b,n,k) {\n  var z = new Uint8Array(16), x = new Uint8Array(64);\n  var u, i;\n  for (i = 0; i < 16; i++) z[i] = 0;\n  for (i = 0; i < 8; i++) z[i] = n[i];\n  while (b >= 64) {\n    crypto_core_salsa20(x,z,k,sigma);\n    for (i = 0; i < 64; i++) c[cpos+i] = x[i];\n    u = 1;\n    for (i = 8; i < 16; i++) {\n      u = u + (z[i] & 0xff) | 0;\n      z[i] = u & 0xff;\n      u >>>= 8;\n    }\n    b -= 64;\n    cpos += 64;\n  }\n  if (b > 0) {\n    crypto_core_salsa20(x,z,k,sigma);\n    for (i = 0; i < b; i++) c[cpos+i] = x[i];\n  }\n  return 0;\n}\n\nfunction crypto_stream(c,cpos,d,n,k) {\n  var s = new Uint8Array(32);\n  crypto_core_hsalsa20(s,n,k,sigma);\n  var sn = new Uint8Array(8);\n  for (var i = 0; i < 8; i++) sn[i] = n[i+16];\n  return crypto_stream_salsa20(c,cpos,d,sn,s);\n}\n\nfunction crypto_stream_xor(c,cpos,m,mpos,d,n,k) {\n  var s = new Uint8Array(32);\n  crypto_core_hsalsa20(s,n,k,sigma);\n  var sn = new Uint8Array(8);\n  for (var i = 0; i < 8; i++) sn[i] = n[i+16];\n  return crypto_stream_salsa20_xor(c,cpos,m,mpos,d,sn,s);\n}\n\n/*\n* Port of Andrew Moon's Poly1305-donna-16. Public domain.\n* https://github.com/floodyberry/poly1305-donna\n*/\n\nvar poly1305 = function(key) {\n  this.buffer = new Uint8Array(16);\n  this.r = new Uint16Array(10);\n  this.h = new Uint16Array(10);\n  this.pad = new Uint16Array(8);\n  this.leftover = 0;\n  this.fin = 0;\n\n  var t0, t1, t2, t3, t4, t5, t6, t7;\n\n  t0 = key[ 0] & 0xff | (key[ 1] & 0xff) << 8; this.r[0] = ( t0                     ) & 0x1fff;\n  t1 = key[ 2] & 0xff | (key[ 3] & 0xff) << 8; this.r[1] = ((t0 >>> 13) | (t1 <<  3)) & 0x1fff;\n  t2 = key[ 4] & 0xff | (key[ 5] & 0xff) << 8; this.r[2] = ((t1 >>> 10) | (t2 <<  6)) & 0x1f03;\n  t3 = key[ 6] & 0xff | (key[ 7] & 0xff) << 8; this.r[3] = ((t2 >>>  7) | (t3 <<  9)) & 0x1fff;\n  t4 = key[ 8] & 0xff | (key[ 9] & 0xff) << 8; this.r[4] = ((t3 >>>  4) | (t4 << 12)) & 0x00ff;\n  this.r[5] = ((t4 >>>  1)) & 0x1ffe;\n  t5 = key[10] & 0xff | (key[11] & 0xff) << 8; this.r[6] = ((t4 >>> 14) | (t5 <<  2)) & 0x1fff;\n  t6 = key[12] & 0xff | (key[13] & 0xff) << 8; this.r[7] = ((t5 >>> 11) | (t6 <<  5)) & 0x1f81;\n  t7 = key[14] & 0xff | (key[15] & 0xff) << 8; this.r[8] = ((t6 >>>  8) | (t7 <<  8)) & 0x1fff;\n  this.r[9] = ((t7 >>>  5)) & 0x007f;\n\n  this.pad[0] = key[16] & 0xff | (key[17] & 0xff) << 8;\n  this.pad[1] = key[18] & 0xff | (key[19] & 0xff) << 8;\n  this.pad[2] = key[20] & 0xff | (key[21] & 0xff) << 8;\n  this.pad[3] = key[22] & 0xff | (key[23] & 0xff) << 8;\n  this.pad[4] = key[24] & 0xff | (key[25] & 0xff) << 8;\n  this.pad[5] = key[26] & 0xff | (key[27] & 0xff) << 8;\n  this.pad[6] = key[28] & 0xff | (key[29] & 0xff) << 8;\n  this.pad[7] = key[30] & 0xff | (key[31] & 0xff) << 8;\n};\n\npoly1305.prototype.blocks = function(m, mpos, bytes) {\n  var hibit = this.fin ? 0 : (1 << 11);\n  var t0, t1, t2, t3, t4, t5, t6, t7, c;\n  var d0, d1, d2, d3, d4, d5, d6, d7, d8, d9;\n\n  var h0 = this.h[0],\n      h1 = this.h[1],\n      h2 = this.h[2],\n      h3 = this.h[3],\n      h4 = this.h[4],\n      h5 = this.h[5],\n      h6 = this.h[6],\n      h7 = this.h[7],\n      h8 = this.h[8],\n      h9 = this.h[9];\n\n  var r0 = this.r[0],\n      r1 = this.r[1],\n      r2 = this.r[2],\n      r3 = this.r[3],\n      r4 = this.r[4],\n      r5 = this.r[5],\n      r6 = this.r[6],\n      r7 = this.r[7],\n      r8 = this.r[8],\n      r9 = this.r[9];\n\n  while (bytes >= 16) {\n    t0 = m[mpos+ 0] & 0xff | (m[mpos+ 1] & 0xff) << 8; h0 += ( t0                     ) & 0x1fff;\n    t1 = m[mpos+ 2] & 0xff | (m[mpos+ 3] & 0xff) << 8; h1 += ((t0 >>> 13) | (t1 <<  3)) & 0x1fff;\n    t2 = m[mpos+ 4] & 0xff | (m[mpos+ 5] & 0xff) << 8; h2 += ((t1 >>> 10) | (t2 <<  6)) & 0x1fff;\n    t3 = m[mpos+ 6] & 0xff | (m[mpos+ 7] & 0xff) << 8; h3 += ((t2 >>>  7) | (t3 <<  9)) & 0x1fff;\n    t4 = m[mpos+ 8] & 0xff | (m[mpos+ 9] & 0xff) << 8; h4 += ((t3 >>>  4) | (t4 << 12)) & 0x1fff;\n    h5 += ((t4 >>>  1)) & 0x1fff;\n    t5 = m[mpos+10] & 0xff | (m[mpos+11] & 0xff) << 8; h6 += ((t4 >>> 14) | (t5 <<  2)) & 0x1fff;\n    t6 = m[mpos+12] & 0xff | (m[mpos+13] & 0xff) << 8; h7 += ((t5 >>> 11) | (t6 <<  5)) & 0x1fff;\n    t7 = m[mpos+14] & 0xff | (m[mpos+15] & 0xff) << 8; h8 += ((t6 >>>  8) | (t7 <<  8)) & 0x1fff;\n    h9 += ((t7 >>> 5)) | hibit;\n\n    c = 0;\n\n    d0 = c;\n    d0 += h0 * r0;\n    d0 += h1 * (5 * r9);\n    d0 += h2 * (5 * r8);\n    d0 += h3 * (5 * r7);\n    d0 += h4 * (5 * r6);\n    c = (d0 >>> 13); d0 &= 0x1fff;\n    d0 += h5 * (5 * r5);\n    d0 += h6 * (5 * r4);\n    d0 += h7 * (5 * r3);\n    d0 += h8 * (5 * r2);\n    d0 += h9 * (5 * r1);\n    c += (d0 >>> 13); d0 &= 0x1fff;\n\n    d1 = c;\n    d1 += h0 * r1;\n    d1 += h1 * r0;\n    d1 += h2 * (5 * r9);\n    d1 += h3 * (5 * r8);\n    d1 += h4 * (5 * r7);\n    c = (d1 >>> 13); d1 &= 0x1fff;\n    d1 += h5 * (5 * r6);\n    d1 += h6 * (5 * r5);\n    d1 += h7 * (5 * r4);\n    d1 += h8 * (5 * r3);\n    d1 += h9 * (5 * r2);\n    c += (d1 >>> 13); d1 &= 0x1fff;\n\n    d2 = c;\n    d2 += h0 * r2;\n    d2 += h1 * r1;\n    d2 += h2 * r0;\n    d2 += h3 * (5 * r9);\n    d2 += h4 * (5 * r8);\n    c = (d2 >>> 13); d2 &= 0x1fff;\n    d2 += h5 * (5 * r7);\n    d2 += h6 * (5 * r6);\n    d2 += h7 * (5 * r5);\n    d2 += h8 * (5 * r4);\n    d2 += h9 * (5 * r3);\n    c += (d2 >>> 13); d2 &= 0x1fff;\n\n    d3 = c;\n    d3 += h0 * r3;\n    d3 += h1 * r2;\n    d3 += h2 * r1;\n    d3 += h3 * r0;\n    d3 += h4 * (5 * r9);\n    c = (d3 >>> 13); d3 &= 0x1fff;\n    d3 += h5 * (5 * r8);\n    d3 += h6 * (5 * r7);\n    d3 += h7 * (5 * r6);\n    d3 += h8 * (5 * r5);\n    d3 += h9 * (5 * r4);\n    c += (d3 >>> 13); d3 &= 0x1fff;\n\n    d4 = c;\n    d4 += h0 * r4;\n    d4 += h1 * r3;\n    d4 += h2 * r2;\n    d4 += h3 * r1;\n    d4 += h4 * r0;\n    c = (d4 >>> 13); d4 &= 0x1fff;\n    d4 += h5 * (5 * r9);\n    d4 += h6 * (5 * r8);\n    d4 += h7 * (5 * r7);\n    d4 += h8 * (5 * r6);\n    d4 += h9 * (5 * r5);\n    c += (d4 >>> 13); d4 &= 0x1fff;\n\n    d5 = c;\n    d5 += h0 * r5;\n    d5 += h1 * r4;\n    d5 += h2 * r3;\n    d5 += h3 * r2;\n    d5 += h4 * r1;\n    c = (d5 >>> 13); d5 &= 0x1fff;\n    d5 += h5 * r0;\n    d5 += h6 * (5 * r9);\n    d5 += h7 * (5 * r8);\n    d5 += h8 * (5 * r7);\n    d5 += h9 * (5 * r6);\n    c += (d5 >>> 13); d5 &= 0x1fff;\n\n    d6 = c;\n    d6 += h0 * r6;\n    d6 += h1 * r5;\n    d6 += h2 * r4;\n    d6 += h3 * r3;\n    d6 += h4 * r2;\n    c = (d6 >>> 13); d6 &= 0x1fff;\n    d6 += h5 * r1;\n    d6 += h6 * r0;\n    d6 += h7 * (5 * r9);\n    d6 += h8 * (5 * r8);\n    d6 += h9 * (5 * r7);\n    c += (d6 >>> 13); d6 &= 0x1fff;\n\n    d7 = c;\n    d7 += h0 * r7;\n    d7 += h1 * r6;\n    d7 += h2 * r5;\n    d7 += h3 * r4;\n    d7 += h4 * r3;\n    c = (d7 >>> 13); d7 &= 0x1fff;\n    d7 += h5 * r2;\n    d7 += h6 * r1;\n    d7 += h7 * r0;\n    d7 += h8 * (5 * r9);\n    d7 += h9 * (5 * r8);\n    c += (d7 >>> 13); d7 &= 0x1fff;\n\n    d8 = c;\n    d8 += h0 * r8;\n    d8 += h1 * r7;\n    d8 += h2 * r6;\n    d8 += h3 * r5;\n    d8 += h4 * r4;\n    c = (d8 >>> 13); d8 &= 0x1fff;\n    d8 += h5 * r3;\n    d8 += h6 * r2;\n    d8 += h7 * r1;\n    d8 += h8 * r0;\n    d8 += h9 * (5 * r9);\n    c += (d8 >>> 13); d8 &= 0x1fff;\n\n    d9 = c;\n    d9 += h0 * r9;\n    d9 += h1 * r8;\n    d9 += h2 * r7;\n    d9 += h3 * r6;\n    d9 += h4 * r5;\n    c = (d9 >>> 13); d9 &= 0x1fff;\n    d9 += h5 * r4;\n    d9 += h6 * r3;\n    d9 += h7 * r2;\n    d9 += h8 * r1;\n    d9 += h9 * r0;\n    c += (d9 >>> 13); d9 &= 0x1fff;\n\n    c = (((c << 2) + c)) | 0;\n    c = (c + d0) | 0;\n    d0 = c & 0x1fff;\n    c = (c >>> 13);\n    d1 += c;\n\n    h0 = d0;\n    h1 = d1;\n    h2 = d2;\n    h3 = d3;\n    h4 = d4;\n    h5 = d5;\n    h6 = d6;\n    h7 = d7;\n    h8 = d8;\n    h9 = d9;\n\n    mpos += 16;\n    bytes -= 16;\n  }\n  this.h[0] = h0;\n  this.h[1] = h1;\n  this.h[2] = h2;\n  this.h[3] = h3;\n  this.h[4] = h4;\n  this.h[5] = h5;\n  this.h[6] = h6;\n  this.h[7] = h7;\n  this.h[8] = h8;\n  this.h[9] = h9;\n};\n\npoly1305.prototype.finish = function(mac, macpos) {\n  var g = new Uint16Array(10);\n  var c, mask, f, i;\n\n  if (this.leftover) {\n    i = this.leftover;\n    this.buffer[i++] = 1;\n    for (; i < 16; i++) this.buffer[i] = 0;\n    this.fin = 1;\n    this.blocks(this.buffer, 0, 16);\n  }\n\n  c = this.h[1] >>> 13;\n  this.h[1] &= 0x1fff;\n  for (i = 2; i < 10; i++) {\n    this.h[i] += c;\n    c = this.h[i] >>> 13;\n    this.h[i] &= 0x1fff;\n  }\n  this.h[0] += (c * 5);\n  c = this.h[0] >>> 13;\n  this.h[0] &= 0x1fff;\n  this.h[1] += c;\n  c = this.h[1] >>> 13;\n  this.h[1] &= 0x1fff;\n  this.h[2] += c;\n\n  g[0] = this.h[0] + 5;\n  c = g[0] >>> 13;\n  g[0] &= 0x1fff;\n  for (i = 1; i < 10; i++) {\n    g[i] = this.h[i] + c;\n    c = g[i] >>> 13;\n    g[i] &= 0x1fff;\n  }\n  g[9] -= (1 << 13);\n\n  mask = (c ^ 1) - 1;\n  for (i = 0; i < 10; i++) g[i] &= mask;\n  mask = ~mask;\n  for (i = 0; i < 10; i++) this.h[i] = (this.h[i] & mask) | g[i];\n\n  this.h[0] = ((this.h[0]       ) | (this.h[1] << 13)                    ) & 0xffff;\n  this.h[1] = ((this.h[1] >>>  3) | (this.h[2] << 10)                    ) & 0xffff;\n  this.h[2] = ((this.h[2] >>>  6) | (this.h[3] <<  7)                    ) & 0xffff;\n  this.h[3] = ((this.h[3] >>>  9) | (this.h[4] <<  4)                    ) & 0xffff;\n  this.h[4] = ((this.h[4] >>> 12) | (this.h[5] <<  1) | (this.h[6] << 14)) & 0xffff;\n  this.h[5] = ((this.h[6] >>>  2) | (this.h[7] << 11)                    ) & 0xffff;\n  this.h[6] = ((this.h[7] >>>  5) | (this.h[8] <<  8)                    ) & 0xffff;\n  this.h[7] = ((this.h[8] >>>  8) | (this.h[9] <<  5)                    ) & 0xffff;\n\n  f = this.h[0] + this.pad[0];\n  this.h[0] = f & 0xffff;\n  for (i = 1; i < 8; i++) {\n    f = (((this.h[i] + this.pad[i]) | 0) + (f >>> 16)) | 0;\n    this.h[i] = f & 0xffff;\n  }\n\n  mac[macpos+ 0] = (this.h[0] >>> 0) & 0xff;\n  mac[macpos+ 1] = (this.h[0] >>> 8) & 0xff;\n  mac[macpos+ 2] = (this.h[1] >>> 0) & 0xff;\n  mac[macpos+ 3] = (this.h[1] >>> 8) & 0xff;\n  mac[macpos+ 4] = (this.h[2] >>> 0) & 0xff;\n  mac[macpos+ 5] = (this.h[2] >>> 8) & 0xff;\n  mac[macpos+ 6] = (this.h[3] >>> 0) & 0xff;\n  mac[macpos+ 7] = (this.h[3] >>> 8) & 0xff;\n  mac[macpos+ 8] = (this.h[4] >>> 0) & 0xff;\n  mac[macpos+ 9] = (this.h[4] >>> 8) & 0xff;\n  mac[macpos+10] = (this.h[5] >>> 0) & 0xff;\n  mac[macpos+11] = (this.h[5] >>> 8) & 0xff;\n  mac[macpos+12] = (this.h[6] >>> 0) & 0xff;\n  mac[macpos+13] = (this.h[6] >>> 8) & 0xff;\n  mac[macpos+14] = (this.h[7] >>> 0) & 0xff;\n  mac[macpos+15] = (this.h[7] >>> 8) & 0xff;\n};\n\npoly1305.prototype.update = function(m, mpos, bytes) {\n  var i, want;\n\n  if (this.leftover) {\n    want = (16 - this.leftover);\n    if (want > bytes)\n      want = bytes;\n    for (i = 0; i < want; i++)\n      this.buffer[this.leftover + i] = m[mpos+i];\n    bytes -= want;\n    mpos += want;\n    this.leftover += want;\n    if (this.leftover < 16)\n      return;\n    this.blocks(this.buffer, 0, 16);\n    this.leftover = 0;\n  }\n\n  if (bytes >= 16) {\n    want = bytes - (bytes % 16);\n    this.blocks(m, mpos, want);\n    mpos += want;\n    bytes -= want;\n  }\n\n  if (bytes) {\n    for (i = 0; i < bytes; i++)\n      this.buffer[this.leftover + i] = m[mpos+i];\n    this.leftover += bytes;\n  }\n};\n\nfunction crypto_onetimeauth(out, outpos, m, mpos, n, k) {\n  var s = new poly1305(k);\n  s.update(m, mpos, n);\n  s.finish(out, outpos);\n  return 0;\n}\n\nfunction crypto_onetimeauth_verify(h, hpos, m, mpos, n, k) {\n  var x = new Uint8Array(16);\n  crypto_onetimeauth(x,0,m,mpos,n,k);\n  return crypto_verify_16(h,hpos,x,0);\n}\n\nfunction crypto_secretbox(c,m,d,n,k) {\n  var i;\n  if (d < 32) return -1;\n  crypto_stream_xor(c,0,m,0,d,n,k);\n  crypto_onetimeauth(c, 16, c, 32, d - 32, c);\n  for (i = 0; i < 16; i++) c[i] = 0;\n  return 0;\n}\n\nfunction crypto_secretbox_open(m,c,d,n,k) {\n  var i;\n  var x = new Uint8Array(32);\n  if (d < 32) return -1;\n  crypto_stream(x,0,32,n,k);\n  if (crypto_onetimeauth_verify(c, 16,c, 32,d - 32,x) !== 0) return -1;\n  crypto_stream_xor(m,0,c,0,d,n,k);\n  for (i = 0; i < 32; i++) m[i] = 0;\n  return 0;\n}\n\nfunction set25519(r, a) {\n  var i;\n  for (i = 0; i < 16; i++) r[i] = a[i]|0;\n}\n\nfunction car25519(o) {\n  var i, v, c = 1;\n  for (i = 0; i < 16; i++) {\n    v = o[i] + c + 65535;\n    c = Math.floor(v / 65536);\n    o[i] = v - c * 65536;\n  }\n  o[0] += c-1 + 37 * (c-1);\n}\n\nfunction sel25519(p, q, b) {\n  var t, c = ~(b-1);\n  for (var i = 0; i < 16; i++) {\n    t = c & (p[i] ^ q[i]);\n    p[i] ^= t;\n    q[i] ^= t;\n  }\n}\n\nfunction pack25519(o, n) {\n  var i, j, b;\n  var m = gf(), t = gf();\n  for (i = 0; i < 16; i++) t[i] = n[i];\n  car25519(t);\n  car25519(t);\n  car25519(t);\n  for (j = 0; j < 2; j++) {\n    m[0] = t[0] - 0xffed;\n    for (i = 1; i < 15; i++) {\n      m[i] = t[i] - 0xffff - ((m[i-1]>>16) & 1);\n      m[i-1] &= 0xffff;\n    }\n    m[15] = t[15] - 0x7fff - ((m[14]>>16) & 1);\n    b = (m[15]>>16) & 1;\n    m[14] &= 0xffff;\n    sel25519(t, m, 1-b);\n  }\n  for (i = 0; i < 16; i++) {\n    o[2*i] = t[i] & 0xff;\n    o[2*i+1] = t[i]>>8;\n  }\n}\n\nfunction neq25519(a, b) {\n  var c = new Uint8Array(32), d = new Uint8Array(32);\n  pack25519(c, a);\n  pack25519(d, b);\n  return crypto_verify_32(c, 0, d, 0);\n}\n\nfunction par25519(a) {\n  var d = new Uint8Array(32);\n  pack25519(d, a);\n  return d[0] & 1;\n}\n\nfunction unpack25519(o, n) {\n  var i;\n  for (i = 0; i < 16; i++) o[i] = n[2*i] + (n[2*i+1] << 8);\n  o[15] &= 0x7fff;\n}\n\nfunction A(o, a, b) {\n  for (var i = 0; i < 16; i++) o[i] = a[i] + b[i];\n}\n\nfunction Z(o, a, b) {\n  for (var i = 0; i < 16; i++) o[i] = a[i] - b[i];\n}\n\nfunction M(o, a, b) {\n  var v, c,\n     t0 = 0,  t1 = 0,  t2 = 0,  t3 = 0,  t4 = 0,  t5 = 0,  t6 = 0,  t7 = 0,\n     t8 = 0,  t9 = 0, t10 = 0, t11 = 0, t12 = 0, t13 = 0, t14 = 0, t15 = 0,\n    t16 = 0, t17 = 0, t18 = 0, t19 = 0, t20 = 0, t21 = 0, t22 = 0, t23 = 0,\n    t24 = 0, t25 = 0, t26 = 0, t27 = 0, t28 = 0, t29 = 0, t30 = 0,\n    b0 = b[0],\n    b1 = b[1],\n    b2 = b[2],\n    b3 = b[3],\n    b4 = b[4],\n    b5 = b[5],\n    b6 = b[6],\n    b7 = b[7],\n    b8 = b[8],\n    b9 = b[9],\n    b10 = b[10],\n    b11 = b[11],\n    b12 = b[12],\n    b13 = b[13],\n    b14 = b[14],\n    b15 = b[15];\n\n  v = a[0];\n  t0 += v * b0;\n  t1 += v * b1;\n  t2 += v * b2;\n  t3 += v * b3;\n  t4 += v * b4;\n  t5 += v * b5;\n  t6 += v * b6;\n  t7 += v * b7;\n  t8 += v * b8;\n  t9 += v * b9;\n  t10 += v * b10;\n  t11 += v * b11;\n  t12 += v * b12;\n  t13 += v * b13;\n  t14 += v * b14;\n  t15 += v * b15;\n  v = a[1];\n  t1 += v * b0;\n  t2 += v * b1;\n  t3 += v * b2;\n  t4 += v * b3;\n  t5 += v * b4;\n  t6 += v * b5;\n  t7 += v * b6;\n  t8 += v * b7;\n  t9 += v * b8;\n  t10 += v * b9;\n  t11 += v * b10;\n  t12 += v * b11;\n  t13 += v * b12;\n  t14 += v * b13;\n  t15 += v * b14;\n  t16 += v * b15;\n  v = a[2];\n  t2 += v * b0;\n  t3 += v * b1;\n  t4 += v * b2;\n  t5 += v * b3;\n  t6 += v * b4;\n  t7 += v * b5;\n  t8 += v * b6;\n  t9 += v * b7;\n  t10 += v * b8;\n  t11 += v * b9;\n  t12 += v * b10;\n  t13 += v * b11;\n  t14 += v * b12;\n  t15 += v * b13;\n  t16 += v * b14;\n  t17 += v * b15;\n  v = a[3];\n  t3 += v * b0;\n  t4 += v * b1;\n  t5 += v * b2;\n  t6 += v * b3;\n  t7 += v * b4;\n  t8 += v * b5;\n  t9 += v * b6;\n  t10 += v * b7;\n  t11 += v * b8;\n  t12 += v * b9;\n  t13 += v * b10;\n  t14 += v * b11;\n  t15 += v * b12;\n  t16 += v * b13;\n  t17 += v * b14;\n  t18 += v * b15;\n  v = a[4];\n  t4 += v * b0;\n  t5 += v * b1;\n  t6 += v * b2;\n  t7 += v * b3;\n  t8 += v * b4;\n  t9 += v * b5;\n  t10 += v * b6;\n  t11 += v * b7;\n  t12 += v * b8;\n  t13 += v * b9;\n  t14 += v * b10;\n  t15 += v * b11;\n  t16 += v * b12;\n  t17 += v * b13;\n  t18 += v * b14;\n  t19 += v * b15;\n  v = a[5];\n  t5 += v * b0;\n  t6 += v * b1;\n  t7 += v * b2;\n  t8 += v * b3;\n  t9 += v * b4;\n  t10 += v * b5;\n  t11 += v * b6;\n  t12 += v * b7;\n  t13 += v * b8;\n  t14 += v * b9;\n  t15 += v * b10;\n  t16 += v * b11;\n  t17 += v * b12;\n  t18 += v * b13;\n  t19 += v * b14;\n  t20 += v * b15;\n  v = a[6];\n  t6 += v * b0;\n  t7 += v * b1;\n  t8 += v * b2;\n  t9 += v * b3;\n  t10 += v * b4;\n  t11 += v * b5;\n  t12 += v * b6;\n  t13 += v * b7;\n  t14 += v * b8;\n  t15 += v * b9;\n  t16 += v * b10;\n  t17 += v * b11;\n  t18 += v * b12;\n  t19 += v * b13;\n  t20 += v * b14;\n  t21 += v * b15;\n  v = a[7];\n  t7 += v * b0;\n  t8 += v * b1;\n  t9 += v * b2;\n  t10 += v * b3;\n  t11 += v * b4;\n  t12 += v * b5;\n  t13 += v * b6;\n  t14 += v * b7;\n  t15 += v * b8;\n  t16 += v * b9;\n  t17 += v * b10;\n  t18 += v * b11;\n  t19 += v * b12;\n  t20 += v * b13;\n  t21 += v * b14;\n  t22 += v * b15;\n  v = a[8];\n  t8 += v * b0;\n  t9 += v * b1;\n  t10 += v * b2;\n  t11 += v * b3;\n  t12 += v * b4;\n  t13 += v * b5;\n  t14 += v * b6;\n  t15 += v * b7;\n  t16 += v * b8;\n  t17 += v * b9;\n  t18 += v * b10;\n  t19 += v * b11;\n  t20 += v * b12;\n  t21 += v * b13;\n  t22 += v * b14;\n  t23 += v * b15;\n  v = a[9];\n  t9 += v * b0;\n  t10 += v * b1;\n  t11 += v * b2;\n  t12 += v * b3;\n  t13 += v * b4;\n  t14 += v * b5;\n  t15 += v * b6;\n  t16 += v * b7;\n  t17 += v * b8;\n  t18 += v * b9;\n  t19 += v * b10;\n  t20 += v * b11;\n  t21 += v * b12;\n  t22 += v * b13;\n  t23 += v * b14;\n  t24 += v * b15;\n  v = a[10];\n  t10 += v * b0;\n  t11 += v * b1;\n  t12 += v * b2;\n  t13 += v * b3;\n  t14 += v * b4;\n  t15 += v * b5;\n  t16 += v * b6;\n  t17 += v * b7;\n  t18 += v * b8;\n  t19 += v * b9;\n  t20 += v * b10;\n  t21 += v * b11;\n  t22 += v * b12;\n  t23 += v * b13;\n  t24 += v * b14;\n  t25 += v * b15;\n  v = a[11];\n  t11 += v * b0;\n  t12 += v * b1;\n  t13 += v * b2;\n  t14 += v * b3;\n  t15 += v * b4;\n  t16 += v * b5;\n  t17 += v * b6;\n  t18 += v * b7;\n  t19 += v * b8;\n  t20 += v * b9;\n  t21 += v * b10;\n  t22 += v * b11;\n  t23 += v * b12;\n  t24 += v * b13;\n  t25 += v * b14;\n  t26 += v * b15;\n  v = a[12];\n  t12 += v * b0;\n  t13 += v * b1;\n  t14 += v * b2;\n  t15 += v * b3;\n  t16 += v * b4;\n  t17 += v * b5;\n  t18 += v * b6;\n  t19 += v * b7;\n  t20 += v * b8;\n  t21 += v * b9;\n  t22 += v * b10;\n  t23 += v * b11;\n  t24 += v * b12;\n  t25 += v * b13;\n  t26 += v * b14;\n  t27 += v * b15;\n  v = a[13];\n  t13 += v * b0;\n  t14 += v * b1;\n  t15 += v * b2;\n  t16 += v * b3;\n  t17 += v * b4;\n  t18 += v * b5;\n  t19 += v * b6;\n  t20 += v * b7;\n  t21 += v * b8;\n  t22 += v * b9;\n  t23 += v * b10;\n  t24 += v * b11;\n  t25 += v * b12;\n  t26 += v * b13;\n  t27 += v * b14;\n  t28 += v * b15;\n  v = a[14];\n  t14 += v * b0;\n  t15 += v * b1;\n  t16 += v * b2;\n  t17 += v * b3;\n  t18 += v * b4;\n  t19 += v * b5;\n  t20 += v * b6;\n  t21 += v * b7;\n  t22 += v * b8;\n  t23 += v * b9;\n  t24 += v * b10;\n  t25 += v * b11;\n  t26 += v * b12;\n  t27 += v * b13;\n  t28 += v * b14;\n  t29 += v * b15;\n  v = a[15];\n  t15 += v * b0;\n  t16 += v * b1;\n  t17 += v * b2;\n  t18 += v * b3;\n  t19 += v * b4;\n  t20 += v * b5;\n  t21 += v * b6;\n  t22 += v * b7;\n  t23 += v * b8;\n  t24 += v * b9;\n  t25 += v * b10;\n  t26 += v * b11;\n  t27 += v * b12;\n  t28 += v * b13;\n  t29 += v * b14;\n  t30 += v * b15;\n\n  t0  += 38 * t16;\n  t1  += 38 * t17;\n  t2  += 38 * t18;\n  t3  += 38 * t19;\n  t4  += 38 * t20;\n  t5  += 38 * t21;\n  t6  += 38 * t22;\n  t7  += 38 * t23;\n  t8  += 38 * t24;\n  t9  += 38 * t25;\n  t10 += 38 * t26;\n  t11 += 38 * t27;\n  t12 += 38 * t28;\n  t13 += 38 * t29;\n  t14 += 38 * t30;\n  // t15 left as is\n\n  // first car\n  c = 1;\n  v =  t0 + c + 65535; c = Math.floor(v / 65536);  t0 = v - c * 65536;\n  v =  t1 + c + 65535; c = Math.floor(v / 65536);  t1 = v - c * 65536;\n  v =  t2 + c + 65535; c = Math.floor(v / 65536);  t2 = v - c * 65536;\n  v =  t3 + c + 65535; c = Math.floor(v / 65536);  t3 = v - c * 65536;\n  v =  t4 + c + 65535; c = Math.floor(v / 65536);  t4 = v - c * 65536;\n  v =  t5 + c + 65535; c = Math.floor(v / 65536);  t5 = v - c * 65536;\n  v =  t6 + c + 65535; c = Math.floor(v / 65536);  t6 = v - c * 65536;\n  v =  t7 + c + 65535; c = Math.floor(v / 65536);  t7 = v - c * 65536;\n  v =  t8 + c + 65535; c = Math.floor(v / 65536);  t8 = v - c * 65536;\n  v =  t9 + c + 65535; c = Math.floor(v / 65536);  t9 = v - c * 65536;\n  v = t10 + c + 65535; c = Math.floor(v / 65536); t10 = v - c * 65536;\n  v = t11 + c + 65535; c = Math.floor(v / 65536); t11 = v - c * 65536;\n  v = t12 + c + 65535; c = Math.floor(v / 65536); t12 = v - c * 65536;\n  v = t13 + c + 65535; c = Math.floor(v / 65536); t13 = v - c * 65536;\n  v = t14 + c + 65535; c = Math.floor(v / 65536); t14 = v - c * 65536;\n  v = t15 + c + 65535; c = Math.floor(v / 65536); t15 = v - c * 65536;\n  t0 += c-1 + 37 * (c-1);\n\n  // second car\n  c = 1;\n  v =  t0 + c + 65535; c = Math.floor(v / 65536);  t0 = v - c * 65536;\n  v =  t1 + c + 65535; c = Math.floor(v / 65536);  t1 = v - c * 65536;\n  v =  t2 + c + 65535; c = Math.floor(v / 65536);  t2 = v - c * 65536;\n  v =  t3 + c + 65535; c = Math.floor(v / 65536);  t3 = v - c * 65536;\n  v =  t4 + c + 65535; c = Math.floor(v / 65536);  t4 = v - c * 65536;\n  v =  t5 + c + 65535; c = Math.floor(v / 65536);  t5 = v - c * 65536;\n  v =  t6 + c + 65535; c = Math.floor(v / 65536);  t6 = v - c * 65536;\n  v =  t7 + c + 65535; c = Math.floor(v / 65536);  t7 = v - c * 65536;\n  v =  t8 + c + 65535; c = Math.floor(v / 65536);  t8 = v - c * 65536;\n  v =  t9 + c + 65535; c = Math.floor(v / 65536);  t9 = v - c * 65536;\n  v = t10 + c + 65535; c = Math.floor(v / 65536); t10 = v - c * 65536;\n  v = t11 + c + 65535; c = Math.floor(v / 65536); t11 = v - c * 65536;\n  v = t12 + c + 65535; c = Math.floor(v / 65536); t12 = v - c * 65536;\n  v = t13 + c + 65535; c = Math.floor(v / 65536); t13 = v - c * 65536;\n  v = t14 + c + 65535; c = Math.floor(v / 65536); t14 = v - c * 65536;\n  v = t15 + c + 65535; c = Math.floor(v / 65536); t15 = v - c * 65536;\n  t0 += c-1 + 37 * (c-1);\n\n  o[ 0] = t0;\n  o[ 1] = t1;\n  o[ 2] = t2;\n  o[ 3] = t3;\n  o[ 4] = t4;\n  o[ 5] = t5;\n  o[ 6] = t6;\n  o[ 7] = t7;\n  o[ 8] = t8;\n  o[ 9] = t9;\n  o[10] = t10;\n  o[11] = t11;\n  o[12] = t12;\n  o[13] = t13;\n  o[14] = t14;\n  o[15] = t15;\n}\n\nfunction S(o, a) {\n  M(o, a, a);\n}\n\nfunction inv25519(o, i) {\n  var c = gf();\n  var a;\n  for (a = 0; a < 16; a++) c[a] = i[a];\n  for (a = 253; a >= 0; a--) {\n    S(c, c);\n    if(a !== 2 && a !== 4) M(c, c, i);\n  }\n  for (a = 0; a < 16; a++) o[a] = c[a];\n}\n\nfunction pow2523(o, i) {\n  var c = gf();\n  var a;\n  for (a = 0; a < 16; a++) c[a] = i[a];\n  for (a = 250; a >= 0; a--) {\n      S(c, c);\n      if(a !== 1) M(c, c, i);\n  }\n  for (a = 0; a < 16; a++) o[a] = c[a];\n}\n\nfunction crypto_scalarmult(q, n, p) {\n  var z = new Uint8Array(32);\n  var x = new Float64Array(80), r, i;\n  var a = gf(), b = gf(), c = gf(),\n      d = gf(), e = gf(), f = gf();\n  for (i = 0; i < 31; i++) z[i] = n[i];\n  z[31]=(n[31]&127)|64;\n  z[0]&=248;\n  unpack25519(x,p);\n  for (i = 0; i < 16; i++) {\n    b[i]=x[i];\n    d[i]=a[i]=c[i]=0;\n  }\n  a[0]=d[0]=1;\n  for (i=254; i>=0; --i) {\n    r=(z[i>>>3]>>>(i&7))&1;\n    sel25519(a,b,r);\n    sel25519(c,d,r);\n    A(e,a,c);\n    Z(a,a,c);\n    A(c,b,d);\n    Z(b,b,d);\n    S(d,e);\n    S(f,a);\n    M(a,c,a);\n    M(c,b,e);\n    A(e,a,c);\n    Z(a,a,c);\n    S(b,a);\n    Z(c,d,f);\n    M(a,c,_121665);\n    A(a,a,d);\n    M(c,c,a);\n    M(a,d,f);\n    M(d,b,x);\n    S(b,e);\n    sel25519(a,b,r);\n    sel25519(c,d,r);\n  }\n  for (i = 0; i < 16; i++) {\n    x[i+16]=a[i];\n    x[i+32]=c[i];\n    x[i+48]=b[i];\n    x[i+64]=d[i];\n  }\n  var x32 = x.subarray(32);\n  var x16 = x.subarray(16);\n  inv25519(x32,x32);\n  M(x16,x16,x32);\n  pack25519(q,x16);\n  return 0;\n}\n\nfunction crypto_scalarmult_base(q, n) {\n  return crypto_scalarmult(q, n, _9);\n}\n\nfunction crypto_box_keypair(y, x) {\n  randombytes(x, 32);\n  return crypto_scalarmult_base(y, x);\n}\n\nfunction crypto_box_beforenm(k, y, x) {\n  var s = new Uint8Array(32);\n  crypto_scalarmult(s, x, y);\n  return crypto_core_hsalsa20(k, _0, s, sigma);\n}\n\nvar crypto_box_afternm = crypto_secretbox;\nvar crypto_box_open_afternm = crypto_secretbox_open;\n\nfunction crypto_box(c, m, d, n, y, x) {\n  var k = new Uint8Array(32);\n  crypto_box_beforenm(k, y, x);\n  return crypto_box_afternm(c, m, d, n, k);\n}\n\nfunction crypto_box_open(m, c, d, n, y, x) {\n  var k = new Uint8Array(32);\n  crypto_box_beforenm(k, y, x);\n  return crypto_box_open_afternm(m, c, d, n, k);\n}\n\nvar K = [\n  0x428a2f98, 0xd728ae22, 0x71374491, 0x23ef65cd,\n  0xb5c0fbcf, 0xec4d3b2f, 0xe9b5dba5, 0x8189dbbc,\n  0x3956c25b, 0xf348b538, 0x59f111f1, 0xb605d019,\n  0x923f82a4, 0xaf194f9b, 0xab1c5ed5, 0xda6d8118,\n  0xd807aa98, 0xa3030242, 0x12835b01, 0x45706fbe,\n  0x243185be, 0x4ee4b28c, 0x550c7dc3, 0xd5ffb4e2,\n  0x72be5d74, 0xf27b896f, 0x80deb1fe, 0x3b1696b1,\n  0x9bdc06a7, 0x25c71235, 0xc19bf174, 0xcf692694,\n  0xe49b69c1, 0x9ef14ad2, 0xefbe4786, 0x384f25e3,\n  0x0fc19dc6, 0x8b8cd5b5, 0x240ca1cc, 0x77ac9c65,\n  0x2de92c6f, 0x592b0275, 0x4a7484aa, 0x6ea6e483,\n  0x5cb0a9dc, 0xbd41fbd4, 0x76f988da, 0x831153b5,\n  0x983e5152, 0xee66dfab, 0xa831c66d, 0x2db43210,\n  0xb00327c8, 0x98fb213f, 0xbf597fc7, 0xbeef0ee4,\n  0xc6e00bf3, 0x3da88fc2, 0xd5a79147, 0x930aa725,\n  0x06ca6351, 0xe003826f, 0x14292967, 0x0a0e6e70,\n  0x27b70a85, 0x46d22ffc, 0x2e1b2138, 0x5c26c926,\n  0x4d2c6dfc, 0x5ac42aed, 0x53380d13, 0x9d95b3df,\n  0x650a7354, 0x8baf63de, 0x766a0abb, 0x3c77b2a8,\n  0x81c2c92e, 0x47edaee6, 0x92722c85, 0x1482353b,\n  0xa2bfe8a1, 0x4cf10364, 0xa81a664b, 0xbc423001,\n  0xc24b8b70, 0xd0f89791, 0xc76c51a3, 0x0654be30,\n  0xd192e819, 0xd6ef5218, 0xd6990624, 0x5565a910,\n  0xf40e3585, 0x5771202a, 0x106aa070, 0x32bbd1b8,\n  0x19a4c116, 0xb8d2d0c8, 0x1e376c08, 0x5141ab53,\n  0x2748774c, 0xdf8eeb99, 0x34b0bcb5, 0xe19b48a8,\n  0x391c0cb3, 0xc5c95a63, 0x4ed8aa4a, 0xe3418acb,\n  0x5b9cca4f, 0x7763e373, 0x682e6ff3, 0xd6b2b8a3,\n  0x748f82ee, 0x5defb2fc, 0x78a5636f, 0x43172f60,\n  0x84c87814, 0xa1f0ab72, 0x8cc70208, 0x1a6439ec,\n  0x90befffa, 0x23631e28, 0xa4506ceb, 0xde82bde9,\n  0xbef9a3f7, 0xb2c67915, 0xc67178f2, 0xe372532b,\n  0xca273ece, 0xea26619c, 0xd186b8c7, 0x21c0c207,\n  0xeada7dd6, 0xcde0eb1e, 0xf57d4f7f, 0xee6ed178,\n  0x06f067aa, 0x72176fba, 0x0a637dc5, 0xa2c898a6,\n  0x113f9804, 0xbef90dae, 0x1b710b35, 0x131c471b,\n  0x28db77f5, 0x23047d84, 0x32caab7b, 0x40c72493,\n  0x3c9ebe0a, 0x15c9bebc, 0x431d67c4, 0x9c100d4c,\n  0x4cc5d4be, 0xcb3e42b6, 0x597f299c, 0xfc657e2a,\n  0x5fcb6fab, 0x3ad6faec, 0x6c44198c, 0x4a475817\n];\n\nfunction crypto_hashblocks_hl(hh, hl, m, n) {\n  var wh = new Int32Array(16), wl = new Int32Array(16),\n      bh0, bh1, bh2, bh3, bh4, bh5, bh6, bh7,\n      bl0, bl1, bl2, bl3, bl4, bl5, bl6, bl7,\n      th, tl, i, j, h, l, a, b, c, d;\n\n  var ah0 = hh[0],\n      ah1 = hh[1],\n      ah2 = hh[2],\n      ah3 = hh[3],\n      ah4 = hh[4],\n      ah5 = hh[5],\n      ah6 = hh[6],\n      ah7 = hh[7],\n\n      al0 = hl[0],\n      al1 = hl[1],\n      al2 = hl[2],\n      al3 = hl[3],\n      al4 = hl[4],\n      al5 = hl[5],\n      al6 = hl[6],\n      al7 = hl[7];\n\n  var pos = 0;\n  while (n >= 128) {\n    for (i = 0; i < 16; i++) {\n      j = 8 * i + pos;\n      wh[i] = (m[j+0] << 24) | (m[j+1] << 16) | (m[j+2] << 8) | m[j+3];\n      wl[i] = (m[j+4] << 24) | (m[j+5] << 16) | (m[j+6] << 8) | m[j+7];\n    }\n    for (i = 0; i < 80; i++) {\n      bh0 = ah0;\n      bh1 = ah1;\n      bh2 = ah2;\n      bh3 = ah3;\n      bh4 = ah4;\n      bh5 = ah5;\n      bh6 = ah6;\n      bh7 = ah7;\n\n      bl0 = al0;\n      bl1 = al1;\n      bl2 = al2;\n      bl3 = al3;\n      bl4 = al4;\n      bl5 = al5;\n      bl6 = al6;\n      bl7 = al7;\n\n      // add\n      h = ah7;\n      l = al7;\n\n      a = l & 0xffff; b = l >>> 16;\n      c = h & 0xffff; d = h >>> 16;\n\n      // Sigma1\n      h = ((ah4 >>> 14) | (al4 << (32-14))) ^ ((ah4 >>> 18) | (al4 << (32-18))) ^ ((al4 >>> (41-32)) | (ah4 << (32-(41-32))));\n      l = ((al4 >>> 14) | (ah4 << (32-14))) ^ ((al4 >>> 18) | (ah4 << (32-18))) ^ ((ah4 >>> (41-32)) | (al4 << (32-(41-32))));\n\n      a += l & 0xffff; b += l >>> 16;\n      c += h & 0xffff; d += h >>> 16;\n\n      // Ch\n      h = (ah4 & ah5) ^ (~ah4 & ah6);\n      l = (al4 & al5) ^ (~al4 & al6);\n\n      a += l & 0xffff; b += l >>> 16;\n      c += h & 0xffff; d += h >>> 16;\n\n      // K\n      h = K[i*2];\n      l = K[i*2+1];\n\n      a += l & 0xffff; b += l >>> 16;\n      c += h & 0xffff; d += h >>> 16;\n\n      // w\n      h = wh[i%16];\n      l = wl[i%16];\n\n      a += l & 0xffff; b += l >>> 16;\n      c += h & 0xffff; d += h >>> 16;\n\n      b += a >>> 16;\n      c += b >>> 16;\n      d += c >>> 16;\n\n      th = c & 0xffff | d << 16;\n      tl = a & 0xffff | b << 16;\n\n      // add\n      h = th;\n      l = tl;\n\n      a = l & 0xffff; b = l >>> 16;\n      c = h & 0xffff; d = h >>> 16;\n\n      // Sigma0\n      h = ((ah0 >>> 28) | (al0 << (32-28))) ^ ((al0 >>> (34-32)) | (ah0 << (32-(34-32)))) ^ ((al0 >>> (39-32)) | (ah0 << (32-(39-32))));\n      l = ((al0 >>> 28) | (ah0 << (32-28))) ^ ((ah0 >>> (34-32)) | (al0 << (32-(34-32)))) ^ ((ah0 >>> (39-32)) | (al0 << (32-(39-32))));\n\n      a += l & 0xffff; b += l >>> 16;\n      c += h & 0xffff; d += h >>> 16;\n\n      // Maj\n      h = (ah0 & ah1) ^ (ah0 & ah2) ^ (ah1 & ah2);\n      l = (al0 & al1) ^ (al0 & al2) ^ (al1 & al2);\n\n      a += l & 0xffff; b += l >>> 16;\n      c += h & 0xffff; d += h >>> 16;\n\n      b += a >>> 16;\n      c += b >>> 16;\n      d += c >>> 16;\n\n      bh7 = (c & 0xffff) | (d << 16);\n      bl7 = (a & 0xffff) | (b << 16);\n\n      // add\n      h = bh3;\n      l = bl3;\n\n      a = l & 0xffff; b = l >>> 16;\n      c = h & 0xffff; d = h >>> 16;\n\n      h = th;\n      l = tl;\n\n      a += l & 0xffff; b += l >>> 16;\n      c += h & 0xffff; d += h >>> 16;\n\n      b += a >>> 16;\n      c += b >>> 16;\n      d += c >>> 16;\n\n      bh3 = (c & 0xffff) | (d << 16);\n      bl3 = (a & 0xffff) | (b << 16);\n\n      ah1 = bh0;\n      ah2 = bh1;\n      ah3 = bh2;\n      ah4 = bh3;\n      ah5 = bh4;\n      ah6 = bh5;\n      ah7 = bh6;\n      ah0 = bh7;\n\n      al1 = bl0;\n      al2 = bl1;\n      al3 = bl2;\n      al4 = bl3;\n      al5 = bl4;\n      al6 = bl5;\n      al7 = bl6;\n      al0 = bl7;\n\n      if (i%16 === 15) {\n        for (j = 0; j < 16; j++) {\n          // add\n          h = wh[j];\n          l = wl[j];\n\n          a = l & 0xffff; b = l >>> 16;\n          c = h & 0xffff; d = h >>> 16;\n\n          h = wh[(j+9)%16];\n          l = wl[(j+9)%16];\n\n          a += l & 0xffff; b += l >>> 16;\n          c += h & 0xffff; d += h >>> 16;\n\n          // sigma0\n          th = wh[(j+1)%16];\n          tl = wl[(j+1)%16];\n          h = ((th >>> 1) | (tl << (32-1))) ^ ((th >>> 8) | (tl << (32-8))) ^ (th >>> 7);\n          l = ((tl >>> 1) | (th << (32-1))) ^ ((tl >>> 8) | (th << (32-8))) ^ ((tl >>> 7) | (th << (32-7)));\n\n          a += l & 0xffff; b += l >>> 16;\n          c += h & 0xffff; d += h >>> 16;\n\n          // sigma1\n          th = wh[(j+14)%16];\n          tl = wl[(j+14)%16];\n          h = ((th >>> 19) | (tl << (32-19))) ^ ((tl >>> (61-32)) | (th << (32-(61-32)))) ^ (th >>> 6);\n          l = ((tl >>> 19) | (th << (32-19))) ^ ((th >>> (61-32)) | (tl << (32-(61-32)))) ^ ((tl >>> 6) | (th << (32-6)));\n\n          a += l & 0xffff; b += l >>> 16;\n          c += h & 0xffff; d += h >>> 16;\n\n          b += a >>> 16;\n          c += b >>> 16;\n          d += c >>> 16;\n\n          wh[j] = (c & 0xffff) | (d << 16);\n          wl[j] = (a & 0xffff) | (b << 16);\n        }\n      }\n    }\n\n    // add\n    h = ah0;\n    l = al0;\n\n    a = l & 0xffff; b = l >>> 16;\n    c = h & 0xffff; d = h >>> 16;\n\n    h = hh[0];\n    l = hl[0];\n\n    a += l & 0xffff; b += l >>> 16;\n    c += h & 0xffff; d += h >>> 16;\n\n    b += a >>> 16;\n    c += b >>> 16;\n    d += c >>> 16;\n\n    hh[0] = ah0 = (c & 0xffff) | (d << 16);\n    hl[0] = al0 = (a & 0xffff) | (b << 16);\n\n    h = ah1;\n    l = al1;\n\n    a = l & 0xffff; b = l >>> 16;\n    c = h & 0xffff; d = h >>> 16;\n\n    h = hh[1];\n    l = hl[1];\n\n    a += l & 0xffff; b += l >>> 16;\n    c += h & 0xffff; d += h >>> 16;\n\n    b += a >>> 16;\n    c += b >>> 16;\n    d += c >>> 16;\n\n    hh[1] = ah1 = (c & 0xffff) | (d << 16);\n    hl[1] = al1 = (a & 0xffff) | (b << 16);\n\n    h = ah2;\n    l = al2;\n\n    a = l & 0xffff; b = l >>> 16;\n    c = h & 0xffff; d = h >>> 16;\n\n    h = hh[2];\n    l = hl[2];\n\n    a += l & 0xffff; b += l >>> 16;\n    c += h & 0xffff; d += h >>> 16;\n\n    b += a >>> 16;\n    c += b >>> 16;\n    d += c >>> 16;\n\n    hh[2] = ah2 = (c & 0xffff) | (d << 16);\n    hl[2] = al2 = (a & 0xffff) | (b << 16);\n\n    h = ah3;\n    l = al3;\n\n    a = l & 0xffff; b = l >>> 16;\n    c = h & 0xffff; d = h >>> 16;\n\n    h = hh[3];\n    l = hl[3];\n\n    a += l & 0xffff; b += l >>> 16;\n    c += h & 0xffff; d += h >>> 16;\n\n    b += a >>> 16;\n    c += b >>> 16;\n    d += c >>> 16;\n\n    hh[3] = ah3 = (c & 0xffff) | (d << 16);\n    hl[3] = al3 = (a & 0xffff) | (b << 16);\n\n    h = ah4;\n    l = al4;\n\n    a = l & 0xffff; b = l >>> 16;\n    c = h & 0xffff; d = h >>> 16;\n\n    h = hh[4];\n    l = hl[4];\n\n    a += l & 0xffff; b += l >>> 16;\n    c += h & 0xffff; d += h >>> 16;\n\n    b += a >>> 16;\n    c += b >>> 16;\n    d += c >>> 16;\n\n    hh[4] = ah4 = (c & 0xffff) | (d << 16);\n    hl[4] = al4 = (a & 0xffff) | (b << 16);\n\n    h = ah5;\n    l = al5;\n\n    a = l & 0xffff; b = l >>> 16;\n    c = h & 0xffff; d = h >>> 16;\n\n    h = hh[5];\n    l = hl[5];\n\n    a += l & 0xffff; b += l >>> 16;\n    c += h & 0xffff; d += h >>> 16;\n\n    b += a >>> 16;\n    c += b >>> 16;\n    d += c >>> 16;\n\n    hh[5] = ah5 = (c & 0xffff) | (d << 16);\n    hl[5] = al5 = (a & 0xffff) | (b << 16);\n\n    h = ah6;\n    l = al6;\n\n    a = l & 0xffff; b = l >>> 16;\n    c = h & 0xffff; d = h >>> 16;\n\n    h = hh[6];\n    l = hl[6];\n\n    a += l & 0xffff; b += l >>> 16;\n    c += h & 0xffff; d += h >>> 16;\n\n    b += a >>> 16;\n    c += b >>> 16;\n    d += c >>> 16;\n\n    hh[6] = ah6 = (c & 0xffff) | (d << 16);\n    hl[6] = al6 = (a & 0xffff) | (b << 16);\n\n    h = ah7;\n    l = al7;\n\n    a = l & 0xffff; b = l >>> 16;\n    c = h & 0xffff; d = h >>> 16;\n\n    h = hh[7];\n    l = hl[7];\n\n    a += l & 0xffff; b += l >>> 16;\n    c += h & 0xffff; d += h >>> 16;\n\n    b += a >>> 16;\n    c += b >>> 16;\n    d += c >>> 16;\n\n    hh[7] = ah7 = (c & 0xffff) | (d << 16);\n    hl[7] = al7 = (a & 0xffff) | (b << 16);\n\n    pos += 128;\n    n -= 128;\n  }\n\n  return n;\n}\n\nfunction crypto_hash(out, m, n) {\n  var hh = new Int32Array(8),\n      hl = new Int32Array(8),\n      x = new Uint8Array(256),\n      i, b = n;\n\n  hh[0] = 0x6a09e667;\n  hh[1] = 0xbb67ae85;\n  hh[2] = 0x3c6ef372;\n  hh[3] = 0xa54ff53a;\n  hh[4] = 0x510e527f;\n  hh[5] = 0x9b05688c;\n  hh[6] = 0x1f83d9ab;\n  hh[7] = 0x5be0cd19;\n\n  hl[0] = 0xf3bcc908;\n  hl[1] = 0x84caa73b;\n  hl[2] = 0xfe94f82b;\n  hl[3] = 0x5f1d36f1;\n  hl[4] = 0xade682d1;\n  hl[5] = 0x2b3e6c1f;\n  hl[6] = 0xfb41bd6b;\n  hl[7] = 0x137e2179;\n\n  crypto_hashblocks_hl(hh, hl, m, n);\n  n %= 128;\n\n  for (i = 0; i < n; i++) x[i] = m[b-n+i];\n  x[n] = 128;\n\n  n = 256-128*(n<112?1:0);\n  x[n-9] = 0;\n  ts64(x, n-8,  (b / 0x20000000) | 0, b << 3);\n  crypto_hashblocks_hl(hh, hl, x, n);\n\n  for (i = 0; i < 8; i++) ts64(out, 8*i, hh[i], hl[i]);\n\n  return 0;\n}\n\nfunction add(p, q) {\n  var a = gf(), b = gf(), c = gf(),\n      d = gf(), e = gf(), f = gf(),\n      g = gf(), h = gf(), t = gf();\n\n  Z(a, p[1], p[0]);\n  Z(t, q[1], q[0]);\n  M(a, a, t);\n  A(b, p[0], p[1]);\n  A(t, q[0], q[1]);\n  M(b, b, t);\n  M(c, p[3], q[3]);\n  M(c, c, D2);\n  M(d, p[2], q[2]);\n  A(d, d, d);\n  Z(e, b, a);\n  Z(f, d, c);\n  A(g, d, c);\n  A(h, b, a);\n\n  M(p[0], e, f);\n  M(p[1], h, g);\n  M(p[2], g, f);\n  M(p[3], e, h);\n}\n\nfunction cswap(p, q, b) {\n  var i;\n  for (i = 0; i < 4; i++) {\n    sel25519(p[i], q[i], b);\n  }\n}\n\nfunction pack(r, p) {\n  var tx = gf(), ty = gf(), zi = gf();\n  inv25519(zi, p[2]);\n  M(tx, p[0], zi);\n  M(ty, p[1], zi);\n  pack25519(r, ty);\n  r[31] ^= par25519(tx) << 7;\n}\n\nfunction scalarmult(p, q, s) {\n  var b, i;\n  set25519(p[0], gf0);\n  set25519(p[1], gf1);\n  set25519(p[2], gf1);\n  set25519(p[3], gf0);\n  for (i = 255; i >= 0; --i) {\n    b = (s[(i/8)|0] >> (i&7)) & 1;\n    cswap(p, q, b);\n    add(q, p);\n    add(p, p);\n    cswap(p, q, b);\n  }\n}\n\nfunction scalarbase(p, s) {\n  var q = [gf(), gf(), gf(), gf()];\n  set25519(q[0], X);\n  set25519(q[1], Y);\n  set25519(q[2], gf1);\n  M(q[3], X, Y);\n  scalarmult(p, q, s);\n}\n\nfunction crypto_sign_keypair(pk, sk, seeded) {\n  var d = new Uint8Array(64);\n  var p = [gf(), gf(), gf(), gf()];\n  var i;\n\n  if (!seeded) randombytes(sk, 32);\n  crypto_hash(d, sk, 32);\n  d[0] &= 248;\n  d[31] &= 127;\n  d[31] |= 64;\n\n  scalarbase(p, d);\n  pack(pk, p);\n\n  for (i = 0; i < 32; i++) sk[i+32] = pk[i];\n  return 0;\n}\n\nvar L = new Float64Array([0xed, 0xd3, 0xf5, 0x5c, 0x1a, 0x63, 0x12, 0x58, 0xd6, 0x9c, 0xf7, 0xa2, 0xde, 0xf9, 0xde, 0x14, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0x10]);\n\nfunction modL(r, x) {\n  var carry, i, j, k;\n  for (i = 63; i >= 32; --i) {\n    carry = 0;\n    for (j = i - 32, k = i - 12; j < k; ++j) {\n      x[j] += carry - 16 * x[i] * L[j - (i - 32)];\n      carry = Math.floor((x[j] + 128) / 256);\n      x[j] -= carry * 256;\n    }\n    x[j] += carry;\n    x[i] = 0;\n  }\n  carry = 0;\n  for (j = 0; j < 32; j++) {\n    x[j] += carry - (x[31] >> 4) * L[j];\n    carry = x[j] >> 8;\n    x[j] &= 255;\n  }\n  for (j = 0; j < 32; j++) x[j] -= carry * L[j];\n  for (i = 0; i < 32; i++) {\n    x[i+1] += x[i] >> 8;\n    r[i] = x[i] & 255;\n  }\n}\n\nfunction reduce(r) {\n  var x = new Float64Array(64), i;\n  for (i = 0; i < 64; i++) x[i] = r[i];\n  for (i = 0; i < 64; i++) r[i] = 0;\n  modL(r, x);\n}\n\n// Note: difference from C - smlen returned, not passed as argument.\nfunction crypto_sign(sm, m, n, sk) {\n  var d = new Uint8Array(64), h = new Uint8Array(64), r = new Uint8Array(64);\n  var i, j, x = new Float64Array(64);\n  var p = [gf(), gf(), gf(), gf()];\n\n  crypto_hash(d, sk, 32);\n  d[0] &= 248;\n  d[31] &= 127;\n  d[31] |= 64;\n\n  var smlen = n + 64;\n  for (i = 0; i < n; i++) sm[64 + i] = m[i];\n  for (i = 0; i < 32; i++) sm[32 + i] = d[32 + i];\n\n  crypto_hash(r, sm.subarray(32), n+32);\n  reduce(r);\n  scalarbase(p, r);\n  pack(sm, p);\n\n  for (i = 32; i < 64; i++) sm[i] = sk[i];\n  crypto_hash(h, sm, n + 64);\n  reduce(h);\n\n  for (i = 0; i < 64; i++) x[i] = 0;\n  for (i = 0; i < 32; i++) x[i] = r[i];\n  for (i = 0; i < 32; i++) {\n    for (j = 0; j < 32; j++) {\n      x[i+j] += h[i] * d[j];\n    }\n  }\n\n  modL(sm.subarray(32), x);\n  return smlen;\n}\n\nfunction unpackneg(r, p) {\n  var t = gf(), chk = gf(), num = gf(),\n      den = gf(), den2 = gf(), den4 = gf(),\n      den6 = gf();\n\n  set25519(r[2], gf1);\n  unpack25519(r[1], p);\n  S(num, r[1]);\n  M(den, num, D);\n  Z(num, num, r[2]);\n  A(den, r[2], den);\n\n  S(den2, den);\n  S(den4, den2);\n  M(den6, den4, den2);\n  M(t, den6, num);\n  M(t, t, den);\n\n  pow2523(t, t);\n  M(t, t, num);\n  M(t, t, den);\n  M(t, t, den);\n  M(r[0], t, den);\n\n  S(chk, r[0]);\n  M(chk, chk, den);\n  if (neq25519(chk, num)) M(r[0], r[0], I);\n\n  S(chk, r[0]);\n  M(chk, chk, den);\n  if (neq25519(chk, num)) return -1;\n\n  if (par25519(r[0]) === (p[31]>>7)) Z(r[0], gf0, r[0]);\n\n  M(r[3], r[0], r[1]);\n  return 0;\n}\n\nfunction crypto_sign_open(m, sm, n, pk) {\n  var i;\n  var t = new Uint8Array(32), h = new Uint8Array(64);\n  var p = [gf(), gf(), gf(), gf()],\n      q = [gf(), gf(), gf(), gf()];\n\n  if (n < 64) return -1;\n\n  if (unpackneg(q, pk)) return -1;\n\n  for (i = 0; i < n; i++) m[i] = sm[i];\n  for (i = 0; i < 32; i++) m[i+32] = pk[i];\n  crypto_hash(h, m, n);\n  reduce(h);\n  scalarmult(p, q, h);\n\n  scalarbase(q, sm.subarray(32));\n  add(p, q);\n  pack(t, p);\n\n  n -= 64;\n  if (crypto_verify_32(sm, 0, t, 0)) {\n    for (i = 0; i < n; i++) m[i] = 0;\n    return -1;\n  }\n\n  for (i = 0; i < n; i++) m[i] = sm[i + 64];\n  return n;\n}\n\nvar crypto_secretbox_KEYBYTES = 32,\n    crypto_secretbox_NONCEBYTES = 24,\n    crypto_secretbox_ZEROBYTES = 32,\n    crypto_secretbox_BOXZEROBYTES = 16,\n    crypto_scalarmult_BYTES = 32,\n    crypto_scalarmult_SCALARBYTES = 32,\n    crypto_box_PUBLICKEYBYTES = 32,\n    crypto_box_SECRETKEYBYTES = 32,\n    crypto_box_BEFORENMBYTES = 32,\n    crypto_box_NONCEBYTES = crypto_secretbox_NONCEBYTES,\n    crypto_box_ZEROBYTES = crypto_secretbox_ZEROBYTES,\n    crypto_box_BOXZEROBYTES = crypto_secretbox_BOXZEROBYTES,\n    crypto_sign_BYTES = 64,\n    crypto_sign_PUBLICKEYBYTES = 32,\n    crypto_sign_SECRETKEYBYTES = 64,\n    crypto_sign_SEEDBYTES = 32,\n    crypto_hash_BYTES = 64;\n\nnacl.lowlevel = {\n  crypto_core_hsalsa20: crypto_core_hsalsa20,\n  crypto_stream_xor: crypto_stream_xor,\n  crypto_stream: crypto_stream,\n  crypto_stream_salsa20_xor: crypto_stream_salsa20_xor,\n  crypto_stream_salsa20: crypto_stream_salsa20,\n  crypto_onetimeauth: crypto_onetimeauth,\n  crypto_onetimeauth_verify: crypto_onetimeauth_verify,\n  crypto_verify_16: crypto_verify_16,\n  crypto_verify_32: crypto_verify_32,\n  crypto_secretbox: crypto_secretbox,\n  crypto_secretbox_open: crypto_secretbox_open,\n  crypto_scalarmult: crypto_scalarmult,\n  crypto_scalarmult_base: crypto_scalarmult_base,\n  crypto_box_beforenm: crypto_box_beforenm,\n  crypto_box_afternm: crypto_box_afternm,\n  crypto_box: crypto_box,\n  crypto_box_open: crypto_box_open,\n  crypto_box_keypair: crypto_box_keypair,\n  crypto_hash: crypto_hash,\n  crypto_sign: crypto_sign,\n  crypto_sign_keypair: crypto_sign_keypair,\n  crypto_sign_open: crypto_sign_open,\n\n  crypto_secretbox_KEYBYTES: crypto_secretbox_KEYBYTES,\n  crypto_secretbox_NONCEBYTES: crypto_secretbox_NONCEBYTES,\n  crypto_secretbox_ZEROBYTES: crypto_secretbox_ZEROBYTES,\n  crypto_secretbox_BOXZEROBYTES: crypto_secretbox_BOXZEROBYTES,\n  crypto_scalarmult_BYTES: crypto_scalarmult_BYTES,\n  crypto_scalarmult_SCALARBYTES: crypto_scalarmult_SCALARBYTES,\n  crypto_box_PUBLICKEYBYTES: crypto_box_PUBLICKEYBYTES,\n  crypto_box_SECRETKEYBYTES: crypto_box_SECRETKEYBYTES,\n  crypto_box_BEFORENMBYTES: crypto_box_BEFORENMBYTES,\n  crypto_box_NONCEBYTES: crypto_box_NONCEBYTES,\n  crypto_box_ZEROBYTES: crypto_box_ZEROBYTES,\n  crypto_box_BOXZEROBYTES: crypto_box_BOXZEROBYTES,\n  crypto_sign_BYTES: crypto_sign_BYTES,\n  crypto_sign_PUBLICKEYBYTES: crypto_sign_PUBLICKEYBYTES,\n  crypto_sign_SECRETKEYBYTES: crypto_sign_SECRETKEYBYTES,\n  crypto_sign_SEEDBYTES: crypto_sign_SEEDBYTES,\n  crypto_hash_BYTES: crypto_hash_BYTES,\n\n  gf: gf,\n  D: D,\n  L: L,\n  pack25519: pack25519,\n  unpack25519: unpack25519,\n  M: M,\n  A: A,\n  S: S,\n  Z: Z,\n  pow2523: pow2523,\n  add: add,\n  set25519: set25519,\n  modL: modL,\n  scalarmult: scalarmult,\n  scalarbase: scalarbase,\n};\n\n/* High-level API */\n\nfunction checkLengths(k, n) {\n  if (k.length !== crypto_secretbox_KEYBYTES) throw new Error('bad key size');\n  if (n.length !== crypto_secretbox_NONCEBYTES) throw new Error('bad nonce size');\n}\n\nfunction checkBoxLengths(pk, sk) {\n  if (pk.length !== crypto_box_PUBLICKEYBYTES) throw new Error('bad public key size');\n  if (sk.length !== crypto_box_SECRETKEYBYTES) throw new Error('bad secret key size');\n}\n\nfunction checkArrayTypes() {\n  for (var i = 0; i < arguments.length; i++) {\n    if (!(arguments[i] instanceof Uint8Array))\n      throw new TypeError('unexpected type, use Uint8Array');\n  }\n}\n\nfunction cleanup(arr) {\n  for (var i = 0; i < arr.length; i++) arr[i] = 0;\n}\n\nnacl.randomBytes = function(n) {\n  var b = new Uint8Array(n);\n  randombytes(b, n);\n  return b;\n};\n\nnacl.secretbox = function(msg, nonce, key) {\n  checkArrayTypes(msg, nonce, key);\n  checkLengths(key, nonce);\n  var m = new Uint8Array(crypto_secretbox_ZEROBYTES + msg.length);\n  var c = new Uint8Array(m.length);\n  for (var i = 0; i < msg.length; i++) m[i+crypto_secretbox_ZEROBYTES] = msg[i];\n  crypto_secretbox(c, m, m.length, nonce, key);\n  return c.subarray(crypto_secretbox_BOXZEROBYTES);\n};\n\nnacl.secretbox.open = function(box, nonce, key) {\n  checkArrayTypes(box, nonce, key);\n  checkLengths(key, nonce);\n  var c = new Uint8Array(crypto_secretbox_BOXZEROBYTES + box.length);\n  var m = new Uint8Array(c.length);\n  for (var i = 0; i < box.length; i++) c[i+crypto_secretbox_BOXZEROBYTES] = box[i];\n  if (c.length < 32) return null;\n  if (crypto_secretbox_open(m, c, c.length, nonce, key) !== 0) return null;\n  return m.subarray(crypto_secretbox_ZEROBYTES);\n};\n\nnacl.secretbox.keyLength = crypto_secretbox_KEYBYTES;\nnacl.secretbox.nonceLength = crypto_secretbox_NONCEBYTES;\nnacl.secretbox.overheadLength = crypto_secretbox_BOXZEROBYTES;\n\nnacl.scalarMult = function(n, p) {\n  checkArrayTypes(n, p);\n  if (n.length !== crypto_scalarmult_SCALARBYTES) throw new Error('bad n size');\n  if (p.length !== crypto_scalarmult_BYTES) throw new Error('bad p size');\n  var q = new Uint8Array(crypto_scalarmult_BYTES);\n  crypto_scalarmult(q, n, p);\n  return q;\n};\n\nnacl.scalarMult.base = function(n) {\n  checkArrayTypes(n);\n  if (n.length !== crypto_scalarmult_SCALARBYTES) throw new Error('bad n size');\n  var q = new Uint8Array(crypto_scalarmult_BYTES);\n  crypto_scalarmult_base(q, n);\n  return q;\n};\n\nnacl.scalarMult.scalarLength = crypto_scalarmult_SCALARBYTES;\nnacl.scalarMult.groupElementLength = crypto_scalarmult_BYTES;\n\nnacl.box = function(msg, nonce, publicKey, secretKey) {\n  var k = nacl.box.before(publicKey, secretKey);\n  return nacl.secretbox(msg, nonce, k);\n};\n\nnacl.box.before = function(publicKey, secretKey) {\n  checkArrayTypes(publicKey, secretKey);\n  checkBoxLengths(publicKey, secretKey);\n  var k = new Uint8Array(crypto_box_BEFORENMBYTES);\n  crypto_box_beforenm(k, publicKey, secretKey);\n  return k;\n};\n\nnacl.box.after = nacl.secretbox;\n\nnacl.box.open = function(msg, nonce, publicKey, secretKey) {\n  var k = nacl.box.before(publicKey, secretKey);\n  return nacl.secretbox.open(msg, nonce, k);\n};\n\nnacl.box.open.after = nacl.secretbox.open;\n\nnacl.box.keyPair = function() {\n  var pk = new Uint8Array(crypto_box_PUBLICKEYBYTES);\n  var sk = new Uint8Array(crypto_box_SECRETKEYBYTES);\n  crypto_box_keypair(pk, sk);\n  return {publicKey: pk, secretKey: sk};\n};\n\nnacl.box.keyPair.fromSecretKey = function(secretKey) {\n  checkArrayTypes(secretKey);\n  if (secretKey.length !== crypto_box_SECRETKEYBYTES)\n    throw new Error('bad secret key size');\n  var pk = new Uint8Array(crypto_box_PUBLICKEYBYTES);\n  crypto_scalarmult_base(pk, secretKey);\n  return {publicKey: pk, secretKey: new Uint8Array(secretKey)};\n};\n\nnacl.box.publicKeyLength = crypto_box_PUBLICKEYBYTES;\nnacl.box.secretKeyLength = crypto_box_SECRETKEYBYTES;\nnacl.box.sharedKeyLength = crypto_box_BEFORENMBYTES;\nnacl.box.nonceLength = crypto_box_NONCEBYTES;\nnacl.box.overheadLength = nacl.secretbox.overheadLength;\n\nnacl.sign = function(msg, secretKey) {\n  checkArrayTypes(msg, secretKey);\n  if (secretKey.length !== crypto_sign_SECRETKEYBYTES)\n    throw new Error('bad secret key size');\n  var signedMsg = new Uint8Array(crypto_sign_BYTES+msg.length);\n  crypto_sign(signedMsg, msg, msg.length, secretKey);\n  return signedMsg;\n};\n\nnacl.sign.open = function(signedMsg, publicKey) {\n  checkArrayTypes(signedMsg, publicKey);\n  if (publicKey.length !== crypto_sign_PUBLICKEYBYTES)\n    throw new Error('bad public key size');\n  var tmp = new Uint8Array(signedMsg.length);\n  var mlen = crypto_sign_open(tmp, signedMsg, signedMsg.length, publicKey);\n  if (mlen < 0) return null;\n  var m = new Uint8Array(mlen);\n  for (var i = 0; i < m.length; i++) m[i] = tmp[i];\n  return m;\n};\n\nnacl.sign.detached = function(msg, secretKey) {\n  var signedMsg = nacl.sign(msg, secretKey);\n  var sig = new Uint8Array(crypto_sign_BYTES);\n  for (var i = 0; i < sig.length; i++) sig[i] = signedMsg[i];\n  return sig;\n};\n\nnacl.sign.detached.verify = function(msg, sig, publicKey) {\n  checkArrayTypes(msg, sig, publicKey);\n  if (sig.length !== crypto_sign_BYTES)\n    throw new Error('bad signature size');\n  if (publicKey.length !== crypto_sign_PUBLICKEYBYTES)\n    throw new Error('bad public key size');\n  var sm = new Uint8Array(crypto_sign_BYTES + msg.length);\n  var m = new Uint8Array(crypto_sign_BYTES + msg.length);\n  var i;\n  for (i = 0; i < crypto_sign_BYTES; i++) sm[i] = sig[i];\n  for (i = 0; i < msg.length; i++) sm[i+crypto_sign_BYTES] = msg[i];\n  return (crypto_sign_open(m, sm, sm.length, publicKey) >= 0);\n};\n\nnacl.sign.keyPair = function() {\n  var pk = new Uint8Array(crypto_sign_PUBLICKEYBYTES);\n  var sk = new Uint8Array(crypto_sign_SECRETKEYBYTES);\n  crypto_sign_keypair(pk, sk);\n  return {publicKey: pk, secretKey: sk};\n};\n\nnacl.sign.keyPair.fromSecretKey = function(secretKey) {\n  checkArrayTypes(secretKey);\n  if (secretKey.length !== crypto_sign_SECRETKEYBYTES)\n    throw new Error('bad secret key size');\n  var pk = new Uint8Array(crypto_sign_PUBLICKEYBYTES);\n  for (var i = 0; i < pk.length; i++) pk[i] = secretKey[32+i];\n  return {publicKey: pk, secretKey: new Uint8Array(secretKey)};\n};\n\nnacl.sign.keyPair.fromSeed = function(seed) {\n  checkArrayTypes(seed);\n  if (seed.length !== crypto_sign_SEEDBYTES)\n    throw new Error('bad seed size');\n  var pk = new Uint8Array(crypto_sign_PUBLICKEYBYTES);\n  var sk = new Uint8Array(crypto_sign_SECRETKEYBYTES);\n  for (var i = 0; i < 32; i++) sk[i] = seed[i];\n  crypto_sign_keypair(pk, sk, true);\n  return {publicKey: pk, secretKey: sk};\n};\n\nnacl.sign.publicKeyLength = crypto_sign_PUBLICKEYBYTES;\nnacl.sign.secretKeyLength = crypto_sign_SECRETKEYBYTES;\nnacl.sign.seedLength = crypto_sign_SEEDBYTES;\nnacl.sign.signatureLength = crypto_sign_BYTES;\n\nnacl.hash = function(msg) {\n  checkArrayTypes(msg);\n  var h = new Uint8Array(crypto_hash_BYTES);\n  crypto_hash(h, msg, msg.length);\n  return h;\n};\n\nnacl.hash.hashLength = crypto_hash_BYTES;\n\nnacl.verify = function(x, y) {\n  checkArrayTypes(x, y);\n  // Zero length arguments are considered not equal.\n  if (x.length === 0 || y.length === 0) return false;\n  if (x.length !== y.length) return false;\n  return (vn(x, 0, y, 0, x.length) === 0) ? true : false;\n};\n\nnacl.setPRNG = function(fn) {\n  randombytes = fn;\n};\n\n(function() {\n  // Initialize PRNG if environment provides CSPRNG.\n  // If not, methods calling randombytes will throw.\n  var crypto = typeof self !== 'undefined' ? (self.crypto || self.msCrypto) : null;\n  if (crypto && crypto.getRandomValues) {\n    // Browsers.\n    var QUOTA = 65536;\n    nacl.setPRNG(function(x, n) {\n      var i, v = new Uint8Array(n);\n      for (i = 0; i < n; i += QUOTA) {\n        crypto.getRandomValues(v.subarray(i, i + Math.min(n - i, QUOTA)));\n      }\n      for (i = 0; i < n; i++) x[i] = v[i];\n      cleanup(v);\n    });\n  } else if (typeof commonjsRequire !== 'undefined') {\n    // Node.js.\n    crypto = require$$0;\n    if (crypto && crypto.randomBytes) {\n      nacl.setPRNG(function(x, n) {\n        var i, v = crypto.randomBytes(n);\n        for (i = 0; i < n; i++) x[i] = v[i];\n        cleanup(v);\n      });\n    }\n  }\n})();\n\n})( module.exports ? module.exports : (self.nacl = self.nacl || {}));\n});\n\nvar naclUtil = createCommonjsModule(function (module) {\n// Written in 2014-2016 by Dmitry Chestnykh and Devi Mandiri.\n// Public domain.\n(function(root, f) {\n  if ( module.exports) module.exports = f();\n  else if (root.nacl) root.nacl.util = f();\n  else {\n    root.nacl = {};\n    root.nacl.util = f();\n  }\n}(commonjsGlobal, function() {\n\n  var util = {};\n\n  function validateBase64(s) {\n    if (!(/^(?:[A-Za-z0-9+\\/]{2}[A-Za-z0-9+\\/]{2})*(?:[A-Za-z0-9+\\/]{2}==|[A-Za-z0-9+\\/]{3}=)?$/.test(s))) {\n      throw new TypeError('invalid encoding');\n    }\n  }\n\n  util.decodeUTF8 = function(s) {\n    if (typeof s !== 'string') throw new TypeError('expected string');\n    var i, d = unescape(encodeURIComponent(s)), b = new Uint8Array(d.length);\n    for (i = 0; i < d.length; i++) b[i] = d.charCodeAt(i);\n    return b;\n  };\n\n  util.encodeUTF8 = function(arr) {\n    var i, s = [];\n    for (i = 0; i < arr.length; i++) s.push(String.fromCharCode(arr[i]));\n    return decodeURIComponent(escape(s.join('')));\n  };\n\n  if (typeof atob === 'undefined') {\n    // Node.js\n\n    if (typeof Buffer.from !== 'undefined') {\n       // Node v6 and later\n      util.encodeBase64 = function (arr) { // v6 and later\n          return Buffer.from(arr).toString('base64');\n      };\n\n      util.decodeBase64 = function (s) {\n        validateBase64(s);\n        return new Uint8Array(Array.prototype.slice.call(Buffer.from(s, 'base64'), 0));\n      };\n\n    } else {\n      // Node earlier than v6\n      util.encodeBase64 = function (arr) { // v6 and later\n        return (new Buffer(arr)).toString('base64');\n      };\n\n      util.decodeBase64 = function(s) {\n        validateBase64(s);\n        return new Uint8Array(Array.prototype.slice.call(new Buffer(s, 'base64'), 0));\n      };\n    }\n\n  } else {\n    // Browsers\n\n    util.encodeBase64 = function(arr) {\n      var i, s = [], len = arr.length;\n      for (i = 0; i < len; i++) s.push(String.fromCharCode(arr[i]));\n      return btoa(s.join(''));\n    };\n\n    util.decodeBase64 = function(s) {\n      validateBase64(s);\n      var i, d = atob(s), b = new Uint8Array(d.length);\n      for (i = 0; i < d.length; i++) b[i] = d.charCodeAt(i);\n      return b;\n    };\n\n  }\n\n  return util;\n\n}));\n});\n\nfunction isObject(obj) {\n  return obj !== undefined && obj !== null && obj.constructor == Object;\n}\n\nfunction addHeader(_msg, flag) {\n  const msg = new Uint8Array(_msg.length + 1);\n\n  const header = new Uint8Array(1);\n  header[0] = flag;\n\n  msg.set(header);\n  msg.set(_msg, header.length);\n\n  return msg;\n}\n\nnaclFast.util = naclUtil;\n\nfunction send({ data, connector }) {\n  if (isObject(data)) {\n    data = JSON.stringify(data);\n  }\n\n  const nonce = new Uint8Array(integerToByteArray(2 * connector.sentCount, 24));\n\n  if (!connector.closed()) {\n    if (connector.sentCount > 1) {\n      let flag = 0;\n\n      if (typeof data == 'string') {\n        flag = 1;\n      }\n\n      const _encodedMessage = flag == 1 ? naclFast.util.decodeUTF8(data) : data;\n      const encodedMessage = addHeader(_encodedMessage, flag);\n\n      const encryptedMessage = naclFast.secretbox(encodedMessage, nonce, connector.sharedSecret);\n\n      if (connector.verbose) {\n        console.log();\n        console.log(`Connector â†’ Sending encrypted message #${connector.sentCount} @ ${connector.address}:`);\n        console.log(data);\n      }\n\n      connector.connection.websocket.send(encryptedMessage);\n    } else {\n      if (connector.verbose) {\n        console.log();\n        console.log(`Connector â†’ Sending message #${connector.sentCount} @ ${connector.address}:`);\n        console.log(data);\n      }\n\n      connector.connection.websocket.send(data);\n    }\n  } else {\n    console.log(`âš ï¸ Warning: \"${data}\" was not sent because connector is not ready`);\n  }\n}\n\nnaclFast.util = naclUtil;\n\nfunction isRpcCallResult(jsonData) {\n  return Object.keys(jsonData).includes('result') || Object.keys(jsonData).includes('error');\n}\n\nfunction wireReceive({ jsonData, encryptedData, rawMessage, wasEncrypted, connector }) {\n  connector.lastMessageAt = Date.now();\n\n  const nonce = new Uint8Array(integerToByteArray(2 * connector.receivedCount + 1, 24));\n\n  if (connector.verbose && !wasEncrypted) {\n    console.log();\n    console.log(`Connector â†’ Received message #${connector.receivedCount} @ ${connector.address}:`);\n  }\n\n  // ðŸ’¡ unencrypted jsonData !\n  if (jsonData) {\n    if (jsonData.jsonrpc) {\n      if (isRpcCallResult(jsonData)) {\n        if (connector.verbose && !wasEncrypted) {\n          console.log('Received plain-text rpc result');\n          console.log(jsonData);\n        }\n\n        connector.rpcClient.jsonrpcMsgReceive(rawMessage);\n      } else {\n        connector.emit('json_rpc', rawMessage);\n      }\n    } else {\n      connector.emit('receive', { jsonData, rawMessage });\n    }\n  } else if (encryptedData) {\n    // ðŸ’¡ encryptedJson data!!\n    if (connector.verbose == 'extra') {\n      console.log('Received bytes:');\n      console.log(encryptedData);\n      console.log(`Decrypting with shared secret ${connector.sharedSecret}...`);\n    }\n\n    const _decryptedMessage = naclFast.secretbox.open(encryptedData, nonce, connector.sharedSecret);\n\n    const flag = _decryptedMessage[0];\n    const decryptedMessage = _decryptedMessage.subarray(1);\n\n    if (flag == 1) {\n      const decodedMessage = naclFast.util.encodeUTF8(decryptedMessage);\n\n      try {\n        const jsonData = JSON.parse(decodedMessage);\n\n        // ðŸ’¡ rpc\n        if (jsonData.jsonrpc) {\n          if (connector.verbose) {\n            console.log('Received and decrypted rpc result:');\n            console.log(jsonData);\n          }\n\n          wireReceive({ jsonData, rawMessage: decodedMessage, wasEncrypted: true, connector });\n        } else if (jsonData.tag) {\n          // ðŸ’¡ tag\n          const msg = jsonData;\n\n          if (msg.tag == 'file_not_found') {\n            connector.emit(msg.tag, { ...msg, ...{ tag: undefined } });\n          } else if (msg.tag == 'binary_start') {\n            connector.emit(msg.tag, { ...msg, ...{ tag: undefined } });\n          } else if (msg.tag == 'binary_end') {\n            connector.emit(msg.tag, { sessionId: msg.sessionId });\n          } else {\n            connector.emit('receive', { jsonData, rawMessage: decodedMessage });\n          }\n        } else if (jsonData.state) {\n          // ðŸ’¡ Initial state sending ... part of Connectome protocol\n          connector.emit('receive_state', jsonData.state);\n        } else if (jsonData.diff) {\n          // ðŸ’¡ Subsequent JSON patch diffs (rfc6902)* ... part of Connectome protocol\n          connector.emit('receive_diff', jsonData.diff);\n        } else if (jsonData.signal) {\n          connector.emit(jsonData.signal, jsonData.data);\n        } else {\n          connector.emit('receive', { jsonData, rawMessage: decodedMessage });\n        }\n      } catch (e) {\n        console.log(\"Couldn't parse json message although the flag was for string ...\");\n        throw e;\n      }\n    } else {\n      const binaryData = decryptedMessage;\n\n      const sessionId = Buffer.from(binaryData.buffer, binaryData.byteOffset, 64).toString();\n      const binaryPayload = Buffer.from(binaryData.buffer, binaryData.byteOffset + 64);\n\n      connector.emit('binary_data', { sessionId, data: binaryPayload });\n    }\n  }\n}\n\nclass Channel extends Eev {\n  constructor(connector) {\n    super();\n\n    this.connector = connector;\n  }\n\n  send(...args) {\n    this.connector.send(...args);\n  }\n}\n\nvar errorCodes = {\n  PARSE_ERROR: -32700,\n  INVALID_REQUEST: -32600,\n  METHOD_NOT_FOUND: -32601,\n  INVALID_PARAMS: -32602,\n  REMOTE_INTERNAL_ERROR: -32603\n};\n\nclass MoleServer {\n  constructor({ transports }) {\n    if (!transports) throw new Error('TRANSPORT_REQUIRED');\n\n    this.transportsToRegister = transports;\n    this.methods = {};\n  }\n\n  setMethodPrefix(methodPrefix) {\n    this.methodPrefix = methodPrefix;\n  }\n\n  expose(methods) {\n    this.methods = methods;\n  }\n\n  registerTransport(transport) {\n    transport.onData(this._processRequest.bind(this, transport));\n  }\n\n  async _processRequest(transport, data) {\n    const requestData = JSON.parse(data);\n    let responseData;\n\n    if (Array.isArray(requestData)) {\n      responseData = await Promise.all(requestData.map(request => this._callMethod(request, transport)));\n    } else {\n      responseData = await this._callMethod(requestData, transport);\n    }\n\n    return JSON.stringify(responseData);\n  }\n\n  async _callMethod(request, transport) {\n    const isRequest = request.hasOwnProperty('method');\n    if (!isRequest) return;\n\n    const { method, params = [], id } = request;\n\n    let methodName = method;\n\n    if (methodName.includes('::')) {\n      const [prefix, name] = methodName.split('::');\n      methodName = name;\n      if (this.methodPrefix && prefix != this.methodPrefix) {\n        return;\n      }\n    }\n\n    const methodNotFound =\n      !this.methods[methodName] ||\n      typeof this.methods[methodName] !== 'function' ||\n      methodName === 'constructor' ||\n      methodName.startsWith('_') ||\n      this.methods[methodName] === Object.prototype[methodName];\n\n    let response = {};\n\n    if (methodNotFound) {\n      response = {\n        jsonrpc: '2.0',\n        id,\n        error: {\n          code: errorCodes.METHOD_NOT_FOUND,\n          message: `Method [${methodName}] not found on remote target object`\n        }\n      };\n    } else {\n      this.currentTransport = transport;\n\n      try {\n        const result = await this.methods[methodName].apply(this.methods, params);\n\n        if (!id) return;\n\n        response = {\n          jsonrpc: '2.0',\n          result: typeof result === 'undefined' ? null : result,\n          id\n        };\n      } catch (e) {\n        console.log(`Exposed RPC method ${method} internal error:`);\n        console.log(e);\n        console.log('Sending this error as a result to calling client ...');\n        response = {\n          jsonrpc: '2.0',\n          error: {\n            code: errorCodes.REMOTE_INTERNAL_ERROR,\n            message: `Method [${method}] internal error: ${e.stack}`\n          },\n          id\n        };\n      }\n    }\n\n    return response;\n  }\n\n  run() {\n    for (const transport of this.transportsToRegister) {\n      this.registerTransport(transport);\n    }\n\n    this.transportsToRegister = [];\n  }\n}\n\nclass Base extends Error {\n  constructor(data = {}) {\n    super();\n\n    if (!data.code) throw new Error('Code required');\n    if (!data.message) throw new Error('Message required');\n\n    this.code = data.code;\n    this.message = data.message;\n  }\n}\n\nclass MethodNotFound extends Base {\n  constructor(message) {\n    super({\n      code: errorCodes.METHOD_NOT_FOUND,\n      message: message || 'Method not found'\n    });\n  }\n}\n\nclass InvalidParams extends Base {\n  constructor() {\n    super({\n      code: errorCodes.INVALID_PARAMS,\n      message: 'Invalid params'\n    });\n  }\n}\n\nclass RemoteInternalError extends Base {\n  constructor(message) {\n    super({\n      code: errorCodes.REMOTE_INTERNAL_ERROR,\n      message: `Error originating at remote endpoint: ${message}` || 'Remote Internal error'\n    });\n  }\n}\n\nclass ParseError extends Base {\n  constructor() {\n    super({\n      code: errorCodes.PARSE_ERROR,\n      message: 'Parse error'\n    });\n  }\n}\n\nclass InvalidRequest extends Base {\n  constructor() {\n    super({\n      code: errorCodes.INVALID_REQUEST,\n      message: 'Invalid request'\n    });\n  }\n}\n\nclass ServerError extends Base {}\n\nclass RequestTimeout extends ServerError {\n  constructor(message, timeout) {\n    super({\n      code: -32001,\n      message: `Request exceeded maximum execution time (${timeout}ms): ${message}`\n    });\n  }\n}\n\nvar X = {\n  Base,\n  MethodNotFound,\n  InvalidRequest,\n  InvalidParams,\n  RemoteInternalError,\n  ServerError,\n  ParseError,\n  RequestTimeout\n};\n\nclass MoleClient {\n  constructor({ transport, requestTimeout = 20000 }) {\n    if (!transport) throw new Error('TRANSPORT_REQUIRED');\n    this.transport = transport;\n\n    this.requestTimeout = requestTimeout;\n\n    this.pendingRequest = {};\n    this.initialized = false;\n  }\n\n  setMethodPrefix(methodPrefix) {\n    this.methodPrefix = methodPrefix;\n  }\n\n  async callMethod(methodName, params) {\n    this._init();\n\n    const method = this.methodPrefix ? `${this.methodPrefix}::${methodName}` : methodName;\n\n    const request = this._makeRequestObject({ method, params });\n\n    return this._sendRequest({ object: request, id: request.id });\n  }\n\n  notify(method, params) {\n    this._init();\n\n    const request = this._makeRequestObject({ method, params, mode: 'notify' });\n    this.transport.sendData(JSON.stringify(request));\n    return true;\n  }\n\n  async runBatch(calls) {\n    const batchId = this._generateId();\n    let onlyNotifications = true;\n\n    const batchRequest = [];\n\n    for (const [method, params, mode] of calls) {\n      const request = this._makeRequestObject({ method, params, mode, batchId });\n\n      if (request.id) {\n        onlyNotifications = false;\n      }\n\n      batchRequest.push(request);\n    }\n\n    if (onlyNotifications) {\n      return this.transport.sendData(JSON.stringify(batchRequest));\n    }\n\n    return this._sendRequest({ object: batchRequest, id: batchId });\n  }\n\n  _init() {\n    if (this.initialized) return;\n\n    this.transport.onData(this._processResponse.bind(this));\n\n    this.initialized = true;\n  }\n\n  _sendRequest({ object, id }) {\n    const data = JSON.stringify(object);\n\n    return new Promise((resolve, reject) => {\n      this.pendingRequest[id] = { resolve, reject, sentObject: object };\n\n      setTimeout(() => {\n        if (this.pendingRequest[id]) {\n          delete this.pendingRequest[id];\n\n          reject(new X.RequestTimeout(data, this.requestTimeout));\n        }\n      }, this.requestTimeout);\n\n      try {\n        this.transport.sendData(data);\n      } catch (e) {\n        delete this.pendingRequest[id];\n        reject(e);\n      }\n    });\n  }\n\n  _processResponse(data) {\n    const response = JSON.parse(data);\n\n    if (Array.isArray(response)) {\n      this._processBatchResponse(response);\n    } else {\n      this._processSingleCallResponse(response);\n    }\n  }\n\n  _processSingleCallResponse(response) {\n    const isSuccessfulResponse = response.hasOwnProperty('result') || false;\n    const isErrorResponse = response.hasOwnProperty('error');\n\n    if (!isSuccessfulResponse && !isErrorResponse) return;\n\n    const resolvers = this.pendingRequest[response.id];\n    delete this.pendingRequest[response.id];\n\n    if (!resolvers) return;\n\n    if (isSuccessfulResponse) {\n      resolvers.resolve(response.result);\n    } else if (isErrorResponse) {\n      const errorObject = this._makeErrorObject(response.error);\n      resolvers.reject(errorObject);\n    }\n  }\n\n  _processBatchResponse(responses) {\n    let batchId;\n    const responseById = {};\n    const errorsWithoutId = [];\n\n    for (const response of responses) {\n      if (response.id) {\n        if (!batchId) {\n          batchId = response.id.split('|')[0];\n        }\n\n        responseById[response.id] = response;\n      } else if (response.error) {\n        errorsWithoutId.push(response.error);\n      }\n    }\n\n    if (!this.pendingRequest[batchId]) return;\n\n    const { sentObject, resolve } = this.pendingRequest[batchId];\n    delete this.pendingRequest[batchId];\n\n    const batchResults = [];\n    let errorIdx = 0;\n    for (const request of sentObject) {\n      if (!request.id) {\n        batchResults.push(null);\n        continue;\n      }\n\n      const response = responseById[request.id];\n\n      if (response) {\n        const isSuccessfulResponse = response.hasOwnProperty('result') || false;\n\n        if (isSuccessfulResponse) {\n          batchResults.push({\n            success: true,\n            result: response.result\n          });\n        } else {\n          batchResults.push({\n            success: false,\n            result: this._makeErrorObject(response.error)\n          });\n        }\n      } else {\n        batchResults.push({\n          success: false,\n          error: this._makeErrorObject(errorsWithoutId[errorIdx])\n        });\n        errorIdx++;\n      }\n    }\n\n    resolve(batchResults);\n  }\n\n  _makeRequestObject({ method, params, mode, batchId }) {\n    const request = {\n      jsonrpc: '2.0',\n      method\n    };\n\n    if (params && params.length) {\n      request.params = params;\n    }\n\n    if (mode !== 'notify') {\n      request.id = batchId ? `${batchId}|${this._generateId()}` : this._generateId();\n    }\n\n    return request;\n  }\n\n  _makeErrorObject(errorData) {\n    const errorBuilder = {\n      [errorCodes.METHOD_NOT_FOUND]: () => {\n        return new X.MethodNotFound(errorData.message);\n      },\n      [errorCodes.REMOTE_INTERNAL_ERROR]: () => {\n        return new X.RemoteInternalError(errorData.message);\n      }\n    }[errorData.code];\n\n    return errorBuilder();\n  }\n\n  _generateId() {\n    const alphabet = 'bjectSymhasOwnProp-0123456789ABCDEFGHIJKLMNQRTUVWXYZ_dfgiklquvxz';\n    let size = 10;\n    let id = '';\n\n    while (0 < size--) {\n      id += alphabet[(Math.random() * 64) | 0];\n    }\n\n    return id;\n  }\n}\n\nfunction proxify(moleClient) {\n  const callMethodProxy = proxifyOwnMethod(moleClient.callMethod.bind(moleClient));\n  const notifyProxy = proxifyOwnMethod(moleClient.notify.bind(moleClient));\n\n  return new Proxy(moleClient, {\n    get(target, methodName) {\n      if (methodName === 'notify') {\n        return notifyProxy;\n      }\n\n      if (methodName === 'callMethod') {\n        return callMethodProxy;\n      }\n\n      if (methodName === 'then') {\n        return;\n      }\n\n      if (methodName === 'setMethodPrefix') {\n        return (...params) => moleClient.setMethodPrefix(params);\n      }\n\n      return (...params) => target.callMethod.call(target, methodName, params);\n    }\n  });\n}\n\nfunction proxifyOwnMethod(ownMethod) {\n  return new Proxy(ownMethod, {\n    get(target, methodName) {\n      return (...params) => target.call(null, methodName, params);\n    },\n    apply(target, _, args) {\n      return target.apply(null, args);\n    }\n  });\n}\n\nclass MoleClientProxified extends MoleClient {\n  constructor(...args) {\n    super(...args);\n    return proxify(this);\n  }\n}\n\nclass TransportClientChannel {\n  constructor(channel) {\n    this.channel = channel;\n  }\n\n  onData(callback) {\n    this.channel.on('json_rpc', callback);\n  }\n\n  sendData(data) {\n    this.channel.send(data);\n  }\n}\n\nclass TransportServerChannel {\n  constructor(channel) {\n    this.channel = channel;\n  }\n\n  onData(callback) {\n    this.channel.on('json_rpc', async reqData => {\n      const resData = await callback(reqData);\n      if (!resData) return;\n\n      this.channel.send(resData);\n    });\n  }\n}\n\nvar mole = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  MoleServer: MoleServer,\n  MoleClient: MoleClient,\n  MoleClientProxified: MoleClientProxified,\n  ClientTransport: TransportClientChannel,\n  ServerTransport: TransportServerChannel\n});\n\nclass ConnectomeError extends Error {\n  constructor(message, errorCode) {\n    super(message);\n\n    this.name = this.constructor.name;\n\n    this.errorCode = errorCode;\n  }\n\n  errorCode() {\n    return this.errorCode;\n  }\n}\n\nconst { MoleClient: MoleClient$1, ClientTransport } = mole;\n\nclass SpecificRpcClient {\n  constructor(connectorOrServersideChannel, methodPrefix, requestTimeout) {\n    this.moleChannel = new Channel(connectorOrServersideChannel);\n    this.methodPrefix = methodPrefix;\n\n    this.connectorOrServersideChannel = connectorOrServersideChannel;\n\n    this.client = new MoleClient$1({\n      requestTimeout,\n      transport: new ClientTransport(this.moleChannel)\n    });\n  }\n\n  jsonrpcMsgReceive(stringMessage) {\n    this.moleChannel.emit('json_rpc', stringMessage);\n  }\n\n  call(methodName, params) {\n    if (this.connectorOrServersideChannel.closed()) {\n      return new Promise((success, reject) => {\n        reject(\n          new ConnectomeError(\n            `Method call [${this.methodPrefix}::${methodName}] on closed channel or connector ignored. Please add a check for closed channel in your code.`,\n            'CLOSED_CHANNEL'\n          )\n        );\n      });\n    }\n\n    return this.client.callMethod(`${this.methodPrefix}::${methodName}`, params);\n  }\n}\n\nconst DEFAULT_REQUEST_TIMEOUT = 5000;\n\nclass RpcClient {\n  constructor(connectorOrServersideChannel, requestTimeout) {\n    this.connectorOrServersideChannel = connectorOrServersideChannel;\n    this.remoteObjects = {};\n    this.requestTimeout = requestTimeout || DEFAULT_REQUEST_TIMEOUT;\n  }\n\n  remoteObject(methodPrefix) {\n    const remoteObject = this.remoteObjects[methodPrefix];\n    if (!remoteObject) {\n      this.remoteObjects[methodPrefix] = new SpecificRpcClient(this.connectorOrServersideChannel, methodPrefix, this.requestTimeout);\n    }\n    return this.remoteObjects[methodPrefix];\n  }\n\n  jsonrpcMsgReceive(stringMessage) {\n    for (const remoteObject of Object.values(this.remoteObjects)) {\n      remoteObject.jsonrpcMsgReceive(stringMessage);\n    }\n  }\n}\n\nclass RPCTarget {\n  constructor({ serversideChannel, serverMethods, methodPrefix }) {\n    const transports = [new TransportServerChannel(serversideChannel)];\n    this.server = new MoleServer({ transports });\n    this.server.expose(serverMethods);\n    this.server.setMethodPrefix(methodPrefix);\n    this.server.run();\n  }\n}\n\nnaclFast.util = naclUtil;\n\nfunction newKeypair() {\n  const keys = naclFast.box.keyPair();\n  const publicKeyHex = bufferToHex(keys.publicKey);\n  const privateKeyHex = bufferToHex(keys.secretKey);\n\n  return { privateKey: keys.secretKey, publicKey: keys.publicKey, privateKeyHex, publicKeyHex };\n}\n\nnaclFast.util = naclUtil;\n\nclass Connector extends Eev {\n  constructor({\n    address,\n    protocol,\n    lane,\n    keypair = newKeypair(),\n    rpcRequestTimeout,\n    verbose = false,\n    tag\n  } = {}) {\n    super();\n\n    this.protocol = protocol;\n    this.lane = lane;\n\n    const { privateKey: clientPrivateKey, publicKey: clientPublicKey } = keypair;\n\n    this.clientPrivateKey = clientPrivateKey;\n    this.clientPublicKey = clientPublicKey;\n    this.clientPublicKeyHex = bufferToHex(clientPublicKey);\n\n    this.rpcClient = new RpcClient(this, rpcRequestTimeout);\n\n    this.address = address;\n    this.verbose = verbose;\n    this.tag = tag;\n\n    this.sentCount = 0;\n    this.receivedCount = 0;\n\n    this.successfulConnectsCount = 0;\n  }\n\n  send(data) {\n    send({ data, connector: this });\n    this.sentCount += 1;\n  }\n\n  signal(signal, data) {\n    this.send({ signal, data });\n  }\n\n  wireReceive({ jsonData, encryptedData, rawMessage }) {\n    wireReceive({ jsonData, encryptedData, rawMessage, connector: this });\n    this.receivedCount += 1;\n  }\n\n  isReady() {\n    return this.ready;\n  }\n\n  closed() {\n    return !this.connected;\n  }\n\n  decommission() {\n    this.decommissioned = true;\n  }\n\n  connectStatus(connected) {\n    if (connected) {\n      this.sentCount = 0;\n      this.receivedCount = 0;\n\n      this.connected = true;\n\n      this.successfulConnectsCount += 1;\n\n      const num = this.successfulConnectsCount;\n\n      this.diffieHellman({\n        clientPrivateKey: this.clientPrivateKey,\n        clientPublicKey: this.clientPublicKey,\n        lane: this.lane\n      })\n        .then(({ sharedSecret, sharedSecretHex }) => {\n          this.ready = true;\n          this.connectedAt = Date.now();\n\n          this.emit('ready', { sharedSecret, sharedSecretHex });\n\n          console.log(\n            `âœ“ Ready: DMT Protocol Connector [ ${this.address} (${this.tag}) Â· ${this.protocol}/${this.lane} ]`\n          );\n        })\n        .catch(e => {\n          if (num == this.successfulConnectsCount) {\n            console.log(e);\n            console.log('dropping connection and retrying again');\n            this.connection.terminate();\n          }\n        });\n    } else {\n      let justDisconnected;\n      if (this.connected) {\n        justDisconnected = true;\n      }\n\n      if (this.connected == undefined) {\n        console.log(\n          `Connector ${this.address} (${this.tag}) was not able to connect at first try, setting READY to false`\n        );\n      }\n\n      this.connected = false;\n      this.ready = false;\n      delete this.connectedAt;\n\n      if (justDisconnected) {\n        this.emit('disconnect');\n      }\n    }\n  }\n\n  remoteObject(handle) {\n    return {\n      call: (methodName, params = []) => {\n        return this.rpcClient.remoteObject(handle).call(methodName, listify(params));\n      }\n    };\n  }\n\n  attachObject(handle, obj) {\n    new RPCTarget({ serversideChannel: this, serverMethods: obj, methodPrefix: handle });\n  }\n\n  diffieHellman({ clientPrivateKey, clientPublicKey, lane }) {\n    return new Promise((success, reject) => {\n      this.remoteObject('Auth')\n        .call('exchangePubkeys', { pubkey: this.clientPublicKeyHex })\n        .then(remotePubkeyHex => {\n          const sharedSecret = naclFast.box.before(hexToBuffer(remotePubkeyHex), clientPrivateKey);\n          const sharedSecretHex = bufferToHex(sharedSecret);\n          this.sharedSecret = sharedSecret;\n\n          this._remotePubkeyHex = remotePubkeyHex;\n\n          success({ sharedSecret, sharedSecretHex });\n\n          if (this.verbose) {\n            console.log('Established shared secret through diffie-hellman exchange:');\n            console.log(sharedSecretHex);\n          }\n\n          this.remoteObject('Auth')\n            .call('finalizeHandshake', { lane })\n            .then(() => {})\n            .catch(reject);\n        })\n        .catch(reject);\n    });\n  }\n\n  clientPubkey() {\n    return this.clientPublicKeyHex;\n  }\n\n  remotePubkeyHex() {\n    return this._remotePubkeyHex;\n  }\n\n  remoteAddress() {\n    return this.address;\n  }\n}\n\nconst browser = typeof window !== 'undefined';\n\nfunction determineEndpoint({ endpoint, address, port }) {\n  // if endpoint is specified with \"/something\", it is rewritten as ws[s]://origin/something\n  if (browser && endpoint && endpoint.startsWith('/')) {\n    const wsProtocol = window.location.protocol.includes('s') ? 'wss' : 'ws';\n    endpoint = `${wsProtocol}://${window.location.host}${endpoint}`;\n  }\n\n  // if no endpoint is specified then use address and port if provided, otherwise use origin (in browser)\n  // in nodejs address and port have to be provided\n  if (!endpoint) {\n    if (browser) {\n      address = address || window.location.hostname;\n      const wsProtocol = window.location.protocol.includes('s') ? 'wss' : 'ws';\n\n      endpoint = `${wsProtocol}://${address}`;\n\n      if (port) {\n        endpoint = `${endpoint}:${port}`;\n      } else if (window.location.port) {\n        endpoint = `${endpoint}:${window.location.port}`;\n      }\n    } else {\n      endpoint = `ws://${address}:${port}`;\n    }\n  }\n\n  // if endpoint is provided directly and it didn't start with '/', then use this directly\n  return endpoint;\n}\n\nconst browser$1 = typeof window !== 'undefined';\n\nconst wsCONNECTING = 0;\nconst wsOPEN = 1;\n\nfunction establishAndMaintainConnection(\n  { endpoint, address, port, protocol, lane, keypair, remotePubkey, rpcRequestTimeout, verbose, tag },\n  { WebSocket, log }\n) {\n  endpoint = determineEndpoint({ endpoint, address, port });\n\n  const connector = new Connector({\n    address: endpoint,\n    protocol,\n    lane,\n    rpcRequestTimeout,\n    keypair,\n    verbose,\n    tag\n  });\n\n  if (connector.connection) {\n    return connector;\n  }\n\n  connector.connection = {\n    terminate() {\n      this.websocket._removeAllCallbacks();\n      this.websocket.close();\n      connector.connectStatus(false);\n    },\n    endpoint,\n    checkTicker: 0\n  };\n\n  setTimeout(() => tryReconnect({ connector, endpoint, protocol }, { WebSocket, log }), 10);\n\n  const connectionCheckInterval = 1500;\n  const callback = () => {\n    if (!connector.decommissioned) {\n      checkConnection({ connector, endpoint, protocol }, { WebSocket, log });\n      setTimeout(callback, connectionCheckInterval);\n    }\n  };\n\n  setTimeout(callback, connectionCheckInterval);\n\n  return connector;\n}\n\nfunction checkConnection({ connector, endpoint, protocol }, { WebSocket, log }) {\n  const conn = connector.connection;\n\n  if (connectionIdle(conn) || connector.decommissioned) {\n    if (connectionIdle(conn)) {\n      log(\n        `Connection ${connector.connection.endpoint} became idle, closing websocket ${conn.websocket.rand}`\n      );\n    } else {\n      log(\n        `Connection ${connector.connection.endpoint} decommisioned, closing websocket ${conn.websocket.rand}, will not retry again `\n      );\n    }\n\n    conn.terminate();\n    return;\n  }\n\n  const connected = socketConnected(conn);\n  if (connected) {\n    conn.websocket.send('ping');\n  } else {\n    if (connector.connected == undefined) {\n      log(`Setting connector status to FALSE because connector.connected is undefined`);\n      connector.connectStatus(false);\n    }\n\n    tryReconnect({ connector, endpoint, protocol }, { WebSocket, log });\n  }\n\n  conn.checkTicker += 1;\n}\n\nfunction tryReconnect({ connector, endpoint, protocol }, { WebSocket, log }) {\n  const conn = connector.connection;\n\n  if (conn.currentlyTryingWS && conn.currentlyTryingWS.readyState == wsCONNECTING) {\n    if (conn.currentlyTryingWS._waitForConnectCounter == 3) {\n      conn.currentlyTryingWS._removeAllCallbacks();\n      conn.currentlyTryingWS.close();\n    } else {\n      conn.currentlyTryingWS._waitForConnectCounter += 1;\n      return;\n    }\n  }\n\n  const ws = new WebSocket(endpoint, protocol);\n\n  conn.currentlyTryingWS = ws;\n  conn.currentlyTryingWS._waitForConnectCounter = 0;\n\n  ws.rand = Math.random();\n\n  if (browser$1) {\n    ws.binaryType = 'arraybuffer';\n  }\n\n  if (!browser$1) {\n    ws.on('error', error => {});\n  }\n\n  const openCallback = m => {\n    conn.currentlyTryingWS = null;\n    conn.checkTicker = 0;\n    addSocketListeners({ ws, connector, openCallback }, { log });\n    conn.websocket = ws;\n    connector.connectStatus(true);\n  };\n\n  ws._removeAllCallbacks = () => {\n    ws.removeEventListener('open', openCallback);\n  };\n\n  if (browser$1) {\n    ws.addEventListener('open', openCallback);\n  } else {\n    ws.on('open', openCallback);\n  }\n}\n\nfunction addSocketListeners({ ws, connector, openCallback }, { log }) {\n  const conn = connector.connection;\n\n  const errorCallback = m => {\n    log(`websocket ${ws.rand} conn ${connector.connection.endpoint} error`);\n    log(m);\n  };\n\n  const closeCallback = m => {\n    connector.connectStatus(false);\n  };\n\n  const messageCallback = _msg => {\n    conn.checkTicker = 0;\n\n    const msg = browser$1 ? _msg.data : _msg;\n\n    if (msg == 'pong') {\n      return;\n    }\n\n    let jsonData;\n\n    try {\n      jsonData = JSON.parse(msg);\n    } catch (e) {}\n\n    if (jsonData) {\n      connector.wireReceive({ jsonData, rawMessage: msg });\n    } else {\n      const encryptedData = browser$1 ? new Uint8Array(msg) : msg;\n      connector.wireReceive({ encryptedData });\n    }\n  };\n\n  ws._removeAllCallbacks = () => {\n    ws.removeEventListener('error', errorCallback);\n    ws.removeEventListener('close', closeCallback);\n    ws.removeEventListener('message', messageCallback);\n\n    ws.removeEventListener('open', openCallback);\n  };\n\n  if (browser$1) {\n    ws.addEventListener('error', errorCallback);\n    ws.addEventListener('close', closeCallback);\n    ws.addEventListener('message', messageCallback);\n  } else {\n    ws.on('error', errorCallback);\n    ws.on('close', closeCallback);\n    ws.on('message', messageCallback);\n  }\n}\n\nfunction socketConnected(conn) {\n  return conn.websocket && conn.websocket.readyState == wsOPEN;\n}\n\nfunction connectionIdle(conn) {\n  return socketConnected(conn) && conn.checkTicker > 5;\n}\n\nfunction establishAndMaintainConnection$1(opts) {\n  return establishAndMaintainConnection(opts, { WebSocket, log });\n}\n\nfunction promiseTimeout(ms, promise) {\n  const timeout = new Promise((resolve, reject) => {\n    const id = setTimeout(() => {\n      clearTimeout(id);\n      reject(new Error(`Timed out in ${ms} ms.`));\n    }, ms);\n  });\n\n  return Promise.race([promise, timeout]);\n}\n\nclass ConditionsChecker {\n  constructor(num, callback) {\n    this.num = num;\n    this.callback = callback;\n\n    this.counter = 0;\n  }\n\n  oneConditionFulfilled() {\n    this.counter += 1;\n\n    if (this.counter == this.num) {\n      this.callback();\n    }\n  }\n}\n\nfunction requireConditions(num, callback) {\n  return new ConditionsChecker(num, callback);\n}\n\nvar index = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  promiseTimeout: promiseTimeout,\n  requireConditions: requireConditions\n});\n\nvar browser$2 = function () {\n  throw new Error(\n    'ws does not work in the browser. Browser clients must use the native ' +\n      'WebSocket object'\n  );\n};\n\nfunction establishAndMaintainConnection$2(opts) {\n  return establishAndMaintainConnection(opts, { WebSocket: browser$2, log: opts.log || log });\n}\n\nconst WAIT_TIME = 1000;\n\nfunction waitAndContinue(options) {\n  return new Promise((success, reject) => {\n    const connector = establishAndMaintainConnection$2(options);\n    const connectedPromise = new Promise(success => connector.on('ready', success));\n\n    promiseTimeout(WAIT_TIME, connectedPromise)\n      .then(() => success(connector))\n      .catch(() => success(connector));\n  });\n}\n\nfunction compareValues(key, key2) {\n\n  function _comparison(a, b, key) {\n    if (!a.hasOwnProperty(key) || !b.hasOwnProperty(key)) {\n      return 0;\n    }\n\n    const varA = typeof a[key] === 'string' ? a[key].toUpperCase() : a[key];\n    const varB = typeof b[key] === 'string' ? b[key].toUpperCase() : b[key];\n\n    let comparison = 0;\n    if (varA > varB) {\n      comparison = 1;\n    } else if (varA < varB) {\n      comparison = -1;\n    }\n\n    return comparison;\n  }\n\n  return function innerSort(a, b) {\n    let comparison = _comparison(a, b, key);\n\n    if (comparison == 0 && key2) {\n      comparison = _comparison(a, b, key2);\n    }\n\n    return  comparison;\n  };\n}\n\n// ðŸ’¡ we use Emitter inside ConnectedStore to emit 'ready' event\n// ðŸ’¡ and inside MultiConnectedStore to also emit a few events\n\nclass ReadableStore extends Eev {\n  constructor(initialState) {\n    super();\n\n    this.state = initialState;\n\n    this.subscriptions = [];\n  }\n\n  get() {\n    return this.state;\n  }\n\n  subscribe(handler) {\n    this.subscriptions.push(handler);\n\n    handler(this.state);\n\n    return () => {\n      this.subscriptions = this.subscriptions.filter(sub => sub !== handler);\n    };\n  }\n\n  announceStateChange() {\n    this.subscriptions.forEach(handler => handler(this.state));\n  }\n}\n\nclass ConnectorPool extends ReadableStore {\n  constructor(options) {\n    super({ connectionList: [] });\n\n    this.options = options;\n\n    this.connectors = {};\n    this.isPreparingConnector = {};\n  }\n\n  getConnector({ address, port, tag }) {\n    const addressWithPort = `${address}:${port}`;\n\n    if (!address || !port) {\n      throw new Error(`Must provide both address and port: ${addressWithPort}`);\n    }\n\n    return new Promise((success, reject) => {\n      if (this.connectors[addressWithPort]) {\n        success(this.connectors[addressWithPort]);\n        return;\n      }\n\n      if (this.isPreparingConnector[addressWithPort]) {\n        setTimeout(() => {\n          this.getConnector({ address, port, tag }).then(success);\n        }, 10);\n      } else {\n        this.isPreparingConnector[addressWithPort] = true;\n\n        waitAndContinue({ ...this.options, ...{ address, port, tag } }).then(connector => {\n          this.connectors[addressWithPort] = connector;\n          this.isPreparingConnector[addressWithPort] = false;\n\n          // part of reactive outgoingConnections feature :: ConnectorPool as reactive (Readable)Store\n          this.setupConnectorReactivity(connector);\n\n          success(connector);\n        });\n      }\n    });\n  }\n\n  // part of reactive outgoingConnections feature :: ConnectorPool as reactive (Readable)Store\n  // âš ï¸ lastMessageAt IS NOT REACTIVE !!\n  setupConnectorReactivity(connector) {\n    this.publishState();\n\n    connector.on('ready', () => {\n      this.publishState();\n    });\n\n    connector.on('disconnect', () => {\n      this.publishState();\n    });\n  }\n\n  // part of reactive outgoingConnections feature :: ConnectorPool as reactive (Readable)Store\n  publishState() {\n    const connectionList = this.connectionList();\n\n    // we delete attributes that are not reactive\n    // we won't publish new state on each new message just for statistics\n    // too much state syncing...\n    // but this can read on request, for example via CLI:\n    // dmt connections\n    // there the lastMessageAt attribute will be included\n    connectionList.forEach(connection => {\n      delete connection.lastMessageAt;\n      delete connection.readyState; // maybe we'll make it reactive but we probably don't need that either\n    });\n\n    // this is the same as \"set()\" in writable store\n    this.state = { connectionList };\n    this.announceStateChange();\n  }\n\n  // ðŸ’¡ this method here is outgoing connections list\n  // ðŸ’¡ âš ï¸ and it has to have THE SAME properties as wsServer::enumerateConnections\n  // ðŸ’¡ (which is used to get incoming connections list)\n  connectionList() {\n    const list = Object.entries(this.connectors).map(([address, conn]) => {\n      return {\n        address,\n        protocol: conn.protocol,\n        lane: conn.lane,\n        remotePubkeyHex: conn.remotePubkeyHex(),\n        operational: conn.isReady(), // ðŸ’¡ connected and agreed on shared key ... used to determine if we can already send via connector or \"we wait for the next rouund\"\n        //ðŸ’¡ informative-nature only, not used for distributed system logic\n        readyState: conn.connection && conn.connection.websocket ? conn.connection.websocket.readyState : '?', // ðŸ’¡ underlying ws-connection original 'readyState' -- useful only for debugging purposes, otherwise it's just informative\n        connectedAt: conn.connectedAt,\n        lastMessageAt: conn.lastMessageAt\n      };\n    });\n\n    const order = compareValues('protocol', 'lane');\n    return list.sort(order);\n  }\n}\n\nexports.ConnectorPool = ConnectorPool;\nexports.concurrency = index;\nexports.connectBrowser = establishAndMaintainConnection$1;\nexports.newClientKeypair = newKeypair;\n","/*!\r\n * https://github.com/Starcounter-Jack/JSON-Patch\r\n * (c) 2017 Joachim Wester\r\n * MIT license\r\n */\r\nvar __extends = (undefined && undefined.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar _hasOwnProperty = Object.prototype.hasOwnProperty;\r\nfunction hasOwnProperty(obj, key) {\r\n    return _hasOwnProperty.call(obj, key);\r\n}\r\nfunction _objectKeys(obj) {\r\n    if (Array.isArray(obj)) {\r\n        var keys = new Array(obj.length);\r\n        for (var k = 0; k < keys.length; k++) {\r\n            keys[k] = \"\" + k;\r\n        }\r\n        return keys;\r\n    }\r\n    if (Object.keys) {\r\n        return Object.keys(obj);\r\n    }\r\n    var keys = [];\r\n    for (var i in obj) {\r\n        if (hasOwnProperty(obj, i)) {\r\n            keys.push(i);\r\n        }\r\n    }\r\n    return keys;\r\n}\r\n/**\r\n* Deeply clone the object.\r\n* https://jsperf.com/deep-copy-vs-json-stringify-json-parse/25 (recursiveDeepCopy)\r\n* @param  {any} obj value to clone\r\n* @return {any} cloned obj\r\n*/\r\nfunction _deepClone(obj) {\r\n    switch (typeof obj) {\r\n        case \"object\":\r\n            return JSON.parse(JSON.stringify(obj)); //Faster than ES5 clone - http://jsperf.com/deep-cloning-of-objects/5\r\n        case \"undefined\":\r\n            return null; //this is how JSON.stringify behaves for array items\r\n        default:\r\n            return obj; //no need to clone primitives\r\n    }\r\n}\r\n//3x faster than cached /^\\d+$/.test(str)\r\nfunction isInteger(str) {\r\n    var i = 0;\r\n    var len = str.length;\r\n    var charCode;\r\n    while (i < len) {\r\n        charCode = str.charCodeAt(i);\r\n        if (charCode >= 48 && charCode <= 57) {\r\n            i++;\r\n            continue;\r\n        }\r\n        return false;\r\n    }\r\n    return true;\r\n}\r\n/**\r\n* Escapes a json pointer path\r\n* @param path The raw pointer\r\n* @return the Escaped path\r\n*/\r\nfunction escapePathComponent(path) {\r\n    if (path.indexOf('/') === -1 && path.indexOf('~') === -1)\r\n        return path;\r\n    return path.replace(/~/g, '~0').replace(/\\//g, '~1');\r\n}\r\n/**\r\n * Unescapes a json pointer path\r\n * @param path The escaped pointer\r\n * @return The unescaped path\r\n */\r\nfunction unescapePathComponent(path) {\r\n    return path.replace(/~1/g, '/').replace(/~0/g, '~');\r\n}\r\n/**\r\n* Recursively checks whether an object has any undefined values inside.\r\n*/\r\nfunction hasUndefined(obj) {\r\n    if (obj === undefined) {\r\n        return true;\r\n    }\r\n    if (obj) {\r\n        if (Array.isArray(obj)) {\r\n            for (var i = 0, len = obj.length; i < len; i++) {\r\n                if (hasUndefined(obj[i])) {\r\n                    return true;\r\n                }\r\n            }\r\n        }\r\n        else if (typeof obj === \"object\") {\r\n            var objKeys = _objectKeys(obj);\r\n            var objKeysLength = objKeys.length;\r\n            for (var i = 0; i < objKeysLength; i++) {\r\n                if (hasUndefined(obj[objKeys[i]])) {\r\n                    return true;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return false;\r\n}\r\nfunction patchErrorMessageFormatter(message, args) {\r\n    var messageParts = [message];\r\n    for (var key in args) {\r\n        var value = typeof args[key] === 'object' ? JSON.stringify(args[key], null, 2) : args[key]; // pretty print\r\n        if (typeof value !== 'undefined') {\r\n            messageParts.push(key + \": \" + value);\r\n        }\r\n    }\r\n    return messageParts.join('\\n');\r\n}\r\nvar PatchError = /** @class */ (function (_super) {\r\n    __extends(PatchError, _super);\r\n    function PatchError(message, name, index, operation, tree) {\r\n        var _newTarget = this.constructor;\r\n        var _this = _super.call(this, patchErrorMessageFormatter(message, { name: name, index: index, operation: operation, tree: tree })) || this;\r\n        _this.name = name;\r\n        _this.index = index;\r\n        _this.operation = operation;\r\n        _this.tree = tree;\r\n        Object.setPrototypeOf(_this, _newTarget.prototype); // restore prototype chain, see https://stackoverflow.com/a/48342359\r\n        _this.message = patchErrorMessageFormatter(message, { name: name, index: index, operation: operation, tree: tree });\r\n        return _this;\r\n    }\r\n    return PatchError;\r\n}(Error));\n\nvar JsonPatchError = PatchError;\nvar deepClone = _deepClone;\n/* We use a Javascript hash to store each\n function. Each hash entry (property) uses\n the operation identifiers specified in rfc6902.\n In this way, we can map each patch operation\n to its dedicated function in efficient way.\n */\n/* The operations applicable to an object */\nvar objOps = {\n    add: function (obj, key, document) {\n        obj[key] = this.value;\n        return { newDocument: document };\n    },\n    remove: function (obj, key, document) {\n        var removed = obj[key];\n        delete obj[key];\n        return { newDocument: document, removed: removed };\n    },\n    replace: function (obj, key, document) {\n        var removed = obj[key];\n        obj[key] = this.value;\n        return { newDocument: document, removed: removed };\n    },\n    move: function (obj, key, document) {\n        /* in case move target overwrites an existing value,\n        return the removed value, this can be taxing performance-wise,\n        and is potentially unneeded */\n        var removed = getValueByPointer(document, this.path);\n        if (removed) {\n            removed = _deepClone(removed);\n        }\n        var originalValue = applyOperation(document, { op: \"remove\", path: this.from }).removed;\n        applyOperation(document, { op: \"add\", path: this.path, value: originalValue });\n        return { newDocument: document, removed: removed };\n    },\n    copy: function (obj, key, document) {\n        var valueToCopy = getValueByPointer(document, this.from);\n        // enforce copy by value so further operations don't affect source (see issue #177)\n        applyOperation(document, { op: \"add\", path: this.path, value: _deepClone(valueToCopy) });\n        return { newDocument: document };\n    },\n    test: function (obj, key, document) {\n        return { newDocument: document, test: _areEquals(obj[key], this.value) };\n    },\n    _get: function (obj, key, document) {\n        this.value = obj[key];\n        return { newDocument: document };\n    }\n};\n/* The operations applicable to an array. Many are the same as for the object */\nvar arrOps = {\n    add: function (arr, i, document) {\n        if (isInteger(i)) {\n            arr.splice(i, 0, this.value);\n        }\n        else { // array props\n            arr[i] = this.value;\n        }\n        // this may be needed when using '-' in an array\n        return { newDocument: document, index: i };\n    },\n    remove: function (arr, i, document) {\n        var removedList = arr.splice(i, 1);\n        return { newDocument: document, removed: removedList[0] };\n    },\n    replace: function (arr, i, document) {\n        var removed = arr[i];\n        arr[i] = this.value;\n        return { newDocument: document, removed: removed };\n    },\n    move: objOps.move,\n    copy: objOps.copy,\n    test: objOps.test,\n    _get: objOps._get\n};\n/**\n * Retrieves a value from a JSON document by a JSON pointer.\n * Returns the value.\n *\n * @param document The document to get the value from\n * @param pointer an escaped JSON pointer\n * @return The retrieved value\n */\nfunction getValueByPointer(document, pointer) {\n    if (pointer == '') {\n        return document;\n    }\n    var getOriginalDestination = { op: \"_get\", path: pointer };\n    applyOperation(document, getOriginalDestination);\n    return getOriginalDestination.value;\n}\n/**\n * Apply a single JSON Patch Operation on a JSON document.\n * Returns the {newDocument, result} of the operation.\n * It modifies the `document` and `operation` objects - it gets the values by reference.\n * If you would like to avoid touching your values, clone them:\n * `jsonpatch.applyOperation(document, jsonpatch._deepClone(operation))`.\n *\n * @param document The document to patch\n * @param operation The operation to apply\n * @param validateOperation `false` is without validation, `true` to use default jsonpatch's validation, or you can pass a `validateOperation` callback to be used for validation.\n * @param mutateDocument Whether to mutate the original document or clone it before applying\n * @param banPrototypeModifications Whether to ban modifications to `__proto__`, defaults to `true`.\n * @return `{newDocument, result}` after the operation\n */\nfunction applyOperation(document, operation, validateOperation, mutateDocument, banPrototypeModifications, index) {\n    if (validateOperation === void 0) { validateOperation = false; }\n    if (mutateDocument === void 0) { mutateDocument = true; }\n    if (banPrototypeModifications === void 0) { banPrototypeModifications = true; }\n    if (index === void 0) { index = 0; }\n    if (validateOperation) {\n        if (typeof validateOperation == 'function') {\n            validateOperation(operation, 0, document, operation.path);\n        }\n        else {\n            validator(operation, 0);\n        }\n    }\n    /* ROOT OPERATIONS */\n    if (operation.path === \"\") {\n        var returnValue = { newDocument: document };\n        if (operation.op === 'add') {\n            returnValue.newDocument = operation.value;\n            return returnValue;\n        }\n        else if (operation.op === 'replace') {\n            returnValue.newDocument = operation.value;\n            returnValue.removed = document; //document we removed\n            return returnValue;\n        }\n        else if (operation.op === 'move' || operation.op === 'copy') { // it's a move or copy to root\n            returnValue.newDocument = getValueByPointer(document, operation.from); // get the value by json-pointer in `from` field\n            if (operation.op === 'move') { // report removed item\n                returnValue.removed = document;\n            }\n            return returnValue;\n        }\n        else if (operation.op === 'test') {\n            returnValue.test = _areEquals(document, operation.value);\n            if (returnValue.test === false) {\n                throw new JsonPatchError(\"Test operation failed\", 'TEST_OPERATION_FAILED', index, operation, document);\n            }\n            returnValue.newDocument = document;\n            return returnValue;\n        }\n        else if (operation.op === 'remove') { // a remove on root\n            returnValue.removed = document;\n            returnValue.newDocument = null;\n            return returnValue;\n        }\n        else if (operation.op === '_get') {\n            operation.value = document;\n            return returnValue;\n        }\n        else { /* bad operation */\n            if (validateOperation) {\n                throw new JsonPatchError('Operation `op` property is not one of operations defined in RFC-6902', 'OPERATION_OP_INVALID', index, operation, document);\n            }\n            else {\n                return returnValue;\n            }\n        }\n    } /* END ROOT OPERATIONS */\n    else {\n        if (!mutateDocument) {\n            document = _deepClone(document);\n        }\n        var path = operation.path || \"\";\n        var keys = path.split('/');\n        var obj = document;\n        var t = 1; //skip empty element - http://jsperf.com/to-shift-or-not-to-shift\n        var len = keys.length;\n        var existingPathFragment = undefined;\n        var key = void 0;\n        var validateFunction = void 0;\n        if (typeof validateOperation == 'function') {\n            validateFunction = validateOperation;\n        }\n        else {\n            validateFunction = validator;\n        }\n        while (true) {\n            key = keys[t];\n            if (banPrototypeModifications && key == '__proto__') {\n                throw new TypeError('JSON-Patch: modifying `__proto__` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README');\n            }\n            if (validateOperation) {\n                if (existingPathFragment === undefined) {\n                    if (obj[key] === undefined) {\n                        existingPathFragment = keys.slice(0, t).join('/');\n                    }\n                    else if (t == len - 1) {\n                        existingPathFragment = operation.path;\n                    }\n                    if (existingPathFragment !== undefined) {\n                        validateFunction(operation, 0, document, existingPathFragment);\n                    }\n                }\n            }\n            t++;\n            if (Array.isArray(obj)) {\n                if (key === '-') {\n                    key = obj.length;\n                }\n                else {\n                    if (validateOperation && !isInteger(key)) {\n                        throw new JsonPatchError(\"Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index\", \"OPERATION_PATH_ILLEGAL_ARRAY_INDEX\", index, operation, document);\n                    } // only parse key when it's an integer for `arr.prop` to work\n                    else if (isInteger(key)) {\n                        key = ~~key;\n                    }\n                }\n                if (t >= len) {\n                    if (validateOperation && operation.op === \"add\" && key > obj.length) {\n                        throw new JsonPatchError(\"The specified index MUST NOT be greater than the number of elements in the array\", \"OPERATION_VALUE_OUT_OF_BOUNDS\", index, operation, document);\n                    }\n                    var returnValue = arrOps[operation.op].call(operation, obj, key, document); // Apply patch\n                    if (returnValue.test === false) {\n                        throw new JsonPatchError(\"Test operation failed\", 'TEST_OPERATION_FAILED', index, operation, document);\n                    }\n                    return returnValue;\n                }\n            }\n            else {\n                if (key && key.indexOf('~') != -1) {\n                    key = unescapePathComponent(key);\n                }\n                if (t >= len) {\n                    var returnValue = objOps[operation.op].call(operation, obj, key, document); // Apply patch\n                    if (returnValue.test === false) {\n                        throw new JsonPatchError(\"Test operation failed\", 'TEST_OPERATION_FAILED', index, operation, document);\n                    }\n                    return returnValue;\n                }\n            }\n            obj = obj[key];\n        }\n    }\n}\n/**\n * Apply a full JSON Patch array on a JSON document.\n * Returns the {newDocument, result} of the patch.\n * It modifies the `document` object and `patch` - it gets the values by reference.\n * If you would like to avoid touching your values, clone them:\n * `jsonpatch.applyPatch(document, jsonpatch._deepClone(patch))`.\n *\n * @param document The document to patch\n * @param patch The patch to apply\n * @param validateOperation `false` is without validation, `true` to use default jsonpatch's validation, or you can pass a `validateOperation` callback to be used for validation.\n * @param mutateDocument Whether to mutate the original document or clone it before applying\n * @param banPrototypeModifications Whether to ban modifications to `__proto__`, defaults to `true`.\n * @return An array of `{newDocument, result}` after the patch\n */\nfunction applyPatch(document, patch, validateOperation, mutateDocument, banPrototypeModifications) {\n    if (mutateDocument === void 0) { mutateDocument = true; }\n    if (banPrototypeModifications === void 0) { banPrototypeModifications = true; }\n    if (validateOperation) {\n        if (!Array.isArray(patch)) {\n            throw new JsonPatchError('Patch sequence must be an array', 'SEQUENCE_NOT_AN_ARRAY');\n        }\n    }\n    if (!mutateDocument) {\n        document = _deepClone(document);\n    }\n    var results = new Array(patch.length);\n    for (var i = 0, length_1 = patch.length; i < length_1; i++) {\n        // we don't need to pass mutateDocument argument because if it was true, we already deep cloned the object, we'll just pass `true`\n        results[i] = applyOperation(document, patch[i], validateOperation, true, banPrototypeModifications, i);\n        document = results[i].newDocument; // in case root was replaced\n    }\n    results.newDocument = document;\n    return results;\n}\n/**\n * Apply a single JSON Patch Operation on a JSON document.\n * Returns the updated document.\n * Suitable as a reducer.\n *\n * @param document The document to patch\n * @param operation The operation to apply\n * @return The updated document\n */\nfunction applyReducer(document, operation, index) {\n    var operationResult = applyOperation(document, operation);\n    if (operationResult.test === false) { // failed test\n        throw new JsonPatchError(\"Test operation failed\", 'TEST_OPERATION_FAILED', index, operation, document);\n    }\n    return operationResult.newDocument;\n}\n/**\n * Validates a single operation. Called from `jsonpatch.validate`. Throws `JsonPatchError` in case of an error.\n * @param {object} operation - operation object (patch)\n * @param {number} index - index of operation in the sequence\n * @param {object} [document] - object where the operation is supposed to be applied\n * @param {string} [existingPathFragment] - comes along with `document`\n */\nfunction validator(operation, index, document, existingPathFragment) {\n    if (typeof operation !== 'object' || operation === null || Array.isArray(operation)) {\n        throw new JsonPatchError('Operation is not an object', 'OPERATION_NOT_AN_OBJECT', index, operation, document);\n    }\n    else if (!objOps[operation.op]) {\n        throw new JsonPatchError('Operation `op` property is not one of operations defined in RFC-6902', 'OPERATION_OP_INVALID', index, operation, document);\n    }\n    else if (typeof operation.path !== 'string') {\n        throw new JsonPatchError('Operation `path` property is not a string', 'OPERATION_PATH_INVALID', index, operation, document);\n    }\n    else if (operation.path.indexOf('/') !== 0 && operation.path.length > 0) {\n        // paths that aren't empty string should start with \"/\"\n        throw new JsonPatchError('Operation `path` property must start with \"/\"', 'OPERATION_PATH_INVALID', index, operation, document);\n    }\n    else if ((operation.op === 'move' || operation.op === 'copy') && typeof operation.from !== 'string') {\n        throw new JsonPatchError('Operation `from` property is not present (applicable in `move` and `copy` operations)', 'OPERATION_FROM_REQUIRED', index, operation, document);\n    }\n    else if ((operation.op === 'add' || operation.op === 'replace' || operation.op === 'test') && operation.value === undefined) {\n        throw new JsonPatchError('Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)', 'OPERATION_VALUE_REQUIRED', index, operation, document);\n    }\n    else if ((operation.op === 'add' || operation.op === 'replace' || operation.op === 'test') && hasUndefined(operation.value)) {\n        throw new JsonPatchError('Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)', 'OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED', index, operation, document);\n    }\n    else if (document) {\n        if (operation.op == \"add\") {\n            var pathLen = operation.path.split(\"/\").length;\n            var existingPathLen = existingPathFragment.split(\"/\").length;\n            if (pathLen !== existingPathLen + 1 && pathLen !== existingPathLen) {\n                throw new JsonPatchError('Cannot perform an `add` operation at the desired path', 'OPERATION_PATH_CANNOT_ADD', index, operation, document);\n            }\n        }\n        else if (operation.op === 'replace' || operation.op === 'remove' || operation.op === '_get') {\n            if (operation.path !== existingPathFragment) {\n                throw new JsonPatchError('Cannot perform the operation at a path that does not exist', 'OPERATION_PATH_UNRESOLVABLE', index, operation, document);\n            }\n        }\n        else if (operation.op === 'move' || operation.op === 'copy') {\n            var existingValue = { op: \"_get\", path: operation.from, value: undefined };\n            var error = validate([existingValue], document);\n            if (error && error.name === 'OPERATION_PATH_UNRESOLVABLE') {\n                throw new JsonPatchError('Cannot perform the operation from a path that does not exist', 'OPERATION_FROM_UNRESOLVABLE', index, operation, document);\n            }\n        }\n    }\n}\n/**\n * Validates a sequence of operations. If `document` parameter is provided, the sequence is additionally validated against the object document.\n * If error is encountered, returns a JsonPatchError object\n * @param sequence\n * @param document\n * @returns {JsonPatchError|undefined}\n */\nfunction validate(sequence, document, externalValidator) {\n    try {\n        if (!Array.isArray(sequence)) {\n            throw new JsonPatchError('Patch sequence must be an array', 'SEQUENCE_NOT_AN_ARRAY');\n        }\n        if (document) {\n            //clone document and sequence so that we can safely try applying operations\n            applyPatch(_deepClone(document), _deepClone(sequence), externalValidator || true);\n        }\n        else {\n            externalValidator = externalValidator || validator;\n            for (var i = 0; i < sequence.length; i++) {\n                externalValidator(sequence[i], i, document, undefined);\n            }\n        }\n    }\n    catch (e) {\n        if (e instanceof JsonPatchError) {\n            return e;\n        }\n        else {\n            throw e;\n        }\n    }\n}\n// based on https://github.com/epoberezkin/fast-deep-equal\n// MIT License\n// Copyright (c) 2017 Evgeny Poberezkin\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n// The above copyright notice and this permission notice shall be included in all\n// copies or substantial portions of the Software.\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n// SOFTWARE.\nfunction _areEquals(a, b) {\n    if (a === b)\n        return true;\n    if (a && b && typeof a == 'object' && typeof b == 'object') {\n        var arrA = Array.isArray(a), arrB = Array.isArray(b), i, length, key;\n        if (arrA && arrB) {\n            length = a.length;\n            if (length != b.length)\n                return false;\n            for (i = length; i-- !== 0;)\n                if (!_areEquals(a[i], b[i]))\n                    return false;\n            return true;\n        }\n        if (arrA != arrB)\n            return false;\n        var keys = Object.keys(a);\n        length = keys.length;\n        if (length !== Object.keys(b).length)\n            return false;\n        for (i = length; i-- !== 0;)\n            if (!b.hasOwnProperty(keys[i]))\n                return false;\n        for (i = length; i-- !== 0;) {\n            key = keys[i];\n            if (!_areEquals(a[key], b[key]))\n                return false;\n        }\n        return true;\n    }\n    return a !== a && b !== b;\n}\n\nvar core = /*#__PURE__*/Object.freeze({\n    __proto__: null,\n    JsonPatchError: JsonPatchError,\n    deepClone: deepClone,\n    getValueByPointer: getValueByPointer,\n    applyOperation: applyOperation,\n    applyPatch: applyPatch,\n    applyReducer: applyReducer,\n    validator: validator,\n    validate: validate,\n    _areEquals: _areEquals\n});\n\n/*!\n * https://github.com/Starcounter-Jack/JSON-Patch\n * (c) 2017 Joachim Wester\n * MIT license\n */\nvar beforeDict = new WeakMap();\nvar Mirror = /** @class */ (function () {\n    function Mirror(obj) {\n        this.observers = new Map();\n        this.obj = obj;\n    }\n    return Mirror;\n}());\nvar ObserverInfo = /** @class */ (function () {\n    function ObserverInfo(callback, observer) {\n        this.callback = callback;\n        this.observer = observer;\n    }\n    return ObserverInfo;\n}());\nfunction getMirror(obj) {\n    return beforeDict.get(obj);\n}\nfunction getObserverFromMirror(mirror, callback) {\n    return mirror.observers.get(callback);\n}\nfunction removeObserverFromMirror(mirror, observer) {\n    mirror.observers.delete(observer.callback);\n}\n/**\n * Detach an observer from an object\n */\nfunction unobserve(root, observer) {\n    observer.unobserve();\n}\n/**\n * Observes changes made to an object, which can then be retrieved using generate\n */\nfunction observe(obj, callback) {\n    var patches = [];\n    var observer;\n    var mirror = getMirror(obj);\n    if (!mirror) {\n        mirror = new Mirror(obj);\n        beforeDict.set(obj, mirror);\n    }\n    else {\n        var observerInfo = getObserverFromMirror(mirror, callback);\n        observer = observerInfo && observerInfo.observer;\n    }\n    if (observer) {\n        return observer;\n    }\n    observer = {};\n    mirror.value = _deepClone(obj);\n    if (callback) {\n        observer.callback = callback;\n        observer.next = null;\n        var dirtyCheck = function () {\n            generate(observer);\n        };\n        var fastCheck = function () {\n            clearTimeout(observer.next);\n            observer.next = setTimeout(dirtyCheck);\n        };\n        if (typeof window !== 'undefined') { //not Node\n            window.addEventListener('mouseup', fastCheck);\n            window.addEventListener('keyup', fastCheck);\n            window.addEventListener('mousedown', fastCheck);\n            window.addEventListener('keydown', fastCheck);\n            window.addEventListener('change', fastCheck);\n        }\n    }\n    observer.patches = patches;\n    observer.object = obj;\n    observer.unobserve = function () {\n        generate(observer);\n        clearTimeout(observer.next);\n        removeObserverFromMirror(mirror, observer);\n        if (typeof window !== 'undefined') {\n            window.removeEventListener('mouseup', fastCheck);\n            window.removeEventListener('keyup', fastCheck);\n            window.removeEventListener('mousedown', fastCheck);\n            window.removeEventListener('keydown', fastCheck);\n            window.removeEventListener('change', fastCheck);\n        }\n    };\n    mirror.observers.set(callback, new ObserverInfo(callback, observer));\n    return observer;\n}\n/**\n * Generate an array of patches from an observer\n */\nfunction generate(observer, invertible) {\n    if (invertible === void 0) { invertible = false; }\n    var mirror = beforeDict.get(observer.object);\n    _generate(mirror.value, observer.object, observer.patches, \"\", invertible);\n    if (observer.patches.length) {\n        applyPatch(mirror.value, observer.patches);\n    }\n    var temp = observer.patches;\n    if (temp.length > 0) {\n        observer.patches = [];\n        if (observer.callback) {\n            observer.callback(temp);\n        }\n    }\n    return temp;\n}\n// Dirty check if obj is different from mirror, generate patches and update mirror\nfunction _generate(mirror, obj, patches, path, invertible) {\n    if (obj === mirror) {\n        return;\n    }\n    if (typeof obj.toJSON === \"function\") {\n        obj = obj.toJSON();\n    }\n    var newKeys = _objectKeys(obj);\n    var oldKeys = _objectKeys(mirror);\n    var deleted = false;\n    //if ever \"move\" operation is implemented here, make sure this test runs OK: \"should not generate the same patch twice (move)\"\n    for (var t = oldKeys.length - 1; t >= 0; t--) {\n        var key = oldKeys[t];\n        var oldVal = mirror[key];\n        if (hasOwnProperty(obj, key) && !(obj[key] === undefined && oldVal !== undefined && Array.isArray(obj) === false)) {\n            var newVal = obj[key];\n            if (typeof oldVal == \"object\" && oldVal != null && typeof newVal == \"object\" && newVal != null) {\n                _generate(oldVal, newVal, patches, path + \"/\" + escapePathComponent(key), invertible);\n            }\n            else {\n                if (oldVal !== newVal) {\n                    if (invertible) {\n                        patches.push({ op: \"test\", path: path + \"/\" + escapePathComponent(key), value: _deepClone(oldVal) });\n                    }\n                    patches.push({ op: \"replace\", path: path + \"/\" + escapePathComponent(key), value: _deepClone(newVal) });\n                }\n            }\n        }\n        else if (Array.isArray(mirror) === Array.isArray(obj)) {\n            if (invertible) {\n                patches.push({ op: \"test\", path: path + \"/\" + escapePathComponent(key), value: _deepClone(oldVal) });\n            }\n            patches.push({ op: \"remove\", path: path + \"/\" + escapePathComponent(key) });\n            deleted = true; // property has been deleted\n        }\n        else {\n            if (invertible) {\n                patches.push({ op: \"test\", path: path, value: mirror });\n            }\n            patches.push({ op: \"replace\", path: path, value: obj });\n        }\n    }\n    if (!deleted && newKeys.length == oldKeys.length) {\n        return;\n    }\n    for (var t = 0; t < newKeys.length; t++) {\n        var key = newKeys[t];\n        if (!hasOwnProperty(mirror, key) && obj[key] !== undefined) {\n            patches.push({ op: \"add\", path: path + \"/\" + escapePathComponent(key), value: _deepClone(obj[key]) });\n        }\n    }\n}\n/**\n * Create an array of patches from the differences in two objects\n */\nfunction compare(tree1, tree2, invertible) {\n    if (invertible === void 0) { invertible = false; }\n    var patches = [];\n    _generate(tree1, tree2, patches, '', invertible);\n    return patches;\n}\n\nvar duplex = /*#__PURE__*/Object.freeze({\n    __proto__: null,\n    unobserve: unobserve,\n    observe: observe,\n    generate: generate,\n    compare: compare\n});\n\nvar fastJsonPatch = Object.assign({}, core, duplex, {\r\n    JsonPatchError: PatchError,\r\n    deepClone: _deepClone,\r\n    escapePathComponent,\r\n    unescapePathComponent\r\n});\n\nfunction noop() {}\n\nclass RunnableLink {\n  constructor(prev, next, fn) {\n    this.prev = prev;\n    this.next = next;\n    this.fn = fn || noop;\n  }\n\n  run(data) {\n    this.fn(data);\n    this.next && this.next.run(data);\n  }\n}\n\nclass LinkedList {\n  constructor(linkConstructor) {\n    this.head = new RunnableLink();\n    this.tail = new RunnableLink(this.head);\n    this.head.next = this.tail;\n    this.linkConstructor = linkConstructor;\n    this.reg = {};\n  }\n\n  insert(data) {\n    const link = new RunnableLink(this.tail.prev, this.tail, data);\n    link.next.prev = link;\n    link.prev.next = link;\n    return link;\n  }\n\n  remove(link) {\n    link.prev.next = link.next;\n    link.next.prev = link.prev;\n  }\n}\n\nlet id = 0;\nconst splitter = /[\\s,]+/g;\n\nclass Eev {\n  constructor() {\n    this.__events_list = {};\n  }\n\n  on(names, fn) {\n    names.split(splitter).forEach(name => {\n      const list = this.__events_list[name] || (this.__events_list[name] = new LinkedList());\n      const eev = fn._eev || (fn._eev = ++id);\n\n      list.reg[eev] || (list.reg[eev] = list.insert(fn));\n    });\n  }\n\n  off(names, fn) {\n    fn &&\n      names.split(splitter).forEach(name => {\n        const list = this.__events_list[name];\n\n        if (!list) {\n          return;\n        }\n\n        const link = list.reg[fn._eev];\n\n        list.reg[fn._eev] = undefined;\n\n        list && link && list.remove(link);\n      });\n  }\n\n  removeListener(...args) {\n    this.off(...args);\n  }\n\n  emit(name, data) {\n    const evt = this.__events_list[name];\n    evt && evt.head.run(data);\n  }\n}\n\n// ðŸ’¡ we use Emitter inside ConnectedStore to emit 'ready' event\n// ðŸ’¡ and inside MultiConnectedStore to also emit a few events\n\nclass ReadableStore extends Eev {\n  constructor(initialState) {\n    super();\n\n    this.state = initialState;\n\n    this.subscriptions = [];\n  }\n\n  get() {\n    return this.state;\n  }\n\n  subscribe(handler) {\n    this.subscriptions.push(handler);\n\n    handler(this.state);\n\n    return () => {\n      this.subscriptions = this.subscriptions.filter(sub => sub !== handler);\n    };\n  }\n\n  announceStateChange() {\n    this.subscriptions.forEach(handler => handler(this.state));\n  }\n}\n\nclass WritableStore extends ReadableStore {\n  set(state) {\n    this.state = state;\n    this.announceStateChange();\n  }\n}\n\nfunction log(msg) {\n  console.log(`${new Date().toLocaleString()} â†’ ${msg}`);\n}\n\nfunction listify(obj) {\n  if (typeof obj == 'undefined' || obj == null) {\n    return [];\n  }\n  return Array.isArray(obj) ? obj : [obj];\n}\n\nfunction bufferToHex(buffer) {\n  return Array.from(new Uint8Array(buffer))\n    .map((b) => b.toString(16).padStart(2, '0'))\n    .join('');\n}\n\nfunction hexToBuffer(hex) {\n  const tokens = hex.match(/.{1,2}(?=(.{2})+(?!.))|.{1,2}$/g);\n  return new Uint8Array(tokens.map((token) => parseInt(token, 16)));\n}\n\nfunction integerToByteArray(long, arrayLen = 8) {\n  const byteArray = new Array(arrayLen).fill(0);\n\n  for (let index = 0; index < byteArray.length; index++) {\n    const byte = long & 0xff;\n    byteArray[index] = byte;\n    long = (long - byte) / 256;\n  }\n\n  return byteArray;\n}\n\nvar commonjsGlobal = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\n\nfunction getDefaultExportFromCjs (x) {\n\treturn x && x.__esModule && Object.prototype.hasOwnProperty.call(x, 'default') ? x['default'] : x;\n}\n\nfunction createCommonjsModule(fn, basedir, module) {\n\treturn module = {\n\t\tpath: basedir,\n\t\texports: {},\n\t\trequire: function (path, base) {\n\t\t\treturn commonjsRequire(path, (base === undefined || base === null) ? module.path : base);\n\t\t}\n\t}, fn(module, module.exports), module.exports;\n}\n\nfunction getAugmentedNamespace(n) {\n\tif (n.__esModule) return n;\n\tvar a = Object.defineProperty({}, '__esModule', {value: true});\n\tObject.keys(n).forEach(function (k) {\n\t\tvar d = Object.getOwnPropertyDescriptor(n, k);\n\t\tObject.defineProperty(a, k, d.get ? d : {\n\t\t\tenumerable: true,\n\t\t\tget: function () {\n\t\t\t\treturn n[k];\n\t\t\t}\n\t\t});\n\t});\n\treturn a;\n}\n\nfunction commonjsRequire () {\n\tthrow new Error('Dynamic requires are not currently supported by @rollup/plugin-commonjs');\n}\n\nvar _nodeResolve_empty = {};\n\nvar _nodeResolve_empty$1 = /*#__PURE__*/Object.freeze({\n    __proto__: null,\n    'default': _nodeResolve_empty\n});\n\nvar require$$0 = /*@__PURE__*/getAugmentedNamespace(_nodeResolve_empty$1);\n\nvar naclFast = createCommonjsModule(function (module) {\n(function(nacl) {\n\n// Ported in 2014 by Dmitry Chestnykh and Devi Mandiri.\n// Public domain.\n//\n// Implementation derived from TweetNaCl version 20140427.\n// See for details: http://tweetnacl.cr.yp.to/\n\nvar gf = function(init) {\n  var i, r = new Float64Array(16);\n  if (init) for (i = 0; i < init.length; i++) r[i] = init[i];\n  return r;\n};\n\n//  Pluggable, initialized in high-level API below.\nvar randombytes = function(/* x, n */) { throw new Error('no PRNG'); };\n\nvar _0 = new Uint8Array(16);\nvar _9 = new Uint8Array(32); _9[0] = 9;\n\nvar gf0 = gf(),\n    gf1 = gf([1]),\n    _121665 = gf([0xdb41, 1]),\n    D = gf([0x78a3, 0x1359, 0x4dca, 0x75eb, 0xd8ab, 0x4141, 0x0a4d, 0x0070, 0xe898, 0x7779, 0x4079, 0x8cc7, 0xfe73, 0x2b6f, 0x6cee, 0x5203]),\n    D2 = gf([0xf159, 0x26b2, 0x9b94, 0xebd6, 0xb156, 0x8283, 0x149a, 0x00e0, 0xd130, 0xeef3, 0x80f2, 0x198e, 0xfce7, 0x56df, 0xd9dc, 0x2406]),\n    X = gf([0xd51a, 0x8f25, 0x2d60, 0xc956, 0xa7b2, 0x9525, 0xc760, 0x692c, 0xdc5c, 0xfdd6, 0xe231, 0xc0a4, 0x53fe, 0xcd6e, 0x36d3, 0x2169]),\n    Y = gf([0x6658, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666]),\n    I = gf([0xa0b0, 0x4a0e, 0x1b27, 0xc4ee, 0xe478, 0xad2f, 0x1806, 0x2f43, 0xd7a7, 0x3dfb, 0x0099, 0x2b4d, 0xdf0b, 0x4fc1, 0x2480, 0x2b83]);\n\nfunction ts64(x, i, h, l) {\n  x[i]   = (h >> 24) & 0xff;\n  x[i+1] = (h >> 16) & 0xff;\n  x[i+2] = (h >>  8) & 0xff;\n  x[i+3] = h & 0xff;\n  x[i+4] = (l >> 24)  & 0xff;\n  x[i+5] = (l >> 16)  & 0xff;\n  x[i+6] = (l >>  8)  & 0xff;\n  x[i+7] = l & 0xff;\n}\n\nfunction vn(x, xi, y, yi, n) {\n  var i,d = 0;\n  for (i = 0; i < n; i++) d |= x[xi+i]^y[yi+i];\n  return (1 & ((d - 1) >>> 8)) - 1;\n}\n\nfunction crypto_verify_16(x, xi, y, yi) {\n  return vn(x,xi,y,yi,16);\n}\n\nfunction crypto_verify_32(x, xi, y, yi) {\n  return vn(x,xi,y,yi,32);\n}\n\nfunction core_salsa20(o, p, k, c) {\n  var j0  = c[ 0] & 0xff | (c[ 1] & 0xff)<<8 | (c[ 2] & 0xff)<<16 | (c[ 3] & 0xff)<<24,\n      j1  = k[ 0] & 0xff | (k[ 1] & 0xff)<<8 | (k[ 2] & 0xff)<<16 | (k[ 3] & 0xff)<<24,\n      j2  = k[ 4] & 0xff | (k[ 5] & 0xff)<<8 | (k[ 6] & 0xff)<<16 | (k[ 7] & 0xff)<<24,\n      j3  = k[ 8] & 0xff | (k[ 9] & 0xff)<<8 | (k[10] & 0xff)<<16 | (k[11] & 0xff)<<24,\n      j4  = k[12] & 0xff | (k[13] & 0xff)<<8 | (k[14] & 0xff)<<16 | (k[15] & 0xff)<<24,\n      j5  = c[ 4] & 0xff | (c[ 5] & 0xff)<<8 | (c[ 6] & 0xff)<<16 | (c[ 7] & 0xff)<<24,\n      j6  = p[ 0] & 0xff | (p[ 1] & 0xff)<<8 | (p[ 2] & 0xff)<<16 | (p[ 3] & 0xff)<<24,\n      j7  = p[ 4] & 0xff | (p[ 5] & 0xff)<<8 | (p[ 6] & 0xff)<<16 | (p[ 7] & 0xff)<<24,\n      j8  = p[ 8] & 0xff | (p[ 9] & 0xff)<<8 | (p[10] & 0xff)<<16 | (p[11] & 0xff)<<24,\n      j9  = p[12] & 0xff | (p[13] & 0xff)<<8 | (p[14] & 0xff)<<16 | (p[15] & 0xff)<<24,\n      j10 = c[ 8] & 0xff | (c[ 9] & 0xff)<<8 | (c[10] & 0xff)<<16 | (c[11] & 0xff)<<24,\n      j11 = k[16] & 0xff | (k[17] & 0xff)<<8 | (k[18] & 0xff)<<16 | (k[19] & 0xff)<<24,\n      j12 = k[20] & 0xff | (k[21] & 0xff)<<8 | (k[22] & 0xff)<<16 | (k[23] & 0xff)<<24,\n      j13 = k[24] & 0xff | (k[25] & 0xff)<<8 | (k[26] & 0xff)<<16 | (k[27] & 0xff)<<24,\n      j14 = k[28] & 0xff | (k[29] & 0xff)<<8 | (k[30] & 0xff)<<16 | (k[31] & 0xff)<<24,\n      j15 = c[12] & 0xff | (c[13] & 0xff)<<8 | (c[14] & 0xff)<<16 | (c[15] & 0xff)<<24;\n\n  var x0 = j0, x1 = j1, x2 = j2, x3 = j3, x4 = j4, x5 = j5, x6 = j6, x7 = j7,\n      x8 = j8, x9 = j9, x10 = j10, x11 = j11, x12 = j12, x13 = j13, x14 = j14,\n      x15 = j15, u;\n\n  for (var i = 0; i < 20; i += 2) {\n    u = x0 + x12 | 0;\n    x4 ^= u<<7 | u>>>(32-7);\n    u = x4 + x0 | 0;\n    x8 ^= u<<9 | u>>>(32-9);\n    u = x8 + x4 | 0;\n    x12 ^= u<<13 | u>>>(32-13);\n    u = x12 + x8 | 0;\n    x0 ^= u<<18 | u>>>(32-18);\n\n    u = x5 + x1 | 0;\n    x9 ^= u<<7 | u>>>(32-7);\n    u = x9 + x5 | 0;\n    x13 ^= u<<9 | u>>>(32-9);\n    u = x13 + x9 | 0;\n    x1 ^= u<<13 | u>>>(32-13);\n    u = x1 + x13 | 0;\n    x5 ^= u<<18 | u>>>(32-18);\n\n    u = x10 + x6 | 0;\n    x14 ^= u<<7 | u>>>(32-7);\n    u = x14 + x10 | 0;\n    x2 ^= u<<9 | u>>>(32-9);\n    u = x2 + x14 | 0;\n    x6 ^= u<<13 | u>>>(32-13);\n    u = x6 + x2 | 0;\n    x10 ^= u<<18 | u>>>(32-18);\n\n    u = x15 + x11 | 0;\n    x3 ^= u<<7 | u>>>(32-7);\n    u = x3 + x15 | 0;\n    x7 ^= u<<9 | u>>>(32-9);\n    u = x7 + x3 | 0;\n    x11 ^= u<<13 | u>>>(32-13);\n    u = x11 + x7 | 0;\n    x15 ^= u<<18 | u>>>(32-18);\n\n    u = x0 + x3 | 0;\n    x1 ^= u<<7 | u>>>(32-7);\n    u = x1 + x0 | 0;\n    x2 ^= u<<9 | u>>>(32-9);\n    u = x2 + x1 | 0;\n    x3 ^= u<<13 | u>>>(32-13);\n    u = x3 + x2 | 0;\n    x0 ^= u<<18 | u>>>(32-18);\n\n    u = x5 + x4 | 0;\n    x6 ^= u<<7 | u>>>(32-7);\n    u = x6 + x5 | 0;\n    x7 ^= u<<9 | u>>>(32-9);\n    u = x7 + x6 | 0;\n    x4 ^= u<<13 | u>>>(32-13);\n    u = x4 + x7 | 0;\n    x5 ^= u<<18 | u>>>(32-18);\n\n    u = x10 + x9 | 0;\n    x11 ^= u<<7 | u>>>(32-7);\n    u = x11 + x10 | 0;\n    x8 ^= u<<9 | u>>>(32-9);\n    u = x8 + x11 | 0;\n    x9 ^= u<<13 | u>>>(32-13);\n    u = x9 + x8 | 0;\n    x10 ^= u<<18 | u>>>(32-18);\n\n    u = x15 + x14 | 0;\n    x12 ^= u<<7 | u>>>(32-7);\n    u = x12 + x15 | 0;\n    x13 ^= u<<9 | u>>>(32-9);\n    u = x13 + x12 | 0;\n    x14 ^= u<<13 | u>>>(32-13);\n    u = x14 + x13 | 0;\n    x15 ^= u<<18 | u>>>(32-18);\n  }\n   x0 =  x0 +  j0 | 0;\n   x1 =  x1 +  j1 | 0;\n   x2 =  x2 +  j2 | 0;\n   x3 =  x3 +  j3 | 0;\n   x4 =  x4 +  j4 | 0;\n   x5 =  x5 +  j5 | 0;\n   x6 =  x6 +  j6 | 0;\n   x7 =  x7 +  j7 | 0;\n   x8 =  x8 +  j8 | 0;\n   x9 =  x9 +  j9 | 0;\n  x10 = x10 + j10 | 0;\n  x11 = x11 + j11 | 0;\n  x12 = x12 + j12 | 0;\n  x13 = x13 + j13 | 0;\n  x14 = x14 + j14 | 0;\n  x15 = x15 + j15 | 0;\n\n  o[ 0] = x0 >>>  0 & 0xff;\n  o[ 1] = x0 >>>  8 & 0xff;\n  o[ 2] = x0 >>> 16 & 0xff;\n  o[ 3] = x0 >>> 24 & 0xff;\n\n  o[ 4] = x1 >>>  0 & 0xff;\n  o[ 5] = x1 >>>  8 & 0xff;\n  o[ 6] = x1 >>> 16 & 0xff;\n  o[ 7] = x1 >>> 24 & 0xff;\n\n  o[ 8] = x2 >>>  0 & 0xff;\n  o[ 9] = x2 >>>  8 & 0xff;\n  o[10] = x2 >>> 16 & 0xff;\n  o[11] = x2 >>> 24 & 0xff;\n\n  o[12] = x3 >>>  0 & 0xff;\n  o[13] = x3 >>>  8 & 0xff;\n  o[14] = x3 >>> 16 & 0xff;\n  o[15] = x3 >>> 24 & 0xff;\n\n  o[16] = x4 >>>  0 & 0xff;\n  o[17] = x4 >>>  8 & 0xff;\n  o[18] = x4 >>> 16 & 0xff;\n  o[19] = x4 >>> 24 & 0xff;\n\n  o[20] = x5 >>>  0 & 0xff;\n  o[21] = x5 >>>  8 & 0xff;\n  o[22] = x5 >>> 16 & 0xff;\n  o[23] = x5 >>> 24 & 0xff;\n\n  o[24] = x6 >>>  0 & 0xff;\n  o[25] = x6 >>>  8 & 0xff;\n  o[26] = x6 >>> 16 & 0xff;\n  o[27] = x6 >>> 24 & 0xff;\n\n  o[28] = x7 >>>  0 & 0xff;\n  o[29] = x7 >>>  8 & 0xff;\n  o[30] = x7 >>> 16 & 0xff;\n  o[31] = x7 >>> 24 & 0xff;\n\n  o[32] = x8 >>>  0 & 0xff;\n  o[33] = x8 >>>  8 & 0xff;\n  o[34] = x8 >>> 16 & 0xff;\n  o[35] = x8 >>> 24 & 0xff;\n\n  o[36] = x9 >>>  0 & 0xff;\n  o[37] = x9 >>>  8 & 0xff;\n  o[38] = x9 >>> 16 & 0xff;\n  o[39] = x9 >>> 24 & 0xff;\n\n  o[40] = x10 >>>  0 & 0xff;\n  o[41] = x10 >>>  8 & 0xff;\n  o[42] = x10 >>> 16 & 0xff;\n  o[43] = x10 >>> 24 & 0xff;\n\n  o[44] = x11 >>>  0 & 0xff;\n  o[45] = x11 >>>  8 & 0xff;\n  o[46] = x11 >>> 16 & 0xff;\n  o[47] = x11 >>> 24 & 0xff;\n\n  o[48] = x12 >>>  0 & 0xff;\n  o[49] = x12 >>>  8 & 0xff;\n  o[50] = x12 >>> 16 & 0xff;\n  o[51] = x12 >>> 24 & 0xff;\n\n  o[52] = x13 >>>  0 & 0xff;\n  o[53] = x13 >>>  8 & 0xff;\n  o[54] = x13 >>> 16 & 0xff;\n  o[55] = x13 >>> 24 & 0xff;\n\n  o[56] = x14 >>>  0 & 0xff;\n  o[57] = x14 >>>  8 & 0xff;\n  o[58] = x14 >>> 16 & 0xff;\n  o[59] = x14 >>> 24 & 0xff;\n\n  o[60] = x15 >>>  0 & 0xff;\n  o[61] = x15 >>>  8 & 0xff;\n  o[62] = x15 >>> 16 & 0xff;\n  o[63] = x15 >>> 24 & 0xff;\n}\n\nfunction core_hsalsa20(o,p,k,c) {\n  var j0  = c[ 0] & 0xff | (c[ 1] & 0xff)<<8 | (c[ 2] & 0xff)<<16 | (c[ 3] & 0xff)<<24,\n      j1  = k[ 0] & 0xff | (k[ 1] & 0xff)<<8 | (k[ 2] & 0xff)<<16 | (k[ 3] & 0xff)<<24,\n      j2  = k[ 4] & 0xff | (k[ 5] & 0xff)<<8 | (k[ 6] & 0xff)<<16 | (k[ 7] & 0xff)<<24,\n      j3  = k[ 8] & 0xff | (k[ 9] & 0xff)<<8 | (k[10] & 0xff)<<16 | (k[11] & 0xff)<<24,\n      j4  = k[12] & 0xff | (k[13] & 0xff)<<8 | (k[14] & 0xff)<<16 | (k[15] & 0xff)<<24,\n      j5  = c[ 4] & 0xff | (c[ 5] & 0xff)<<8 | (c[ 6] & 0xff)<<16 | (c[ 7] & 0xff)<<24,\n      j6  = p[ 0] & 0xff | (p[ 1] & 0xff)<<8 | (p[ 2] & 0xff)<<16 | (p[ 3] & 0xff)<<24,\n      j7  = p[ 4] & 0xff | (p[ 5] & 0xff)<<8 | (p[ 6] & 0xff)<<16 | (p[ 7] & 0xff)<<24,\n      j8  = p[ 8] & 0xff | (p[ 9] & 0xff)<<8 | (p[10] & 0xff)<<16 | (p[11] & 0xff)<<24,\n      j9  = p[12] & 0xff | (p[13] & 0xff)<<8 | (p[14] & 0xff)<<16 | (p[15] & 0xff)<<24,\n      j10 = c[ 8] & 0xff | (c[ 9] & 0xff)<<8 | (c[10] & 0xff)<<16 | (c[11] & 0xff)<<24,\n      j11 = k[16] & 0xff | (k[17] & 0xff)<<8 | (k[18] & 0xff)<<16 | (k[19] & 0xff)<<24,\n      j12 = k[20] & 0xff | (k[21] & 0xff)<<8 | (k[22] & 0xff)<<16 | (k[23] & 0xff)<<24,\n      j13 = k[24] & 0xff | (k[25] & 0xff)<<8 | (k[26] & 0xff)<<16 | (k[27] & 0xff)<<24,\n      j14 = k[28] & 0xff | (k[29] & 0xff)<<8 | (k[30] & 0xff)<<16 | (k[31] & 0xff)<<24,\n      j15 = c[12] & 0xff | (c[13] & 0xff)<<8 | (c[14] & 0xff)<<16 | (c[15] & 0xff)<<24;\n\n  var x0 = j0, x1 = j1, x2 = j2, x3 = j3, x4 = j4, x5 = j5, x6 = j6, x7 = j7,\n      x8 = j8, x9 = j9, x10 = j10, x11 = j11, x12 = j12, x13 = j13, x14 = j14,\n      x15 = j15, u;\n\n  for (var i = 0; i < 20; i += 2) {\n    u = x0 + x12 | 0;\n    x4 ^= u<<7 | u>>>(32-7);\n    u = x4 + x0 | 0;\n    x8 ^= u<<9 | u>>>(32-9);\n    u = x8 + x4 | 0;\n    x12 ^= u<<13 | u>>>(32-13);\n    u = x12 + x8 | 0;\n    x0 ^= u<<18 | u>>>(32-18);\n\n    u = x5 + x1 | 0;\n    x9 ^= u<<7 | u>>>(32-7);\n    u = x9 + x5 | 0;\n    x13 ^= u<<9 | u>>>(32-9);\n    u = x13 + x9 | 0;\n    x1 ^= u<<13 | u>>>(32-13);\n    u = x1 + x13 | 0;\n    x5 ^= u<<18 | u>>>(32-18);\n\n    u = x10 + x6 | 0;\n    x14 ^= u<<7 | u>>>(32-7);\n    u = x14 + x10 | 0;\n    x2 ^= u<<9 | u>>>(32-9);\n    u = x2 + x14 | 0;\n    x6 ^= u<<13 | u>>>(32-13);\n    u = x6 + x2 | 0;\n    x10 ^= u<<18 | u>>>(32-18);\n\n    u = x15 + x11 | 0;\n    x3 ^= u<<7 | u>>>(32-7);\n    u = x3 + x15 | 0;\n    x7 ^= u<<9 | u>>>(32-9);\n    u = x7 + x3 | 0;\n    x11 ^= u<<13 | u>>>(32-13);\n    u = x11 + x7 | 0;\n    x15 ^= u<<18 | u>>>(32-18);\n\n    u = x0 + x3 | 0;\n    x1 ^= u<<7 | u>>>(32-7);\n    u = x1 + x0 | 0;\n    x2 ^= u<<9 | u>>>(32-9);\n    u = x2 + x1 | 0;\n    x3 ^= u<<13 | u>>>(32-13);\n    u = x3 + x2 | 0;\n    x0 ^= u<<18 | u>>>(32-18);\n\n    u = x5 + x4 | 0;\n    x6 ^= u<<7 | u>>>(32-7);\n    u = x6 + x5 | 0;\n    x7 ^= u<<9 | u>>>(32-9);\n    u = x7 + x6 | 0;\n    x4 ^= u<<13 | u>>>(32-13);\n    u = x4 + x7 | 0;\n    x5 ^= u<<18 | u>>>(32-18);\n\n    u = x10 + x9 | 0;\n    x11 ^= u<<7 | u>>>(32-7);\n    u = x11 + x10 | 0;\n    x8 ^= u<<9 | u>>>(32-9);\n    u = x8 + x11 | 0;\n    x9 ^= u<<13 | u>>>(32-13);\n    u = x9 + x8 | 0;\n    x10 ^= u<<18 | u>>>(32-18);\n\n    u = x15 + x14 | 0;\n    x12 ^= u<<7 | u>>>(32-7);\n    u = x12 + x15 | 0;\n    x13 ^= u<<9 | u>>>(32-9);\n    u = x13 + x12 | 0;\n    x14 ^= u<<13 | u>>>(32-13);\n    u = x14 + x13 | 0;\n    x15 ^= u<<18 | u>>>(32-18);\n  }\n\n  o[ 0] = x0 >>>  0 & 0xff;\n  o[ 1] = x0 >>>  8 & 0xff;\n  o[ 2] = x0 >>> 16 & 0xff;\n  o[ 3] = x0 >>> 24 & 0xff;\n\n  o[ 4] = x5 >>>  0 & 0xff;\n  o[ 5] = x5 >>>  8 & 0xff;\n  o[ 6] = x5 >>> 16 & 0xff;\n  o[ 7] = x5 >>> 24 & 0xff;\n\n  o[ 8] = x10 >>>  0 & 0xff;\n  o[ 9] = x10 >>>  8 & 0xff;\n  o[10] = x10 >>> 16 & 0xff;\n  o[11] = x10 >>> 24 & 0xff;\n\n  o[12] = x15 >>>  0 & 0xff;\n  o[13] = x15 >>>  8 & 0xff;\n  o[14] = x15 >>> 16 & 0xff;\n  o[15] = x15 >>> 24 & 0xff;\n\n  o[16] = x6 >>>  0 & 0xff;\n  o[17] = x6 >>>  8 & 0xff;\n  o[18] = x6 >>> 16 & 0xff;\n  o[19] = x6 >>> 24 & 0xff;\n\n  o[20] = x7 >>>  0 & 0xff;\n  o[21] = x7 >>>  8 & 0xff;\n  o[22] = x7 >>> 16 & 0xff;\n  o[23] = x7 >>> 24 & 0xff;\n\n  o[24] = x8 >>>  0 & 0xff;\n  o[25] = x8 >>>  8 & 0xff;\n  o[26] = x8 >>> 16 & 0xff;\n  o[27] = x8 >>> 24 & 0xff;\n\n  o[28] = x9 >>>  0 & 0xff;\n  o[29] = x9 >>>  8 & 0xff;\n  o[30] = x9 >>> 16 & 0xff;\n  o[31] = x9 >>> 24 & 0xff;\n}\n\nfunction crypto_core_salsa20(out,inp,k,c) {\n  core_salsa20(out,inp,k,c);\n}\n\nfunction crypto_core_hsalsa20(out,inp,k,c) {\n  core_hsalsa20(out,inp,k,c);\n}\n\nvar sigma = new Uint8Array([101, 120, 112, 97, 110, 100, 32, 51, 50, 45, 98, 121, 116, 101, 32, 107]);\n            // \"expand 32-byte k\"\n\nfunction crypto_stream_salsa20_xor(c,cpos,m,mpos,b,n,k) {\n  var z = new Uint8Array(16), x = new Uint8Array(64);\n  var u, i;\n  for (i = 0; i < 16; i++) z[i] = 0;\n  for (i = 0; i < 8; i++) z[i] = n[i];\n  while (b >= 64) {\n    crypto_core_salsa20(x,z,k,sigma);\n    for (i = 0; i < 64; i++) c[cpos+i] = m[mpos+i] ^ x[i];\n    u = 1;\n    for (i = 8; i < 16; i++) {\n      u = u + (z[i] & 0xff) | 0;\n      z[i] = u & 0xff;\n      u >>>= 8;\n    }\n    b -= 64;\n    cpos += 64;\n    mpos += 64;\n  }\n  if (b > 0) {\n    crypto_core_salsa20(x,z,k,sigma);\n    for (i = 0; i < b; i++) c[cpos+i] = m[mpos+i] ^ x[i];\n  }\n  return 0;\n}\n\nfunction crypto_stream_salsa20(c,cpos,b,n,k) {\n  var z = new Uint8Array(16), x = new Uint8Array(64);\n  var u, i;\n  for (i = 0; i < 16; i++) z[i] = 0;\n  for (i = 0; i < 8; i++) z[i] = n[i];\n  while (b >= 64) {\n    crypto_core_salsa20(x,z,k,sigma);\n    for (i = 0; i < 64; i++) c[cpos+i] = x[i];\n    u = 1;\n    for (i = 8; i < 16; i++) {\n      u = u + (z[i] & 0xff) | 0;\n      z[i] = u & 0xff;\n      u >>>= 8;\n    }\n    b -= 64;\n    cpos += 64;\n  }\n  if (b > 0) {\n    crypto_core_salsa20(x,z,k,sigma);\n    for (i = 0; i < b; i++) c[cpos+i] = x[i];\n  }\n  return 0;\n}\n\nfunction crypto_stream(c,cpos,d,n,k) {\n  var s = new Uint8Array(32);\n  crypto_core_hsalsa20(s,n,k,sigma);\n  var sn = new Uint8Array(8);\n  for (var i = 0; i < 8; i++) sn[i] = n[i+16];\n  return crypto_stream_salsa20(c,cpos,d,sn,s);\n}\n\nfunction crypto_stream_xor(c,cpos,m,mpos,d,n,k) {\n  var s = new Uint8Array(32);\n  crypto_core_hsalsa20(s,n,k,sigma);\n  var sn = new Uint8Array(8);\n  for (var i = 0; i < 8; i++) sn[i] = n[i+16];\n  return crypto_stream_salsa20_xor(c,cpos,m,mpos,d,sn,s);\n}\n\n/*\n* Port of Andrew Moon's Poly1305-donna-16. Public domain.\n* https://github.com/floodyberry/poly1305-donna\n*/\n\nvar poly1305 = function(key) {\n  this.buffer = new Uint8Array(16);\n  this.r = new Uint16Array(10);\n  this.h = new Uint16Array(10);\n  this.pad = new Uint16Array(8);\n  this.leftover = 0;\n  this.fin = 0;\n\n  var t0, t1, t2, t3, t4, t5, t6, t7;\n\n  t0 = key[ 0] & 0xff | (key[ 1] & 0xff) << 8; this.r[0] = ( t0                     ) & 0x1fff;\n  t1 = key[ 2] & 0xff | (key[ 3] & 0xff) << 8; this.r[1] = ((t0 >>> 13) | (t1 <<  3)) & 0x1fff;\n  t2 = key[ 4] & 0xff | (key[ 5] & 0xff) << 8; this.r[2] = ((t1 >>> 10) | (t2 <<  6)) & 0x1f03;\n  t3 = key[ 6] & 0xff | (key[ 7] & 0xff) << 8; this.r[3] = ((t2 >>>  7) | (t3 <<  9)) & 0x1fff;\n  t4 = key[ 8] & 0xff | (key[ 9] & 0xff) << 8; this.r[4] = ((t3 >>>  4) | (t4 << 12)) & 0x00ff;\n  this.r[5] = ((t4 >>>  1)) & 0x1ffe;\n  t5 = key[10] & 0xff | (key[11] & 0xff) << 8; this.r[6] = ((t4 >>> 14) | (t5 <<  2)) & 0x1fff;\n  t6 = key[12] & 0xff | (key[13] & 0xff) << 8; this.r[7] = ((t5 >>> 11) | (t6 <<  5)) & 0x1f81;\n  t7 = key[14] & 0xff | (key[15] & 0xff) << 8; this.r[8] = ((t6 >>>  8) | (t7 <<  8)) & 0x1fff;\n  this.r[9] = ((t7 >>>  5)) & 0x007f;\n\n  this.pad[0] = key[16] & 0xff | (key[17] & 0xff) << 8;\n  this.pad[1] = key[18] & 0xff | (key[19] & 0xff) << 8;\n  this.pad[2] = key[20] & 0xff | (key[21] & 0xff) << 8;\n  this.pad[3] = key[22] & 0xff | (key[23] & 0xff) << 8;\n  this.pad[4] = key[24] & 0xff | (key[25] & 0xff) << 8;\n  this.pad[5] = key[26] & 0xff | (key[27] & 0xff) << 8;\n  this.pad[6] = key[28] & 0xff | (key[29] & 0xff) << 8;\n  this.pad[7] = key[30] & 0xff | (key[31] & 0xff) << 8;\n};\n\npoly1305.prototype.blocks = function(m, mpos, bytes) {\n  var hibit = this.fin ? 0 : (1 << 11);\n  var t0, t1, t2, t3, t4, t5, t6, t7, c;\n  var d0, d1, d2, d3, d4, d5, d6, d7, d8, d9;\n\n  var h0 = this.h[0],\n      h1 = this.h[1],\n      h2 = this.h[2],\n      h3 = this.h[3],\n      h4 = this.h[4],\n      h5 = this.h[5],\n      h6 = this.h[6],\n      h7 = this.h[7],\n      h8 = this.h[8],\n      h9 = this.h[9];\n\n  var r0 = this.r[0],\n      r1 = this.r[1],\n      r2 = this.r[2],\n      r3 = this.r[3],\n      r4 = this.r[4],\n      r5 = this.r[5],\n      r6 = this.r[6],\n      r7 = this.r[7],\n      r8 = this.r[8],\n      r9 = this.r[9];\n\n  while (bytes >= 16) {\n    t0 = m[mpos+ 0] & 0xff | (m[mpos+ 1] & 0xff) << 8; h0 += ( t0                     ) & 0x1fff;\n    t1 = m[mpos+ 2] & 0xff | (m[mpos+ 3] & 0xff) << 8; h1 += ((t0 >>> 13) | (t1 <<  3)) & 0x1fff;\n    t2 = m[mpos+ 4] & 0xff | (m[mpos+ 5] & 0xff) << 8; h2 += ((t1 >>> 10) | (t2 <<  6)) & 0x1fff;\n    t3 = m[mpos+ 6] & 0xff | (m[mpos+ 7] & 0xff) << 8; h3 += ((t2 >>>  7) | (t3 <<  9)) & 0x1fff;\n    t4 = m[mpos+ 8] & 0xff | (m[mpos+ 9] & 0xff) << 8; h4 += ((t3 >>>  4) | (t4 << 12)) & 0x1fff;\n    h5 += ((t4 >>>  1)) & 0x1fff;\n    t5 = m[mpos+10] & 0xff | (m[mpos+11] & 0xff) << 8; h6 += ((t4 >>> 14) | (t5 <<  2)) & 0x1fff;\n    t6 = m[mpos+12] & 0xff | (m[mpos+13] & 0xff) << 8; h7 += ((t5 >>> 11) | (t6 <<  5)) & 0x1fff;\n    t7 = m[mpos+14] & 0xff | (m[mpos+15] & 0xff) << 8; h8 += ((t6 >>>  8) | (t7 <<  8)) & 0x1fff;\n    h9 += ((t7 >>> 5)) | hibit;\n\n    c = 0;\n\n    d0 = c;\n    d0 += h0 * r0;\n    d0 += h1 * (5 * r9);\n    d0 += h2 * (5 * r8);\n    d0 += h3 * (5 * r7);\n    d0 += h4 * (5 * r6);\n    c = (d0 >>> 13); d0 &= 0x1fff;\n    d0 += h5 * (5 * r5);\n    d0 += h6 * (5 * r4);\n    d0 += h7 * (5 * r3);\n    d0 += h8 * (5 * r2);\n    d0 += h9 * (5 * r1);\n    c += (d0 >>> 13); d0 &= 0x1fff;\n\n    d1 = c;\n    d1 += h0 * r1;\n    d1 += h1 * r0;\n    d1 += h2 * (5 * r9);\n    d1 += h3 * (5 * r8);\n    d1 += h4 * (5 * r7);\n    c = (d1 >>> 13); d1 &= 0x1fff;\n    d1 += h5 * (5 * r6);\n    d1 += h6 * (5 * r5);\n    d1 += h7 * (5 * r4);\n    d1 += h8 * (5 * r3);\n    d1 += h9 * (5 * r2);\n    c += (d1 >>> 13); d1 &= 0x1fff;\n\n    d2 = c;\n    d2 += h0 * r2;\n    d2 += h1 * r1;\n    d2 += h2 * r0;\n    d2 += h3 * (5 * r9);\n    d2 += h4 * (5 * r8);\n    c = (d2 >>> 13); d2 &= 0x1fff;\n    d2 += h5 * (5 * r7);\n    d2 += h6 * (5 * r6);\n    d2 += h7 * (5 * r5);\n    d2 += h8 * (5 * r4);\n    d2 += h9 * (5 * r3);\n    c += (d2 >>> 13); d2 &= 0x1fff;\n\n    d3 = c;\n    d3 += h0 * r3;\n    d3 += h1 * r2;\n    d3 += h2 * r1;\n    d3 += h3 * r0;\n    d3 += h4 * (5 * r9);\n    c = (d3 >>> 13); d3 &= 0x1fff;\n    d3 += h5 * (5 * r8);\n    d3 += h6 * (5 * r7);\n    d3 += h7 * (5 * r6);\n    d3 += h8 * (5 * r5);\n    d3 += h9 * (5 * r4);\n    c += (d3 >>> 13); d3 &= 0x1fff;\n\n    d4 = c;\n    d4 += h0 * r4;\n    d4 += h1 * r3;\n    d4 += h2 * r2;\n    d4 += h3 * r1;\n    d4 += h4 * r0;\n    c = (d4 >>> 13); d4 &= 0x1fff;\n    d4 += h5 * (5 * r9);\n    d4 += h6 * (5 * r8);\n    d4 += h7 * (5 * r7);\n    d4 += h8 * (5 * r6);\n    d4 += h9 * (5 * r5);\n    c += (d4 >>> 13); d4 &= 0x1fff;\n\n    d5 = c;\n    d5 += h0 * r5;\n    d5 += h1 * r4;\n    d5 += h2 * r3;\n    d5 += h3 * r2;\n    d5 += h4 * r1;\n    c = (d5 >>> 13); d5 &= 0x1fff;\n    d5 += h5 * r0;\n    d5 += h6 * (5 * r9);\n    d5 += h7 * (5 * r8);\n    d5 += h8 * (5 * r7);\n    d5 += h9 * (5 * r6);\n    c += (d5 >>> 13); d5 &= 0x1fff;\n\n    d6 = c;\n    d6 += h0 * r6;\n    d6 += h1 * r5;\n    d6 += h2 * r4;\n    d6 += h3 * r3;\n    d6 += h4 * r2;\n    c = (d6 >>> 13); d6 &= 0x1fff;\n    d6 += h5 * r1;\n    d6 += h6 * r0;\n    d6 += h7 * (5 * r9);\n    d6 += h8 * (5 * r8);\n    d6 += h9 * (5 * r7);\n    c += (d6 >>> 13); d6 &= 0x1fff;\n\n    d7 = c;\n    d7 += h0 * r7;\n    d7 += h1 * r6;\n    d7 += h2 * r5;\n    d7 += h3 * r4;\n    d7 += h4 * r3;\n    c = (d7 >>> 13); d7 &= 0x1fff;\n    d7 += h5 * r2;\n    d7 += h6 * r1;\n    d7 += h7 * r0;\n    d7 += h8 * (5 * r9);\n    d7 += h9 * (5 * r8);\n    c += (d7 >>> 13); d7 &= 0x1fff;\n\n    d8 = c;\n    d8 += h0 * r8;\n    d8 += h1 * r7;\n    d8 += h2 * r6;\n    d8 += h3 * r5;\n    d8 += h4 * r4;\n    c = (d8 >>> 13); d8 &= 0x1fff;\n    d8 += h5 * r3;\n    d8 += h6 * r2;\n    d8 += h7 * r1;\n    d8 += h8 * r0;\n    d8 += h9 * (5 * r9);\n    c += (d8 >>> 13); d8 &= 0x1fff;\n\n    d9 = c;\n    d9 += h0 * r9;\n    d9 += h1 * r8;\n    d9 += h2 * r7;\n    d9 += h3 * r6;\n    d9 += h4 * r5;\n    c = (d9 >>> 13); d9 &= 0x1fff;\n    d9 += h5 * r4;\n    d9 += h6 * r3;\n    d9 += h7 * r2;\n    d9 += h8 * r1;\n    d9 += h9 * r0;\n    c += (d9 >>> 13); d9 &= 0x1fff;\n\n    c = (((c << 2) + c)) | 0;\n    c = (c + d0) | 0;\n    d0 = c & 0x1fff;\n    c = (c >>> 13);\n    d1 += c;\n\n    h0 = d0;\n    h1 = d1;\n    h2 = d2;\n    h3 = d3;\n    h4 = d4;\n    h5 = d5;\n    h6 = d6;\n    h7 = d7;\n    h8 = d8;\n    h9 = d9;\n\n    mpos += 16;\n    bytes -= 16;\n  }\n  this.h[0] = h0;\n  this.h[1] = h1;\n  this.h[2] = h2;\n  this.h[3] = h3;\n  this.h[4] = h4;\n  this.h[5] = h5;\n  this.h[6] = h6;\n  this.h[7] = h7;\n  this.h[8] = h8;\n  this.h[9] = h9;\n};\n\npoly1305.prototype.finish = function(mac, macpos) {\n  var g = new Uint16Array(10);\n  var c, mask, f, i;\n\n  if (this.leftover) {\n    i = this.leftover;\n    this.buffer[i++] = 1;\n    for (; i < 16; i++) this.buffer[i] = 0;\n    this.fin = 1;\n    this.blocks(this.buffer, 0, 16);\n  }\n\n  c = this.h[1] >>> 13;\n  this.h[1] &= 0x1fff;\n  for (i = 2; i < 10; i++) {\n    this.h[i] += c;\n    c = this.h[i] >>> 13;\n    this.h[i] &= 0x1fff;\n  }\n  this.h[0] += (c * 5);\n  c = this.h[0] >>> 13;\n  this.h[0] &= 0x1fff;\n  this.h[1] += c;\n  c = this.h[1] >>> 13;\n  this.h[1] &= 0x1fff;\n  this.h[2] += c;\n\n  g[0] = this.h[0] + 5;\n  c = g[0] >>> 13;\n  g[0] &= 0x1fff;\n  for (i = 1; i < 10; i++) {\n    g[i] = this.h[i] + c;\n    c = g[i] >>> 13;\n    g[i] &= 0x1fff;\n  }\n  g[9] -= (1 << 13);\n\n  mask = (c ^ 1) - 1;\n  for (i = 0; i < 10; i++) g[i] &= mask;\n  mask = ~mask;\n  for (i = 0; i < 10; i++) this.h[i] = (this.h[i] & mask) | g[i];\n\n  this.h[0] = ((this.h[0]       ) | (this.h[1] << 13)                    ) & 0xffff;\n  this.h[1] = ((this.h[1] >>>  3) | (this.h[2] << 10)                    ) & 0xffff;\n  this.h[2] = ((this.h[2] >>>  6) | (this.h[3] <<  7)                    ) & 0xffff;\n  this.h[3] = ((this.h[3] >>>  9) | (this.h[4] <<  4)                    ) & 0xffff;\n  this.h[4] = ((this.h[4] >>> 12) | (this.h[5] <<  1) | (this.h[6] << 14)) & 0xffff;\n  this.h[5] = ((this.h[6] >>>  2) | (this.h[7] << 11)                    ) & 0xffff;\n  this.h[6] = ((this.h[7] >>>  5) | (this.h[8] <<  8)                    ) & 0xffff;\n  this.h[7] = ((this.h[8] >>>  8) | (this.h[9] <<  5)                    ) & 0xffff;\n\n  f = this.h[0] + this.pad[0];\n  this.h[0] = f & 0xffff;\n  for (i = 1; i < 8; i++) {\n    f = (((this.h[i] + this.pad[i]) | 0) + (f >>> 16)) | 0;\n    this.h[i] = f & 0xffff;\n  }\n\n  mac[macpos+ 0] = (this.h[0] >>> 0) & 0xff;\n  mac[macpos+ 1] = (this.h[0] >>> 8) & 0xff;\n  mac[macpos+ 2] = (this.h[1] >>> 0) & 0xff;\n  mac[macpos+ 3] = (this.h[1] >>> 8) & 0xff;\n  mac[macpos+ 4] = (this.h[2] >>> 0) & 0xff;\n  mac[macpos+ 5] = (this.h[2] >>> 8) & 0xff;\n  mac[macpos+ 6] = (this.h[3] >>> 0) & 0xff;\n  mac[macpos+ 7] = (this.h[3] >>> 8) & 0xff;\n  mac[macpos+ 8] = (this.h[4] >>> 0) & 0xff;\n  mac[macpos+ 9] = (this.h[4] >>> 8) & 0xff;\n  mac[macpos+10] = (this.h[5] >>> 0) & 0xff;\n  mac[macpos+11] = (this.h[5] >>> 8) & 0xff;\n  mac[macpos+12] = (this.h[6] >>> 0) & 0xff;\n  mac[macpos+13] = (this.h[6] >>> 8) & 0xff;\n  mac[macpos+14] = (this.h[7] >>> 0) & 0xff;\n  mac[macpos+15] = (this.h[7] >>> 8) & 0xff;\n};\n\npoly1305.prototype.update = function(m, mpos, bytes) {\n  var i, want;\n\n  if (this.leftover) {\n    want = (16 - this.leftover);\n    if (want > bytes)\n      want = bytes;\n    for (i = 0; i < want; i++)\n      this.buffer[this.leftover + i] = m[mpos+i];\n    bytes -= want;\n    mpos += want;\n    this.leftover += want;\n    if (this.leftover < 16)\n      return;\n    this.blocks(this.buffer, 0, 16);\n    this.leftover = 0;\n  }\n\n  if (bytes >= 16) {\n    want = bytes - (bytes % 16);\n    this.blocks(m, mpos, want);\n    mpos += want;\n    bytes -= want;\n  }\n\n  if (bytes) {\n    for (i = 0; i < bytes; i++)\n      this.buffer[this.leftover + i] = m[mpos+i];\n    this.leftover += bytes;\n  }\n};\n\nfunction crypto_onetimeauth(out, outpos, m, mpos, n, k) {\n  var s = new poly1305(k);\n  s.update(m, mpos, n);\n  s.finish(out, outpos);\n  return 0;\n}\n\nfunction crypto_onetimeauth_verify(h, hpos, m, mpos, n, k) {\n  var x = new Uint8Array(16);\n  crypto_onetimeauth(x,0,m,mpos,n,k);\n  return crypto_verify_16(h,hpos,x,0);\n}\n\nfunction crypto_secretbox(c,m,d,n,k) {\n  var i;\n  if (d < 32) return -1;\n  crypto_stream_xor(c,0,m,0,d,n,k);\n  crypto_onetimeauth(c, 16, c, 32, d - 32, c);\n  for (i = 0; i < 16; i++) c[i] = 0;\n  return 0;\n}\n\nfunction crypto_secretbox_open(m,c,d,n,k) {\n  var i;\n  var x = new Uint8Array(32);\n  if (d < 32) return -1;\n  crypto_stream(x,0,32,n,k);\n  if (crypto_onetimeauth_verify(c, 16,c, 32,d - 32,x) !== 0) return -1;\n  crypto_stream_xor(m,0,c,0,d,n,k);\n  for (i = 0; i < 32; i++) m[i] = 0;\n  return 0;\n}\n\nfunction set25519(r, a) {\n  var i;\n  for (i = 0; i < 16; i++) r[i] = a[i]|0;\n}\n\nfunction car25519(o) {\n  var i, v, c = 1;\n  for (i = 0; i < 16; i++) {\n    v = o[i] + c + 65535;\n    c = Math.floor(v / 65536);\n    o[i] = v - c * 65536;\n  }\n  o[0] += c-1 + 37 * (c-1);\n}\n\nfunction sel25519(p, q, b) {\n  var t, c = ~(b-1);\n  for (var i = 0; i < 16; i++) {\n    t = c & (p[i] ^ q[i]);\n    p[i] ^= t;\n    q[i] ^= t;\n  }\n}\n\nfunction pack25519(o, n) {\n  var i, j, b;\n  var m = gf(), t = gf();\n  for (i = 0; i < 16; i++) t[i] = n[i];\n  car25519(t);\n  car25519(t);\n  car25519(t);\n  for (j = 0; j < 2; j++) {\n    m[0] = t[0] - 0xffed;\n    for (i = 1; i < 15; i++) {\n      m[i] = t[i] - 0xffff - ((m[i-1]>>16) & 1);\n      m[i-1] &= 0xffff;\n    }\n    m[15] = t[15] - 0x7fff - ((m[14]>>16) & 1);\n    b = (m[15]>>16) & 1;\n    m[14] &= 0xffff;\n    sel25519(t, m, 1-b);\n  }\n  for (i = 0; i < 16; i++) {\n    o[2*i] = t[i] & 0xff;\n    o[2*i+1] = t[i]>>8;\n  }\n}\n\nfunction neq25519(a, b) {\n  var c = new Uint8Array(32), d = new Uint8Array(32);\n  pack25519(c, a);\n  pack25519(d, b);\n  return crypto_verify_32(c, 0, d, 0);\n}\n\nfunction par25519(a) {\n  var d = new Uint8Array(32);\n  pack25519(d, a);\n  return d[0] & 1;\n}\n\nfunction unpack25519(o, n) {\n  var i;\n  for (i = 0; i < 16; i++) o[i] = n[2*i] + (n[2*i+1] << 8);\n  o[15] &= 0x7fff;\n}\n\nfunction A(o, a, b) {\n  for (var i = 0; i < 16; i++) o[i] = a[i] + b[i];\n}\n\nfunction Z(o, a, b) {\n  for (var i = 0; i < 16; i++) o[i] = a[i] - b[i];\n}\n\nfunction M(o, a, b) {\n  var v, c,\n     t0 = 0,  t1 = 0,  t2 = 0,  t3 = 0,  t4 = 0,  t5 = 0,  t6 = 0,  t7 = 0,\n     t8 = 0,  t9 = 0, t10 = 0, t11 = 0, t12 = 0, t13 = 0, t14 = 0, t15 = 0,\n    t16 = 0, t17 = 0, t18 = 0, t19 = 0, t20 = 0, t21 = 0, t22 = 0, t23 = 0,\n    t24 = 0, t25 = 0, t26 = 0, t27 = 0, t28 = 0, t29 = 0, t30 = 0,\n    b0 = b[0],\n    b1 = b[1],\n    b2 = b[2],\n    b3 = b[3],\n    b4 = b[4],\n    b5 = b[5],\n    b6 = b[6],\n    b7 = b[7],\n    b8 = b[8],\n    b9 = b[9],\n    b10 = b[10],\n    b11 = b[11],\n    b12 = b[12],\n    b13 = b[13],\n    b14 = b[14],\n    b15 = b[15];\n\n  v = a[0];\n  t0 += v * b0;\n  t1 += v * b1;\n  t2 += v * b2;\n  t3 += v * b3;\n  t4 += v * b4;\n  t5 += v * b5;\n  t6 += v * b6;\n  t7 += v * b7;\n  t8 += v * b8;\n  t9 += v * b9;\n  t10 += v * b10;\n  t11 += v * b11;\n  t12 += v * b12;\n  t13 += v * b13;\n  t14 += v * b14;\n  t15 += v * b15;\n  v = a[1];\n  t1 += v * b0;\n  t2 += v * b1;\n  t3 += v * b2;\n  t4 += v * b3;\n  t5 += v * b4;\n  t6 += v * b5;\n  t7 += v * b6;\n  t8 += v * b7;\n  t9 += v * b8;\n  t10 += v * b9;\n  t11 += v * b10;\n  t12 += v * b11;\n  t13 += v * b12;\n  t14 += v * b13;\n  t15 += v * b14;\n  t16 += v * b15;\n  v = a[2];\n  t2 += v * b0;\n  t3 += v * b1;\n  t4 += v * b2;\n  t5 += v * b3;\n  t6 += v * b4;\n  t7 += v * b5;\n  t8 += v * b6;\n  t9 += v * b7;\n  t10 += v * b8;\n  t11 += v * b9;\n  t12 += v * b10;\n  t13 += v * b11;\n  t14 += v * b12;\n  t15 += v * b13;\n  t16 += v * b14;\n  t17 += v * b15;\n  v = a[3];\n  t3 += v * b0;\n  t4 += v * b1;\n  t5 += v * b2;\n  t6 += v * b3;\n  t7 += v * b4;\n  t8 += v * b5;\n  t9 += v * b6;\n  t10 += v * b7;\n  t11 += v * b8;\n  t12 += v * b9;\n  t13 += v * b10;\n  t14 += v * b11;\n  t15 += v * b12;\n  t16 += v * b13;\n  t17 += v * b14;\n  t18 += v * b15;\n  v = a[4];\n  t4 += v * b0;\n  t5 += v * b1;\n  t6 += v * b2;\n  t7 += v * b3;\n  t8 += v * b4;\n  t9 += v * b5;\n  t10 += v * b6;\n  t11 += v * b7;\n  t12 += v * b8;\n  t13 += v * b9;\n  t14 += v * b10;\n  t15 += v * b11;\n  t16 += v * b12;\n  t17 += v * b13;\n  t18 += v * b14;\n  t19 += v * b15;\n  v = a[5];\n  t5 += v * b0;\n  t6 += v * b1;\n  t7 += v * b2;\n  t8 += v * b3;\n  t9 += v * b4;\n  t10 += v * b5;\n  t11 += v * b6;\n  t12 += v * b7;\n  t13 += v * b8;\n  t14 += v * b9;\n  t15 += v * b10;\n  t16 += v * b11;\n  t17 += v * b12;\n  t18 += v * b13;\n  t19 += v * b14;\n  t20 += v * b15;\n  v = a[6];\n  t6 += v * b0;\n  t7 += v * b1;\n  t8 += v * b2;\n  t9 += v * b3;\n  t10 += v * b4;\n  t11 += v * b5;\n  t12 += v * b6;\n  t13 += v * b7;\n  t14 += v * b8;\n  t15 += v * b9;\n  t16 += v * b10;\n  t17 += v * b11;\n  t18 += v * b12;\n  t19 += v * b13;\n  t20 += v * b14;\n  t21 += v * b15;\n  v = a[7];\n  t7 += v * b0;\n  t8 += v * b1;\n  t9 += v * b2;\n  t10 += v * b3;\n  t11 += v * b4;\n  t12 += v * b5;\n  t13 += v * b6;\n  t14 += v * b7;\n  t15 += v * b8;\n  t16 += v * b9;\n  t17 += v * b10;\n  t18 += v * b11;\n  t19 += v * b12;\n  t20 += v * b13;\n  t21 += v * b14;\n  t22 += v * b15;\n  v = a[8];\n  t8 += v * b0;\n  t9 += v * b1;\n  t10 += v * b2;\n  t11 += v * b3;\n  t12 += v * b4;\n  t13 += v * b5;\n  t14 += v * b6;\n  t15 += v * b7;\n  t16 += v * b8;\n  t17 += v * b9;\n  t18 += v * b10;\n  t19 += v * b11;\n  t20 += v * b12;\n  t21 += v * b13;\n  t22 += v * b14;\n  t23 += v * b15;\n  v = a[9];\n  t9 += v * b0;\n  t10 += v * b1;\n  t11 += v * b2;\n  t12 += v * b3;\n  t13 += v * b4;\n  t14 += v * b5;\n  t15 += v * b6;\n  t16 += v * b7;\n  t17 += v * b8;\n  t18 += v * b9;\n  t19 += v * b10;\n  t20 += v * b11;\n  t21 += v * b12;\n  t22 += v * b13;\n  t23 += v * b14;\n  t24 += v * b15;\n  v = a[10];\n  t10 += v * b0;\n  t11 += v * b1;\n  t12 += v * b2;\n  t13 += v * b3;\n  t14 += v * b4;\n  t15 += v * b5;\n  t16 += v * b6;\n  t17 += v * b7;\n  t18 += v * b8;\n  t19 += v * b9;\n  t20 += v * b10;\n  t21 += v * b11;\n  t22 += v * b12;\n  t23 += v * b13;\n  t24 += v * b14;\n  t25 += v * b15;\n  v = a[11];\n  t11 += v * b0;\n  t12 += v * b1;\n  t13 += v * b2;\n  t14 += v * b3;\n  t15 += v * b4;\n  t16 += v * b5;\n  t17 += v * b6;\n  t18 += v * b7;\n  t19 += v * b8;\n  t20 += v * b9;\n  t21 += v * b10;\n  t22 += v * b11;\n  t23 += v * b12;\n  t24 += v * b13;\n  t25 += v * b14;\n  t26 += v * b15;\n  v = a[12];\n  t12 += v * b0;\n  t13 += v * b1;\n  t14 += v * b2;\n  t15 += v * b3;\n  t16 += v * b4;\n  t17 += v * b5;\n  t18 += v * b6;\n  t19 += v * b7;\n  t20 += v * b8;\n  t21 += v * b9;\n  t22 += v * b10;\n  t23 += v * b11;\n  t24 += v * b12;\n  t25 += v * b13;\n  t26 += v * b14;\n  t27 += v * b15;\n  v = a[13];\n  t13 += v * b0;\n  t14 += v * b1;\n  t15 += v * b2;\n  t16 += v * b3;\n  t17 += v * b4;\n  t18 += v * b5;\n  t19 += v * b6;\n  t20 += v * b7;\n  t21 += v * b8;\n  t22 += v * b9;\n  t23 += v * b10;\n  t24 += v * b11;\n  t25 += v * b12;\n  t26 += v * b13;\n  t27 += v * b14;\n  t28 += v * b15;\n  v = a[14];\n  t14 += v * b0;\n  t15 += v * b1;\n  t16 += v * b2;\n  t17 += v * b3;\n  t18 += v * b4;\n  t19 += v * b5;\n  t20 += v * b6;\n  t21 += v * b7;\n  t22 += v * b8;\n  t23 += v * b9;\n  t24 += v * b10;\n  t25 += v * b11;\n  t26 += v * b12;\n  t27 += v * b13;\n  t28 += v * b14;\n  t29 += v * b15;\n  v = a[15];\n  t15 += v * b0;\n  t16 += v * b1;\n  t17 += v * b2;\n  t18 += v * b3;\n  t19 += v * b4;\n  t20 += v * b5;\n  t21 += v * b6;\n  t22 += v * b7;\n  t23 += v * b8;\n  t24 += v * b9;\n  t25 += v * b10;\n  t26 += v * b11;\n  t27 += v * b12;\n  t28 += v * b13;\n  t29 += v * b14;\n  t30 += v * b15;\n\n  t0  += 38 * t16;\n  t1  += 38 * t17;\n  t2  += 38 * t18;\n  t3  += 38 * t19;\n  t4  += 38 * t20;\n  t5  += 38 * t21;\n  t6  += 38 * t22;\n  t7  += 38 * t23;\n  t8  += 38 * t24;\n  t9  += 38 * t25;\n  t10 += 38 * t26;\n  t11 += 38 * t27;\n  t12 += 38 * t28;\n  t13 += 38 * t29;\n  t14 += 38 * t30;\n  // t15 left as is\n\n  // first car\n  c = 1;\n  v =  t0 + c + 65535; c = Math.floor(v / 65536);  t0 = v - c * 65536;\n  v =  t1 + c + 65535; c = Math.floor(v / 65536);  t1 = v - c * 65536;\n  v =  t2 + c + 65535; c = Math.floor(v / 65536);  t2 = v - c * 65536;\n  v =  t3 + c + 65535; c = Math.floor(v / 65536);  t3 = v - c * 65536;\n  v =  t4 + c + 65535; c = Math.floor(v / 65536);  t4 = v - c * 65536;\n  v =  t5 + c + 65535; c = Math.floor(v / 65536);  t5 = v - c * 65536;\n  v =  t6 + c + 65535; c = Math.floor(v / 65536);  t6 = v - c * 65536;\n  v =  t7 + c + 65535; c = Math.floor(v / 65536);  t7 = v - c * 65536;\n  v =  t8 + c + 65535; c = Math.floor(v / 65536);  t8 = v - c * 65536;\n  v =  t9 + c + 65535; c = Math.floor(v / 65536);  t9 = v - c * 65536;\n  v = t10 + c + 65535; c = Math.floor(v / 65536); t10 = v - c * 65536;\n  v = t11 + c + 65535; c = Math.floor(v / 65536); t11 = v - c * 65536;\n  v = t12 + c + 65535; c = Math.floor(v / 65536); t12 = v - c * 65536;\n  v = t13 + c + 65535; c = Math.floor(v / 65536); t13 = v - c * 65536;\n  v = t14 + c + 65535; c = Math.floor(v / 65536); t14 = v - c * 65536;\n  v = t15 + c + 65535; c = Math.floor(v / 65536); t15 = v - c * 65536;\n  t0 += c-1 + 37 * (c-1);\n\n  // second car\n  c = 1;\n  v =  t0 + c + 65535; c = Math.floor(v / 65536);  t0 = v - c * 65536;\n  v =  t1 + c + 65535; c = Math.floor(v / 65536);  t1 = v - c * 65536;\n  v =  t2 + c + 65535; c = Math.floor(v / 65536);  t2 = v - c * 65536;\n  v =  t3 + c + 65535; c = Math.floor(v / 65536);  t3 = v - c * 65536;\n  v =  t4 + c + 65535; c = Math.floor(v / 65536);  t4 = v - c * 65536;\n  v =  t5 + c + 65535; c = Math.floor(v / 65536);  t5 = v - c * 65536;\n  v =  t6 + c + 65535; c = Math.floor(v / 65536);  t6 = v - c * 65536;\n  v =  t7 + c + 65535; c = Math.floor(v / 65536);  t7 = v - c * 65536;\n  v =  t8 + c + 65535; c = Math.floor(v / 65536);  t8 = v - c * 65536;\n  v =  t9 + c + 65535; c = Math.floor(v / 65536);  t9 = v - c * 65536;\n  v = t10 + c + 65535; c = Math.floor(v / 65536); t10 = v - c * 65536;\n  v = t11 + c + 65535; c = Math.floor(v / 65536); t11 = v - c * 65536;\n  v = t12 + c + 65535; c = Math.floor(v / 65536); t12 = v - c * 65536;\n  v = t13 + c + 65535; c = Math.floor(v / 65536); t13 = v - c * 65536;\n  v = t14 + c + 65535; c = Math.floor(v / 65536); t14 = v - c * 65536;\n  v = t15 + c + 65535; c = Math.floor(v / 65536); t15 = v - c * 65536;\n  t0 += c-1 + 37 * (c-1);\n\n  o[ 0] = t0;\n  o[ 1] = t1;\n  o[ 2] = t2;\n  o[ 3] = t3;\n  o[ 4] = t4;\n  o[ 5] = t5;\n  o[ 6] = t6;\n  o[ 7] = t7;\n  o[ 8] = t8;\n  o[ 9] = t9;\n  o[10] = t10;\n  o[11] = t11;\n  o[12] = t12;\n  o[13] = t13;\n  o[14] = t14;\n  o[15] = t15;\n}\n\nfunction S(o, a) {\n  M(o, a, a);\n}\n\nfunction inv25519(o, i) {\n  var c = gf();\n  var a;\n  for (a = 0; a < 16; a++) c[a] = i[a];\n  for (a = 253; a >= 0; a--) {\n    S(c, c);\n    if(a !== 2 && a !== 4) M(c, c, i);\n  }\n  for (a = 0; a < 16; a++) o[a] = c[a];\n}\n\nfunction pow2523(o, i) {\n  var c = gf();\n  var a;\n  for (a = 0; a < 16; a++) c[a] = i[a];\n  for (a = 250; a >= 0; a--) {\n      S(c, c);\n      if(a !== 1) M(c, c, i);\n  }\n  for (a = 0; a < 16; a++) o[a] = c[a];\n}\n\nfunction crypto_scalarmult(q, n, p) {\n  var z = new Uint8Array(32);\n  var x = new Float64Array(80), r, i;\n  var a = gf(), b = gf(), c = gf(),\n      d = gf(), e = gf(), f = gf();\n  for (i = 0; i < 31; i++) z[i] = n[i];\n  z[31]=(n[31]&127)|64;\n  z[0]&=248;\n  unpack25519(x,p);\n  for (i = 0; i < 16; i++) {\n    b[i]=x[i];\n    d[i]=a[i]=c[i]=0;\n  }\n  a[0]=d[0]=1;\n  for (i=254; i>=0; --i) {\n    r=(z[i>>>3]>>>(i&7))&1;\n    sel25519(a,b,r);\n    sel25519(c,d,r);\n    A(e,a,c);\n    Z(a,a,c);\n    A(c,b,d);\n    Z(b,b,d);\n    S(d,e);\n    S(f,a);\n    M(a,c,a);\n    M(c,b,e);\n    A(e,a,c);\n    Z(a,a,c);\n    S(b,a);\n    Z(c,d,f);\n    M(a,c,_121665);\n    A(a,a,d);\n    M(c,c,a);\n    M(a,d,f);\n    M(d,b,x);\n    S(b,e);\n    sel25519(a,b,r);\n    sel25519(c,d,r);\n  }\n  for (i = 0; i < 16; i++) {\n    x[i+16]=a[i];\n    x[i+32]=c[i];\n    x[i+48]=b[i];\n    x[i+64]=d[i];\n  }\n  var x32 = x.subarray(32);\n  var x16 = x.subarray(16);\n  inv25519(x32,x32);\n  M(x16,x16,x32);\n  pack25519(q,x16);\n  return 0;\n}\n\nfunction crypto_scalarmult_base(q, n) {\n  return crypto_scalarmult(q, n, _9);\n}\n\nfunction crypto_box_keypair(y, x) {\n  randombytes(x, 32);\n  return crypto_scalarmult_base(y, x);\n}\n\nfunction crypto_box_beforenm(k, y, x) {\n  var s = new Uint8Array(32);\n  crypto_scalarmult(s, x, y);\n  return crypto_core_hsalsa20(k, _0, s, sigma);\n}\n\nvar crypto_box_afternm = crypto_secretbox;\nvar crypto_box_open_afternm = crypto_secretbox_open;\n\nfunction crypto_box(c, m, d, n, y, x) {\n  var k = new Uint8Array(32);\n  crypto_box_beforenm(k, y, x);\n  return crypto_box_afternm(c, m, d, n, k);\n}\n\nfunction crypto_box_open(m, c, d, n, y, x) {\n  var k = new Uint8Array(32);\n  crypto_box_beforenm(k, y, x);\n  return crypto_box_open_afternm(m, c, d, n, k);\n}\n\nvar K = [\n  0x428a2f98, 0xd728ae22, 0x71374491, 0x23ef65cd,\n  0xb5c0fbcf, 0xec4d3b2f, 0xe9b5dba5, 0x8189dbbc,\n  0x3956c25b, 0xf348b538, 0x59f111f1, 0xb605d019,\n  0x923f82a4, 0xaf194f9b, 0xab1c5ed5, 0xda6d8118,\n  0xd807aa98, 0xa3030242, 0x12835b01, 0x45706fbe,\n  0x243185be, 0x4ee4b28c, 0x550c7dc3, 0xd5ffb4e2,\n  0x72be5d74, 0xf27b896f, 0x80deb1fe, 0x3b1696b1,\n  0x9bdc06a7, 0x25c71235, 0xc19bf174, 0xcf692694,\n  0xe49b69c1, 0x9ef14ad2, 0xefbe4786, 0x384f25e3,\n  0x0fc19dc6, 0x8b8cd5b5, 0x240ca1cc, 0x77ac9c65,\n  0x2de92c6f, 0x592b0275, 0x4a7484aa, 0x6ea6e483,\n  0x5cb0a9dc, 0xbd41fbd4, 0x76f988da, 0x831153b5,\n  0x983e5152, 0xee66dfab, 0xa831c66d, 0x2db43210,\n  0xb00327c8, 0x98fb213f, 0xbf597fc7, 0xbeef0ee4,\n  0xc6e00bf3, 0x3da88fc2, 0xd5a79147, 0x930aa725,\n  0x06ca6351, 0xe003826f, 0x14292967, 0x0a0e6e70,\n  0x27b70a85, 0x46d22ffc, 0x2e1b2138, 0x5c26c926,\n  0x4d2c6dfc, 0x5ac42aed, 0x53380d13, 0x9d95b3df,\n  0x650a7354, 0x8baf63de, 0x766a0abb, 0x3c77b2a8,\n  0x81c2c92e, 0x47edaee6, 0x92722c85, 0x1482353b,\n  0xa2bfe8a1, 0x4cf10364, 0xa81a664b, 0xbc423001,\n  0xc24b8b70, 0xd0f89791, 0xc76c51a3, 0x0654be30,\n  0xd192e819, 0xd6ef5218, 0xd6990624, 0x5565a910,\n  0xf40e3585, 0x5771202a, 0x106aa070, 0x32bbd1b8,\n  0x19a4c116, 0xb8d2d0c8, 0x1e376c08, 0x5141ab53,\n  0x2748774c, 0xdf8eeb99, 0x34b0bcb5, 0xe19b48a8,\n  0x391c0cb3, 0xc5c95a63, 0x4ed8aa4a, 0xe3418acb,\n  0x5b9cca4f, 0x7763e373, 0x682e6ff3, 0xd6b2b8a3,\n  0x748f82ee, 0x5defb2fc, 0x78a5636f, 0x43172f60,\n  0x84c87814, 0xa1f0ab72, 0x8cc70208, 0x1a6439ec,\n  0x90befffa, 0x23631e28, 0xa4506ceb, 0xde82bde9,\n  0xbef9a3f7, 0xb2c67915, 0xc67178f2, 0xe372532b,\n  0xca273ece, 0xea26619c, 0xd186b8c7, 0x21c0c207,\n  0xeada7dd6, 0xcde0eb1e, 0xf57d4f7f, 0xee6ed178,\n  0x06f067aa, 0x72176fba, 0x0a637dc5, 0xa2c898a6,\n  0x113f9804, 0xbef90dae, 0x1b710b35, 0x131c471b,\n  0x28db77f5, 0x23047d84, 0x32caab7b, 0x40c72493,\n  0x3c9ebe0a, 0x15c9bebc, 0x431d67c4, 0x9c100d4c,\n  0x4cc5d4be, 0xcb3e42b6, 0x597f299c, 0xfc657e2a,\n  0x5fcb6fab, 0x3ad6faec, 0x6c44198c, 0x4a475817\n];\n\nfunction crypto_hashblocks_hl(hh, hl, m, n) {\n  var wh = new Int32Array(16), wl = new Int32Array(16),\n      bh0, bh1, bh2, bh3, bh4, bh5, bh6, bh7,\n      bl0, bl1, bl2, bl3, bl4, bl5, bl6, bl7,\n      th, tl, i, j, h, l, a, b, c, d;\n\n  var ah0 = hh[0],\n      ah1 = hh[1],\n      ah2 = hh[2],\n      ah3 = hh[3],\n      ah4 = hh[4],\n      ah5 = hh[5],\n      ah6 = hh[6],\n      ah7 = hh[7],\n\n      al0 = hl[0],\n      al1 = hl[1],\n      al2 = hl[2],\n      al3 = hl[3],\n      al4 = hl[4],\n      al5 = hl[5],\n      al6 = hl[6],\n      al7 = hl[7];\n\n  var pos = 0;\n  while (n >= 128) {\n    for (i = 0; i < 16; i++) {\n      j = 8 * i + pos;\n      wh[i] = (m[j+0] << 24) | (m[j+1] << 16) | (m[j+2] << 8) | m[j+3];\n      wl[i] = (m[j+4] << 24) | (m[j+5] << 16) | (m[j+6] << 8) | m[j+7];\n    }\n    for (i = 0; i < 80; i++) {\n      bh0 = ah0;\n      bh1 = ah1;\n      bh2 = ah2;\n      bh3 = ah3;\n      bh4 = ah4;\n      bh5 = ah5;\n      bh6 = ah6;\n      bh7 = ah7;\n\n      bl0 = al0;\n      bl1 = al1;\n      bl2 = al2;\n      bl3 = al3;\n      bl4 = al4;\n      bl5 = al5;\n      bl6 = al6;\n      bl7 = al7;\n\n      // add\n      h = ah7;\n      l = al7;\n\n      a = l & 0xffff; b = l >>> 16;\n      c = h & 0xffff; d = h >>> 16;\n\n      // Sigma1\n      h = ((ah4 >>> 14) | (al4 << (32-14))) ^ ((ah4 >>> 18) | (al4 << (32-18))) ^ ((al4 >>> (41-32)) | (ah4 << (32-(41-32))));\n      l = ((al4 >>> 14) | (ah4 << (32-14))) ^ ((al4 >>> 18) | (ah4 << (32-18))) ^ ((ah4 >>> (41-32)) | (al4 << (32-(41-32))));\n\n      a += l & 0xffff; b += l >>> 16;\n      c += h & 0xffff; d += h >>> 16;\n\n      // Ch\n      h = (ah4 & ah5) ^ (~ah4 & ah6);\n      l = (al4 & al5) ^ (~al4 & al6);\n\n      a += l & 0xffff; b += l >>> 16;\n      c += h & 0xffff; d += h >>> 16;\n\n      // K\n      h = K[i*2];\n      l = K[i*2+1];\n\n      a += l & 0xffff; b += l >>> 16;\n      c += h & 0xffff; d += h >>> 16;\n\n      // w\n      h = wh[i%16];\n      l = wl[i%16];\n\n      a += l & 0xffff; b += l >>> 16;\n      c += h & 0xffff; d += h >>> 16;\n\n      b += a >>> 16;\n      c += b >>> 16;\n      d += c >>> 16;\n\n      th = c & 0xffff | d << 16;\n      tl = a & 0xffff | b << 16;\n\n      // add\n      h = th;\n      l = tl;\n\n      a = l & 0xffff; b = l >>> 16;\n      c = h & 0xffff; d = h >>> 16;\n\n      // Sigma0\n      h = ((ah0 >>> 28) | (al0 << (32-28))) ^ ((al0 >>> (34-32)) | (ah0 << (32-(34-32)))) ^ ((al0 >>> (39-32)) | (ah0 << (32-(39-32))));\n      l = ((al0 >>> 28) | (ah0 << (32-28))) ^ ((ah0 >>> (34-32)) | (al0 << (32-(34-32)))) ^ ((ah0 >>> (39-32)) | (al0 << (32-(39-32))));\n\n      a += l & 0xffff; b += l >>> 16;\n      c += h & 0xffff; d += h >>> 16;\n\n      // Maj\n      h = (ah0 & ah1) ^ (ah0 & ah2) ^ (ah1 & ah2);\n      l = (al0 & al1) ^ (al0 & al2) ^ (al1 & al2);\n\n      a += l & 0xffff; b += l >>> 16;\n      c += h & 0xffff; d += h >>> 16;\n\n      b += a >>> 16;\n      c += b >>> 16;\n      d += c >>> 16;\n\n      bh7 = (c & 0xffff) | (d << 16);\n      bl7 = (a & 0xffff) | (b << 16);\n\n      // add\n      h = bh3;\n      l = bl3;\n\n      a = l & 0xffff; b = l >>> 16;\n      c = h & 0xffff; d = h >>> 16;\n\n      h = th;\n      l = tl;\n\n      a += l & 0xffff; b += l >>> 16;\n      c += h & 0xffff; d += h >>> 16;\n\n      b += a >>> 16;\n      c += b >>> 16;\n      d += c >>> 16;\n\n      bh3 = (c & 0xffff) | (d << 16);\n      bl3 = (a & 0xffff) | (b << 16);\n\n      ah1 = bh0;\n      ah2 = bh1;\n      ah3 = bh2;\n      ah4 = bh3;\n      ah5 = bh4;\n      ah6 = bh5;\n      ah7 = bh6;\n      ah0 = bh7;\n\n      al1 = bl0;\n      al2 = bl1;\n      al3 = bl2;\n      al4 = bl3;\n      al5 = bl4;\n      al6 = bl5;\n      al7 = bl6;\n      al0 = bl7;\n\n      if (i%16 === 15) {\n        for (j = 0; j < 16; j++) {\n          // add\n          h = wh[j];\n          l = wl[j];\n\n          a = l & 0xffff; b = l >>> 16;\n          c = h & 0xffff; d = h >>> 16;\n\n          h = wh[(j+9)%16];\n          l = wl[(j+9)%16];\n\n          a += l & 0xffff; b += l >>> 16;\n          c += h & 0xffff; d += h >>> 16;\n\n          // sigma0\n          th = wh[(j+1)%16];\n          tl = wl[(j+1)%16];\n          h = ((th >>> 1) | (tl << (32-1))) ^ ((th >>> 8) | (tl << (32-8))) ^ (th >>> 7);\n          l = ((tl >>> 1) | (th << (32-1))) ^ ((tl >>> 8) | (th << (32-8))) ^ ((tl >>> 7) | (th << (32-7)));\n\n          a += l & 0xffff; b += l >>> 16;\n          c += h & 0xffff; d += h >>> 16;\n\n          // sigma1\n          th = wh[(j+14)%16];\n          tl = wl[(j+14)%16];\n          h = ((th >>> 19) | (tl << (32-19))) ^ ((tl >>> (61-32)) | (th << (32-(61-32)))) ^ (th >>> 6);\n          l = ((tl >>> 19) | (th << (32-19))) ^ ((th >>> (61-32)) | (tl << (32-(61-32)))) ^ ((tl >>> 6) | (th << (32-6)));\n\n          a += l & 0xffff; b += l >>> 16;\n          c += h & 0xffff; d += h >>> 16;\n\n          b += a >>> 16;\n          c += b >>> 16;\n          d += c >>> 16;\n\n          wh[j] = (c & 0xffff) | (d << 16);\n          wl[j] = (a & 0xffff) | (b << 16);\n        }\n      }\n    }\n\n    // add\n    h = ah0;\n    l = al0;\n\n    a = l & 0xffff; b = l >>> 16;\n    c = h & 0xffff; d = h >>> 16;\n\n    h = hh[0];\n    l = hl[0];\n\n    a += l & 0xffff; b += l >>> 16;\n    c += h & 0xffff; d += h >>> 16;\n\n    b += a >>> 16;\n    c += b >>> 16;\n    d += c >>> 16;\n\n    hh[0] = ah0 = (c & 0xffff) | (d << 16);\n    hl[0] = al0 = (a & 0xffff) | (b << 16);\n\n    h = ah1;\n    l = al1;\n\n    a = l & 0xffff; b = l >>> 16;\n    c = h & 0xffff; d = h >>> 16;\n\n    h = hh[1];\n    l = hl[1];\n\n    a += l & 0xffff; b += l >>> 16;\n    c += h & 0xffff; d += h >>> 16;\n\n    b += a >>> 16;\n    c += b >>> 16;\n    d += c >>> 16;\n\n    hh[1] = ah1 = (c & 0xffff) | (d << 16);\n    hl[1] = al1 = (a & 0xffff) | (b << 16);\n\n    h = ah2;\n    l = al2;\n\n    a = l & 0xffff; b = l >>> 16;\n    c = h & 0xffff; d = h >>> 16;\n\n    h = hh[2];\n    l = hl[2];\n\n    a += l & 0xffff; b += l >>> 16;\n    c += h & 0xffff; d += h >>> 16;\n\n    b += a >>> 16;\n    c += b >>> 16;\n    d += c >>> 16;\n\n    hh[2] = ah2 = (c & 0xffff) | (d << 16);\n    hl[2] = al2 = (a & 0xffff) | (b << 16);\n\n    h = ah3;\n    l = al3;\n\n    a = l & 0xffff; b = l >>> 16;\n    c = h & 0xffff; d = h >>> 16;\n\n    h = hh[3];\n    l = hl[3];\n\n    a += l & 0xffff; b += l >>> 16;\n    c += h & 0xffff; d += h >>> 16;\n\n    b += a >>> 16;\n    c += b >>> 16;\n    d += c >>> 16;\n\n    hh[3] = ah3 = (c & 0xffff) | (d << 16);\n    hl[3] = al3 = (a & 0xffff) | (b << 16);\n\n    h = ah4;\n    l = al4;\n\n    a = l & 0xffff; b = l >>> 16;\n    c = h & 0xffff; d = h >>> 16;\n\n    h = hh[4];\n    l = hl[4];\n\n    a += l & 0xffff; b += l >>> 16;\n    c += h & 0xffff; d += h >>> 16;\n\n    b += a >>> 16;\n    c += b >>> 16;\n    d += c >>> 16;\n\n    hh[4] = ah4 = (c & 0xffff) | (d << 16);\n    hl[4] = al4 = (a & 0xffff) | (b << 16);\n\n    h = ah5;\n    l = al5;\n\n    a = l & 0xffff; b = l >>> 16;\n    c = h & 0xffff; d = h >>> 16;\n\n    h = hh[5];\n    l = hl[5];\n\n    a += l & 0xffff; b += l >>> 16;\n    c += h & 0xffff; d += h >>> 16;\n\n    b += a >>> 16;\n    c += b >>> 16;\n    d += c >>> 16;\n\n    hh[5] = ah5 = (c & 0xffff) | (d << 16);\n    hl[5] = al5 = (a & 0xffff) | (b << 16);\n\n    h = ah6;\n    l = al6;\n\n    a = l & 0xffff; b = l >>> 16;\n    c = h & 0xffff; d = h >>> 16;\n\n    h = hh[6];\n    l = hl[6];\n\n    a += l & 0xffff; b += l >>> 16;\n    c += h & 0xffff; d += h >>> 16;\n\n    b += a >>> 16;\n    c += b >>> 16;\n    d += c >>> 16;\n\n    hh[6] = ah6 = (c & 0xffff) | (d << 16);\n    hl[6] = al6 = (a & 0xffff) | (b << 16);\n\n    h = ah7;\n    l = al7;\n\n    a = l & 0xffff; b = l >>> 16;\n    c = h & 0xffff; d = h >>> 16;\n\n    h = hh[7];\n    l = hl[7];\n\n    a += l & 0xffff; b += l >>> 16;\n    c += h & 0xffff; d += h >>> 16;\n\n    b += a >>> 16;\n    c += b >>> 16;\n    d += c >>> 16;\n\n    hh[7] = ah7 = (c & 0xffff) | (d << 16);\n    hl[7] = al7 = (a & 0xffff) | (b << 16);\n\n    pos += 128;\n    n -= 128;\n  }\n\n  return n;\n}\n\nfunction crypto_hash(out, m, n) {\n  var hh = new Int32Array(8),\n      hl = new Int32Array(8),\n      x = new Uint8Array(256),\n      i, b = n;\n\n  hh[0] = 0x6a09e667;\n  hh[1] = 0xbb67ae85;\n  hh[2] = 0x3c6ef372;\n  hh[3] = 0xa54ff53a;\n  hh[4] = 0x510e527f;\n  hh[5] = 0x9b05688c;\n  hh[6] = 0x1f83d9ab;\n  hh[7] = 0x5be0cd19;\n\n  hl[0] = 0xf3bcc908;\n  hl[1] = 0x84caa73b;\n  hl[2] = 0xfe94f82b;\n  hl[3] = 0x5f1d36f1;\n  hl[4] = 0xade682d1;\n  hl[5] = 0x2b3e6c1f;\n  hl[6] = 0xfb41bd6b;\n  hl[7] = 0x137e2179;\n\n  crypto_hashblocks_hl(hh, hl, m, n);\n  n %= 128;\n\n  for (i = 0; i < n; i++) x[i] = m[b-n+i];\n  x[n] = 128;\n\n  n = 256-128*(n<112?1:0);\n  x[n-9] = 0;\n  ts64(x, n-8,  (b / 0x20000000) | 0, b << 3);\n  crypto_hashblocks_hl(hh, hl, x, n);\n\n  for (i = 0; i < 8; i++) ts64(out, 8*i, hh[i], hl[i]);\n\n  return 0;\n}\n\nfunction add(p, q) {\n  var a = gf(), b = gf(), c = gf(),\n      d = gf(), e = gf(), f = gf(),\n      g = gf(), h = gf(), t = gf();\n\n  Z(a, p[1], p[0]);\n  Z(t, q[1], q[0]);\n  M(a, a, t);\n  A(b, p[0], p[1]);\n  A(t, q[0], q[1]);\n  M(b, b, t);\n  M(c, p[3], q[3]);\n  M(c, c, D2);\n  M(d, p[2], q[2]);\n  A(d, d, d);\n  Z(e, b, a);\n  Z(f, d, c);\n  A(g, d, c);\n  A(h, b, a);\n\n  M(p[0], e, f);\n  M(p[1], h, g);\n  M(p[2], g, f);\n  M(p[3], e, h);\n}\n\nfunction cswap(p, q, b) {\n  var i;\n  for (i = 0; i < 4; i++) {\n    sel25519(p[i], q[i], b);\n  }\n}\n\nfunction pack(r, p) {\n  var tx = gf(), ty = gf(), zi = gf();\n  inv25519(zi, p[2]);\n  M(tx, p[0], zi);\n  M(ty, p[1], zi);\n  pack25519(r, ty);\n  r[31] ^= par25519(tx) << 7;\n}\n\nfunction scalarmult(p, q, s) {\n  var b, i;\n  set25519(p[0], gf0);\n  set25519(p[1], gf1);\n  set25519(p[2], gf1);\n  set25519(p[3], gf0);\n  for (i = 255; i >= 0; --i) {\n    b = (s[(i/8)|0] >> (i&7)) & 1;\n    cswap(p, q, b);\n    add(q, p);\n    add(p, p);\n    cswap(p, q, b);\n  }\n}\n\nfunction scalarbase(p, s) {\n  var q = [gf(), gf(), gf(), gf()];\n  set25519(q[0], X);\n  set25519(q[1], Y);\n  set25519(q[2], gf1);\n  M(q[3], X, Y);\n  scalarmult(p, q, s);\n}\n\nfunction crypto_sign_keypair(pk, sk, seeded) {\n  var d = new Uint8Array(64);\n  var p = [gf(), gf(), gf(), gf()];\n  var i;\n\n  if (!seeded) randombytes(sk, 32);\n  crypto_hash(d, sk, 32);\n  d[0] &= 248;\n  d[31] &= 127;\n  d[31] |= 64;\n\n  scalarbase(p, d);\n  pack(pk, p);\n\n  for (i = 0; i < 32; i++) sk[i+32] = pk[i];\n  return 0;\n}\n\nvar L = new Float64Array([0xed, 0xd3, 0xf5, 0x5c, 0x1a, 0x63, 0x12, 0x58, 0xd6, 0x9c, 0xf7, 0xa2, 0xde, 0xf9, 0xde, 0x14, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0x10]);\n\nfunction modL(r, x) {\n  var carry, i, j, k;\n  for (i = 63; i >= 32; --i) {\n    carry = 0;\n    for (j = i - 32, k = i - 12; j < k; ++j) {\n      x[j] += carry - 16 * x[i] * L[j - (i - 32)];\n      carry = Math.floor((x[j] + 128) / 256);\n      x[j] -= carry * 256;\n    }\n    x[j] += carry;\n    x[i] = 0;\n  }\n  carry = 0;\n  for (j = 0; j < 32; j++) {\n    x[j] += carry - (x[31] >> 4) * L[j];\n    carry = x[j] >> 8;\n    x[j] &= 255;\n  }\n  for (j = 0; j < 32; j++) x[j] -= carry * L[j];\n  for (i = 0; i < 32; i++) {\n    x[i+1] += x[i] >> 8;\n    r[i] = x[i] & 255;\n  }\n}\n\nfunction reduce(r) {\n  var x = new Float64Array(64), i;\n  for (i = 0; i < 64; i++) x[i] = r[i];\n  for (i = 0; i < 64; i++) r[i] = 0;\n  modL(r, x);\n}\n\n// Note: difference from C - smlen returned, not passed as argument.\nfunction crypto_sign(sm, m, n, sk) {\n  var d = new Uint8Array(64), h = new Uint8Array(64), r = new Uint8Array(64);\n  var i, j, x = new Float64Array(64);\n  var p = [gf(), gf(), gf(), gf()];\n\n  crypto_hash(d, sk, 32);\n  d[0] &= 248;\n  d[31] &= 127;\n  d[31] |= 64;\n\n  var smlen = n + 64;\n  for (i = 0; i < n; i++) sm[64 + i] = m[i];\n  for (i = 0; i < 32; i++) sm[32 + i] = d[32 + i];\n\n  crypto_hash(r, sm.subarray(32), n+32);\n  reduce(r);\n  scalarbase(p, r);\n  pack(sm, p);\n\n  for (i = 32; i < 64; i++) sm[i] = sk[i];\n  crypto_hash(h, sm, n + 64);\n  reduce(h);\n\n  for (i = 0; i < 64; i++) x[i] = 0;\n  for (i = 0; i < 32; i++) x[i] = r[i];\n  for (i = 0; i < 32; i++) {\n    for (j = 0; j < 32; j++) {\n      x[i+j] += h[i] * d[j];\n    }\n  }\n\n  modL(sm.subarray(32), x);\n  return smlen;\n}\n\nfunction unpackneg(r, p) {\n  var t = gf(), chk = gf(), num = gf(),\n      den = gf(), den2 = gf(), den4 = gf(),\n      den6 = gf();\n\n  set25519(r[2], gf1);\n  unpack25519(r[1], p);\n  S(num, r[1]);\n  M(den, num, D);\n  Z(num, num, r[2]);\n  A(den, r[2], den);\n\n  S(den2, den);\n  S(den4, den2);\n  M(den6, den4, den2);\n  M(t, den6, num);\n  M(t, t, den);\n\n  pow2523(t, t);\n  M(t, t, num);\n  M(t, t, den);\n  M(t, t, den);\n  M(r[0], t, den);\n\n  S(chk, r[0]);\n  M(chk, chk, den);\n  if (neq25519(chk, num)) M(r[0], r[0], I);\n\n  S(chk, r[0]);\n  M(chk, chk, den);\n  if (neq25519(chk, num)) return -1;\n\n  if (par25519(r[0]) === (p[31]>>7)) Z(r[0], gf0, r[0]);\n\n  M(r[3], r[0], r[1]);\n  return 0;\n}\n\nfunction crypto_sign_open(m, sm, n, pk) {\n  var i;\n  var t = new Uint8Array(32), h = new Uint8Array(64);\n  var p = [gf(), gf(), gf(), gf()],\n      q = [gf(), gf(), gf(), gf()];\n\n  if (n < 64) return -1;\n\n  if (unpackneg(q, pk)) return -1;\n\n  for (i = 0; i < n; i++) m[i] = sm[i];\n  for (i = 0; i < 32; i++) m[i+32] = pk[i];\n  crypto_hash(h, m, n);\n  reduce(h);\n  scalarmult(p, q, h);\n\n  scalarbase(q, sm.subarray(32));\n  add(p, q);\n  pack(t, p);\n\n  n -= 64;\n  if (crypto_verify_32(sm, 0, t, 0)) {\n    for (i = 0; i < n; i++) m[i] = 0;\n    return -1;\n  }\n\n  for (i = 0; i < n; i++) m[i] = sm[i + 64];\n  return n;\n}\n\nvar crypto_secretbox_KEYBYTES = 32,\n    crypto_secretbox_NONCEBYTES = 24,\n    crypto_secretbox_ZEROBYTES = 32,\n    crypto_secretbox_BOXZEROBYTES = 16,\n    crypto_scalarmult_BYTES = 32,\n    crypto_scalarmult_SCALARBYTES = 32,\n    crypto_box_PUBLICKEYBYTES = 32,\n    crypto_box_SECRETKEYBYTES = 32,\n    crypto_box_BEFORENMBYTES = 32,\n    crypto_box_NONCEBYTES = crypto_secretbox_NONCEBYTES,\n    crypto_box_ZEROBYTES = crypto_secretbox_ZEROBYTES,\n    crypto_box_BOXZEROBYTES = crypto_secretbox_BOXZEROBYTES,\n    crypto_sign_BYTES = 64,\n    crypto_sign_PUBLICKEYBYTES = 32,\n    crypto_sign_SECRETKEYBYTES = 64,\n    crypto_sign_SEEDBYTES = 32,\n    crypto_hash_BYTES = 64;\n\nnacl.lowlevel = {\n  crypto_core_hsalsa20: crypto_core_hsalsa20,\n  crypto_stream_xor: crypto_stream_xor,\n  crypto_stream: crypto_stream,\n  crypto_stream_salsa20_xor: crypto_stream_salsa20_xor,\n  crypto_stream_salsa20: crypto_stream_salsa20,\n  crypto_onetimeauth: crypto_onetimeauth,\n  crypto_onetimeauth_verify: crypto_onetimeauth_verify,\n  crypto_verify_16: crypto_verify_16,\n  crypto_verify_32: crypto_verify_32,\n  crypto_secretbox: crypto_secretbox,\n  crypto_secretbox_open: crypto_secretbox_open,\n  crypto_scalarmult: crypto_scalarmult,\n  crypto_scalarmult_base: crypto_scalarmult_base,\n  crypto_box_beforenm: crypto_box_beforenm,\n  crypto_box_afternm: crypto_box_afternm,\n  crypto_box: crypto_box,\n  crypto_box_open: crypto_box_open,\n  crypto_box_keypair: crypto_box_keypair,\n  crypto_hash: crypto_hash,\n  crypto_sign: crypto_sign,\n  crypto_sign_keypair: crypto_sign_keypair,\n  crypto_sign_open: crypto_sign_open,\n\n  crypto_secretbox_KEYBYTES: crypto_secretbox_KEYBYTES,\n  crypto_secretbox_NONCEBYTES: crypto_secretbox_NONCEBYTES,\n  crypto_secretbox_ZEROBYTES: crypto_secretbox_ZEROBYTES,\n  crypto_secretbox_BOXZEROBYTES: crypto_secretbox_BOXZEROBYTES,\n  crypto_scalarmult_BYTES: crypto_scalarmult_BYTES,\n  crypto_scalarmult_SCALARBYTES: crypto_scalarmult_SCALARBYTES,\n  crypto_box_PUBLICKEYBYTES: crypto_box_PUBLICKEYBYTES,\n  crypto_box_SECRETKEYBYTES: crypto_box_SECRETKEYBYTES,\n  crypto_box_BEFORENMBYTES: crypto_box_BEFORENMBYTES,\n  crypto_box_NONCEBYTES: crypto_box_NONCEBYTES,\n  crypto_box_ZEROBYTES: crypto_box_ZEROBYTES,\n  crypto_box_BOXZEROBYTES: crypto_box_BOXZEROBYTES,\n  crypto_sign_BYTES: crypto_sign_BYTES,\n  crypto_sign_PUBLICKEYBYTES: crypto_sign_PUBLICKEYBYTES,\n  crypto_sign_SECRETKEYBYTES: crypto_sign_SECRETKEYBYTES,\n  crypto_sign_SEEDBYTES: crypto_sign_SEEDBYTES,\n  crypto_hash_BYTES: crypto_hash_BYTES,\n\n  gf: gf,\n  D: D,\n  L: L,\n  pack25519: pack25519,\n  unpack25519: unpack25519,\n  M: M,\n  A: A,\n  S: S,\n  Z: Z,\n  pow2523: pow2523,\n  add: add,\n  set25519: set25519,\n  modL: modL,\n  scalarmult: scalarmult,\n  scalarbase: scalarbase,\n};\n\n/* High-level API */\n\nfunction checkLengths(k, n) {\n  if (k.length !== crypto_secretbox_KEYBYTES) throw new Error('bad key size');\n  if (n.length !== crypto_secretbox_NONCEBYTES) throw new Error('bad nonce size');\n}\n\nfunction checkBoxLengths(pk, sk) {\n  if (pk.length !== crypto_box_PUBLICKEYBYTES) throw new Error('bad public key size');\n  if (sk.length !== crypto_box_SECRETKEYBYTES) throw new Error('bad secret key size');\n}\n\nfunction checkArrayTypes() {\n  for (var i = 0; i < arguments.length; i++) {\n    if (!(arguments[i] instanceof Uint8Array))\n      throw new TypeError('unexpected type, use Uint8Array');\n  }\n}\n\nfunction cleanup(arr) {\n  for (var i = 0; i < arr.length; i++) arr[i] = 0;\n}\n\nnacl.randomBytes = function(n) {\n  var b = new Uint8Array(n);\n  randombytes(b, n);\n  return b;\n};\n\nnacl.secretbox = function(msg, nonce, key) {\n  checkArrayTypes(msg, nonce, key);\n  checkLengths(key, nonce);\n  var m = new Uint8Array(crypto_secretbox_ZEROBYTES + msg.length);\n  var c = new Uint8Array(m.length);\n  for (var i = 0; i < msg.length; i++) m[i+crypto_secretbox_ZEROBYTES] = msg[i];\n  crypto_secretbox(c, m, m.length, nonce, key);\n  return c.subarray(crypto_secretbox_BOXZEROBYTES);\n};\n\nnacl.secretbox.open = function(box, nonce, key) {\n  checkArrayTypes(box, nonce, key);\n  checkLengths(key, nonce);\n  var c = new Uint8Array(crypto_secretbox_BOXZEROBYTES + box.length);\n  var m = new Uint8Array(c.length);\n  for (var i = 0; i < box.length; i++) c[i+crypto_secretbox_BOXZEROBYTES] = box[i];\n  if (c.length < 32) return null;\n  if (crypto_secretbox_open(m, c, c.length, nonce, key) !== 0) return null;\n  return m.subarray(crypto_secretbox_ZEROBYTES);\n};\n\nnacl.secretbox.keyLength = crypto_secretbox_KEYBYTES;\nnacl.secretbox.nonceLength = crypto_secretbox_NONCEBYTES;\nnacl.secretbox.overheadLength = crypto_secretbox_BOXZEROBYTES;\n\nnacl.scalarMult = function(n, p) {\n  checkArrayTypes(n, p);\n  if (n.length !== crypto_scalarmult_SCALARBYTES) throw new Error('bad n size');\n  if (p.length !== crypto_scalarmult_BYTES) throw new Error('bad p size');\n  var q = new Uint8Array(crypto_scalarmult_BYTES);\n  crypto_scalarmult(q, n, p);\n  return q;\n};\n\nnacl.scalarMult.base = function(n) {\n  checkArrayTypes(n);\n  if (n.length !== crypto_scalarmult_SCALARBYTES) throw new Error('bad n size');\n  var q = new Uint8Array(crypto_scalarmult_BYTES);\n  crypto_scalarmult_base(q, n);\n  return q;\n};\n\nnacl.scalarMult.scalarLength = crypto_scalarmult_SCALARBYTES;\nnacl.scalarMult.groupElementLength = crypto_scalarmult_BYTES;\n\nnacl.box = function(msg, nonce, publicKey, secretKey) {\n  var k = nacl.box.before(publicKey, secretKey);\n  return nacl.secretbox(msg, nonce, k);\n};\n\nnacl.box.before = function(publicKey, secretKey) {\n  checkArrayTypes(publicKey, secretKey);\n  checkBoxLengths(publicKey, secretKey);\n  var k = new Uint8Array(crypto_box_BEFORENMBYTES);\n  crypto_box_beforenm(k, publicKey, secretKey);\n  return k;\n};\n\nnacl.box.after = nacl.secretbox;\n\nnacl.box.open = function(msg, nonce, publicKey, secretKey) {\n  var k = nacl.box.before(publicKey, secretKey);\n  return nacl.secretbox.open(msg, nonce, k);\n};\n\nnacl.box.open.after = nacl.secretbox.open;\n\nnacl.box.keyPair = function() {\n  var pk = new Uint8Array(crypto_box_PUBLICKEYBYTES);\n  var sk = new Uint8Array(crypto_box_SECRETKEYBYTES);\n  crypto_box_keypair(pk, sk);\n  return {publicKey: pk, secretKey: sk};\n};\n\nnacl.box.keyPair.fromSecretKey = function(secretKey) {\n  checkArrayTypes(secretKey);\n  if (secretKey.length !== crypto_box_SECRETKEYBYTES)\n    throw new Error('bad secret key size');\n  var pk = new Uint8Array(crypto_box_PUBLICKEYBYTES);\n  crypto_scalarmult_base(pk, secretKey);\n  return {publicKey: pk, secretKey: new Uint8Array(secretKey)};\n};\n\nnacl.box.publicKeyLength = crypto_box_PUBLICKEYBYTES;\nnacl.box.secretKeyLength = crypto_box_SECRETKEYBYTES;\nnacl.box.sharedKeyLength = crypto_box_BEFORENMBYTES;\nnacl.box.nonceLength = crypto_box_NONCEBYTES;\nnacl.box.overheadLength = nacl.secretbox.overheadLength;\n\nnacl.sign = function(msg, secretKey) {\n  checkArrayTypes(msg, secretKey);\n  if (secretKey.length !== crypto_sign_SECRETKEYBYTES)\n    throw new Error('bad secret key size');\n  var signedMsg = new Uint8Array(crypto_sign_BYTES+msg.length);\n  crypto_sign(signedMsg, msg, msg.length, secretKey);\n  return signedMsg;\n};\n\nnacl.sign.open = function(signedMsg, publicKey) {\n  checkArrayTypes(signedMsg, publicKey);\n  if (publicKey.length !== crypto_sign_PUBLICKEYBYTES)\n    throw new Error('bad public key size');\n  var tmp = new Uint8Array(signedMsg.length);\n  var mlen = crypto_sign_open(tmp, signedMsg, signedMsg.length, publicKey);\n  if (mlen < 0) return null;\n  var m = new Uint8Array(mlen);\n  for (var i = 0; i < m.length; i++) m[i] = tmp[i];\n  return m;\n};\n\nnacl.sign.detached = function(msg, secretKey) {\n  var signedMsg = nacl.sign(msg, secretKey);\n  var sig = new Uint8Array(crypto_sign_BYTES);\n  for (var i = 0; i < sig.length; i++) sig[i] = signedMsg[i];\n  return sig;\n};\n\nnacl.sign.detached.verify = function(msg, sig, publicKey) {\n  checkArrayTypes(msg, sig, publicKey);\n  if (sig.length !== crypto_sign_BYTES)\n    throw new Error('bad signature size');\n  if (publicKey.length !== crypto_sign_PUBLICKEYBYTES)\n    throw new Error('bad public key size');\n  var sm = new Uint8Array(crypto_sign_BYTES + msg.length);\n  var m = new Uint8Array(crypto_sign_BYTES + msg.length);\n  var i;\n  for (i = 0; i < crypto_sign_BYTES; i++) sm[i] = sig[i];\n  for (i = 0; i < msg.length; i++) sm[i+crypto_sign_BYTES] = msg[i];\n  return (crypto_sign_open(m, sm, sm.length, publicKey) >= 0);\n};\n\nnacl.sign.keyPair = function() {\n  var pk = new Uint8Array(crypto_sign_PUBLICKEYBYTES);\n  var sk = new Uint8Array(crypto_sign_SECRETKEYBYTES);\n  crypto_sign_keypair(pk, sk);\n  return {publicKey: pk, secretKey: sk};\n};\n\nnacl.sign.keyPair.fromSecretKey = function(secretKey) {\n  checkArrayTypes(secretKey);\n  if (secretKey.length !== crypto_sign_SECRETKEYBYTES)\n    throw new Error('bad secret key size');\n  var pk = new Uint8Array(crypto_sign_PUBLICKEYBYTES);\n  for (var i = 0; i < pk.length; i++) pk[i] = secretKey[32+i];\n  return {publicKey: pk, secretKey: new Uint8Array(secretKey)};\n};\n\nnacl.sign.keyPair.fromSeed = function(seed) {\n  checkArrayTypes(seed);\n  if (seed.length !== crypto_sign_SEEDBYTES)\n    throw new Error('bad seed size');\n  var pk = new Uint8Array(crypto_sign_PUBLICKEYBYTES);\n  var sk = new Uint8Array(crypto_sign_SECRETKEYBYTES);\n  for (var i = 0; i < 32; i++) sk[i] = seed[i];\n  crypto_sign_keypair(pk, sk, true);\n  return {publicKey: pk, secretKey: sk};\n};\n\nnacl.sign.publicKeyLength = crypto_sign_PUBLICKEYBYTES;\nnacl.sign.secretKeyLength = crypto_sign_SECRETKEYBYTES;\nnacl.sign.seedLength = crypto_sign_SEEDBYTES;\nnacl.sign.signatureLength = crypto_sign_BYTES;\n\nnacl.hash = function(msg) {\n  checkArrayTypes(msg);\n  var h = new Uint8Array(crypto_hash_BYTES);\n  crypto_hash(h, msg, msg.length);\n  return h;\n};\n\nnacl.hash.hashLength = crypto_hash_BYTES;\n\nnacl.verify = function(x, y) {\n  checkArrayTypes(x, y);\n  // Zero length arguments are considered not equal.\n  if (x.length === 0 || y.length === 0) return false;\n  if (x.length !== y.length) return false;\n  return (vn(x, 0, y, 0, x.length) === 0) ? true : false;\n};\n\nnacl.setPRNG = function(fn) {\n  randombytes = fn;\n};\n\n(function() {\n  // Initialize PRNG if environment provides CSPRNG.\n  // If not, methods calling randombytes will throw.\n  var crypto = typeof self !== 'undefined' ? (self.crypto || self.msCrypto) : null;\n  if (crypto && crypto.getRandomValues) {\n    // Browsers.\n    var QUOTA = 65536;\n    nacl.setPRNG(function(x, n) {\n      var i, v = new Uint8Array(n);\n      for (i = 0; i < n; i += QUOTA) {\n        crypto.getRandomValues(v.subarray(i, i + Math.min(n - i, QUOTA)));\n      }\n      for (i = 0; i < n; i++) x[i] = v[i];\n      cleanup(v);\n    });\n  } else if (typeof commonjsRequire !== 'undefined') {\n    // Node.js.\n    crypto = require$$0;\n    if (crypto && crypto.randomBytes) {\n      nacl.setPRNG(function(x, n) {\n        var i, v = crypto.randomBytes(n);\n        for (i = 0; i < n; i++) x[i] = v[i];\n        cleanup(v);\n      });\n    }\n  }\n})();\n\n})( module.exports ? module.exports : (self.nacl = self.nacl || {}));\n});\n\nvar naclUtil = createCommonjsModule(function (module) {\n// Written in 2014-2016 by Dmitry Chestnykh and Devi Mandiri.\n// Public domain.\n(function(root, f) {\n  if ( module.exports) module.exports = f();\n  else if (root.nacl) root.nacl.util = f();\n  else {\n    root.nacl = {};\n    root.nacl.util = f();\n  }\n}(commonjsGlobal, function() {\n\n  var util = {};\n\n  function validateBase64(s) {\n    if (!(/^(?:[A-Za-z0-9+\\/]{2}[A-Za-z0-9+\\/]{2})*(?:[A-Za-z0-9+\\/]{2}==|[A-Za-z0-9+\\/]{3}=)?$/.test(s))) {\n      throw new TypeError('invalid encoding');\n    }\n  }\n\n  util.decodeUTF8 = function(s) {\n    if (typeof s !== 'string') throw new TypeError('expected string');\n    var i, d = unescape(encodeURIComponent(s)), b = new Uint8Array(d.length);\n    for (i = 0; i < d.length; i++) b[i] = d.charCodeAt(i);\n    return b;\n  };\n\n  util.encodeUTF8 = function(arr) {\n    var i, s = [];\n    for (i = 0; i < arr.length; i++) s.push(String.fromCharCode(arr[i]));\n    return decodeURIComponent(escape(s.join('')));\n  };\n\n  if (typeof atob === 'undefined') {\n    // Node.js\n\n    if (typeof Buffer.from !== 'undefined') {\n       // Node v6 and later\n      util.encodeBase64 = function (arr) { // v6 and later\n          return Buffer.from(arr).toString('base64');\n      };\n\n      util.decodeBase64 = function (s) {\n        validateBase64(s);\n        return new Uint8Array(Array.prototype.slice.call(Buffer.from(s, 'base64'), 0));\n      };\n\n    } else {\n      // Node earlier than v6\n      util.encodeBase64 = function (arr) { // v6 and later\n        return (new Buffer(arr)).toString('base64');\n      };\n\n      util.decodeBase64 = function(s) {\n        validateBase64(s);\n        return new Uint8Array(Array.prototype.slice.call(new Buffer(s, 'base64'), 0));\n      };\n    }\n\n  } else {\n    // Browsers\n\n    util.encodeBase64 = function(arr) {\n      var i, s = [], len = arr.length;\n      for (i = 0; i < len; i++) s.push(String.fromCharCode(arr[i]));\n      return btoa(s.join(''));\n    };\n\n    util.decodeBase64 = function(s) {\n      validateBase64(s);\n      var i, d = atob(s), b = new Uint8Array(d.length);\n      for (i = 0; i < d.length; i++) b[i] = d.charCodeAt(i);\n      return b;\n    };\n\n  }\n\n  return util;\n\n}));\n});\n\nfunction isObject(obj) {\n  return obj !== undefined && obj !== null && obj.constructor == Object;\n}\n\nfunction addHeader(_msg, flag) {\n  const msg = new Uint8Array(_msg.length + 1);\n\n  const header = new Uint8Array(1);\n  header[0] = flag;\n\n  msg.set(header);\n  msg.set(_msg, header.length);\n\n  return msg;\n}\n\nnaclFast.util = naclUtil;\n\nfunction send({ data, connector }) {\n  if (isObject(data)) {\n    data = JSON.stringify(data);\n  }\n\n  const nonce = new Uint8Array(integerToByteArray(2 * connector.sentCount, 24));\n\n  if (!connector.closed()) {\n    if (connector.sentCount > 1) {\n      let flag = 0;\n\n      if (typeof data == 'string') {\n        flag = 1;\n      }\n\n      const _encodedMessage = flag == 1 ? naclFast.util.decodeUTF8(data) : data;\n      const encodedMessage = addHeader(_encodedMessage, flag);\n\n      const encryptedMessage = naclFast.secretbox(encodedMessage, nonce, connector.sharedSecret);\n\n      if (connector.verbose) {\n        console.log();\n        console.log(`Connector â†’ Sending encrypted message #${connector.sentCount} @ ${connector.address}:`);\n        console.log(data);\n      }\n\n      connector.connection.websocket.send(encryptedMessage);\n    } else {\n      if (connector.verbose) {\n        console.log();\n        console.log(`Connector â†’ Sending message #${connector.sentCount} @ ${connector.address}:`);\n        console.log(data);\n      }\n\n      connector.connection.websocket.send(data);\n    }\n  } else {\n    console.log(`âš ï¸ Warning: \"${data}\" was not sent because connector is not ready`);\n  }\n}\n\nnaclFast.util = naclUtil;\n\nfunction isRpcCallResult(jsonData) {\n  return Object.keys(jsonData).includes('result') || Object.keys(jsonData).includes('error');\n}\n\nfunction wireReceive({ jsonData, encryptedData, rawMessage, wasEncrypted, connector }) {\n  connector.lastMessageAt = Date.now();\n\n  const nonce = new Uint8Array(integerToByteArray(2 * connector.receivedCount + 1, 24));\n\n  if (connector.verbose && !wasEncrypted) {\n    console.log();\n    console.log(`Connector â†’ Received message #${connector.receivedCount} @ ${connector.address}:`);\n  }\n\n  // ðŸ’¡ unencrypted jsonData !\n  if (jsonData) {\n    if (jsonData.jsonrpc) {\n      if (isRpcCallResult(jsonData)) {\n        if (connector.verbose && !wasEncrypted) {\n          console.log('Received plain-text rpc result');\n          console.log(jsonData);\n        }\n\n        connector.rpcClient.jsonrpcMsgReceive(rawMessage);\n      } else {\n        connector.emit('json_rpc', rawMessage);\n      }\n    } else {\n      connector.emit('receive', { jsonData, rawMessage });\n    }\n  } else if (encryptedData) {\n    // ðŸ’¡ encryptedJson data!!\n    if (connector.verbose == 'extra') {\n      console.log('Received bytes:');\n      console.log(encryptedData);\n      console.log(`Decrypting with shared secret ${connector.sharedSecret}...`);\n    }\n\n    const _decryptedMessage = naclFast.secretbox.open(encryptedData, nonce, connector.sharedSecret);\n\n    const flag = _decryptedMessage[0];\n    const decryptedMessage = _decryptedMessage.subarray(1);\n\n    if (flag == 1) {\n      const decodedMessage = naclFast.util.encodeUTF8(decryptedMessage);\n\n      try {\n        const jsonData = JSON.parse(decodedMessage);\n\n        // ðŸ’¡ rpc\n        if (jsonData.jsonrpc) {\n          if (connector.verbose) {\n            console.log('Received and decrypted rpc result:');\n            console.log(jsonData);\n          }\n\n          wireReceive({ jsonData, rawMessage: decodedMessage, wasEncrypted: true, connector });\n        } else if (jsonData.tag) {\n          // ðŸ’¡ tag\n          const msg = jsonData;\n\n          if (msg.tag == 'file_not_found') {\n            connector.emit(msg.tag, { ...msg, ...{ tag: undefined } });\n          } else if (msg.tag == 'binary_start') {\n            connector.emit(msg.tag, { ...msg, ...{ tag: undefined } });\n          } else if (msg.tag == 'binary_end') {\n            connector.emit(msg.tag, { sessionId: msg.sessionId });\n          } else {\n            connector.emit('receive', { jsonData, rawMessage: decodedMessage });\n          }\n        } else if (jsonData.state) {\n          // ðŸ’¡ Initial state sending ... part of Connectome protocol\n          connector.emit('receive_state', jsonData.state);\n        } else if (jsonData.diff) {\n          // ðŸ’¡ Subsequent JSON patch diffs (rfc6902)* ... part of Connectome protocol\n          connector.emit('receive_diff', jsonData.diff);\n        } else if (jsonData.signal) {\n          connector.emit(jsonData.signal, jsonData.data);\n        } else {\n          connector.emit('receive', { jsonData, rawMessage: decodedMessage });\n        }\n      } catch (e) {\n        console.log(\"Couldn't parse json message although the flag was for string ...\");\n        throw e;\n      }\n    } else {\n      const binaryData = decryptedMessage;\n\n      const sessionId = Buffer.from(binaryData.buffer, binaryData.byteOffset, 64).toString();\n      const binaryPayload = Buffer.from(binaryData.buffer, binaryData.byteOffset + 64);\n\n      connector.emit('binary_data', { sessionId, data: binaryPayload });\n    }\n  }\n}\n\nclass Channel extends Eev {\n  constructor(connector) {\n    super();\n\n    this.connector = connector;\n  }\n\n  send(...args) {\n    this.connector.send(...args);\n  }\n}\n\nvar errorCodes = {\n  PARSE_ERROR: -32700,\n  INVALID_REQUEST: -32600,\n  METHOD_NOT_FOUND: -32601,\n  INVALID_PARAMS: -32602,\n  REMOTE_INTERNAL_ERROR: -32603\n};\n\nclass MoleServer {\n  constructor({ transports }) {\n    if (!transports) throw new Error('TRANSPORT_REQUIRED');\n\n    this.transportsToRegister = transports;\n    this.methods = {};\n  }\n\n  setMethodPrefix(methodPrefix) {\n    this.methodPrefix = methodPrefix;\n  }\n\n  expose(methods) {\n    this.methods = methods;\n  }\n\n  registerTransport(transport) {\n    transport.onData(this._processRequest.bind(this, transport));\n  }\n\n  async _processRequest(transport, data) {\n    const requestData = JSON.parse(data);\n    let responseData;\n\n    if (Array.isArray(requestData)) {\n      responseData = await Promise.all(requestData.map(request => this._callMethod(request, transport)));\n    } else {\n      responseData = await this._callMethod(requestData, transport);\n    }\n\n    return JSON.stringify(responseData);\n  }\n\n  async _callMethod(request, transport) {\n    const isRequest = request.hasOwnProperty('method');\n    if (!isRequest) return;\n\n    const { method, params = [], id } = request;\n\n    let methodName = method;\n\n    if (methodName.includes('::')) {\n      const [prefix, name] = methodName.split('::');\n      methodName = name;\n      if (this.methodPrefix && prefix != this.methodPrefix) {\n        return;\n      }\n    }\n\n    const methodNotFound =\n      !this.methods[methodName] ||\n      typeof this.methods[methodName] !== 'function' ||\n      methodName === 'constructor' ||\n      methodName.startsWith('_') ||\n      this.methods[methodName] === Object.prototype[methodName];\n\n    let response = {};\n\n    if (methodNotFound) {\n      response = {\n        jsonrpc: '2.0',\n        id,\n        error: {\n          code: errorCodes.METHOD_NOT_FOUND,\n          message: `Method [${methodName}] not found on remote target object`\n        }\n      };\n    } else {\n      this.currentTransport = transport;\n\n      try {\n        const result = await this.methods[methodName].apply(this.methods, params);\n\n        if (!id) return;\n\n        response = {\n          jsonrpc: '2.0',\n          result: typeof result === 'undefined' ? null : result,\n          id\n        };\n      } catch (e) {\n        console.log(`Exposed RPC method ${method} internal error:`);\n        console.log(e);\n        console.log('Sending this error as a result to calling client ...');\n        response = {\n          jsonrpc: '2.0',\n          error: {\n            code: errorCodes.REMOTE_INTERNAL_ERROR,\n            message: `Method [${method}] internal error: ${e.stack}`\n          },\n          id\n        };\n      }\n    }\n\n    return response;\n  }\n\n  run() {\n    for (const transport of this.transportsToRegister) {\n      this.registerTransport(transport);\n    }\n\n    this.transportsToRegister = [];\n  }\n}\n\nclass Base extends Error {\n  constructor(data = {}) {\n    super();\n\n    if (!data.code) throw new Error('Code required');\n    if (!data.message) throw new Error('Message required');\n\n    this.code = data.code;\n    this.message = data.message;\n  }\n}\n\nclass MethodNotFound extends Base {\n  constructor(message) {\n    super({\n      code: errorCodes.METHOD_NOT_FOUND,\n      message: message || 'Method not found'\n    });\n  }\n}\n\nclass InvalidParams extends Base {\n  constructor() {\n    super({\n      code: errorCodes.INVALID_PARAMS,\n      message: 'Invalid params'\n    });\n  }\n}\n\nclass RemoteInternalError extends Base {\n  constructor(message) {\n    super({\n      code: errorCodes.REMOTE_INTERNAL_ERROR,\n      message: `Error originating at remote endpoint: ${message}` || 'Remote Internal error'\n    });\n  }\n}\n\nclass ParseError extends Base {\n  constructor() {\n    super({\n      code: errorCodes.PARSE_ERROR,\n      message: 'Parse error'\n    });\n  }\n}\n\nclass InvalidRequest extends Base {\n  constructor() {\n    super({\n      code: errorCodes.INVALID_REQUEST,\n      message: 'Invalid request'\n    });\n  }\n}\n\nclass ServerError extends Base {}\n\nclass RequestTimeout extends ServerError {\n  constructor(message, timeout) {\n    super({\n      code: -32001,\n      message: `Request exceeded maximum execution time (${timeout}ms): ${message}`\n    });\n  }\n}\n\nvar X = {\n  Base,\n  MethodNotFound,\n  InvalidRequest,\n  InvalidParams,\n  RemoteInternalError,\n  ServerError,\n  ParseError,\n  RequestTimeout\n};\n\nclass MoleClient {\n  constructor({ transport, requestTimeout = 20000 }) {\n    if (!transport) throw new Error('TRANSPORT_REQUIRED');\n    this.transport = transport;\n\n    this.requestTimeout = requestTimeout;\n\n    this.pendingRequest = {};\n    this.initialized = false;\n  }\n\n  setMethodPrefix(methodPrefix) {\n    this.methodPrefix = methodPrefix;\n  }\n\n  async callMethod(methodName, params) {\n    this._init();\n\n    const method = this.methodPrefix ? `${this.methodPrefix}::${methodName}` : methodName;\n\n    const request = this._makeRequestObject({ method, params });\n\n    return this._sendRequest({ object: request, id: request.id });\n  }\n\n  notify(method, params) {\n    this._init();\n\n    const request = this._makeRequestObject({ method, params, mode: 'notify' });\n    this.transport.sendData(JSON.stringify(request));\n    return true;\n  }\n\n  async runBatch(calls) {\n    const batchId = this._generateId();\n    let onlyNotifications = true;\n\n    const batchRequest = [];\n\n    for (const [method, params, mode] of calls) {\n      const request = this._makeRequestObject({ method, params, mode, batchId });\n\n      if (request.id) {\n        onlyNotifications = false;\n      }\n\n      batchRequest.push(request);\n    }\n\n    if (onlyNotifications) {\n      return this.transport.sendData(JSON.stringify(batchRequest));\n    }\n\n    return this._sendRequest({ object: batchRequest, id: batchId });\n  }\n\n  _init() {\n    if (this.initialized) return;\n\n    this.transport.onData(this._processResponse.bind(this));\n\n    this.initialized = true;\n  }\n\n  _sendRequest({ object, id }) {\n    const data = JSON.stringify(object);\n\n    return new Promise((resolve, reject) => {\n      this.pendingRequest[id] = { resolve, reject, sentObject: object };\n\n      setTimeout(() => {\n        if (this.pendingRequest[id]) {\n          delete this.pendingRequest[id];\n\n          reject(new X.RequestTimeout(data, this.requestTimeout));\n        }\n      }, this.requestTimeout);\n\n      try {\n        this.transport.sendData(data);\n      } catch (e) {\n        delete this.pendingRequest[id];\n        reject(e);\n      }\n    });\n  }\n\n  _processResponse(data) {\n    const response = JSON.parse(data);\n\n    if (Array.isArray(response)) {\n      this._processBatchResponse(response);\n    } else {\n      this._processSingleCallResponse(response);\n    }\n  }\n\n  _processSingleCallResponse(response) {\n    const isSuccessfulResponse = response.hasOwnProperty('result') || false;\n    const isErrorResponse = response.hasOwnProperty('error');\n\n    if (!isSuccessfulResponse && !isErrorResponse) return;\n\n    const resolvers = this.pendingRequest[response.id];\n    delete this.pendingRequest[response.id];\n\n    if (!resolvers) return;\n\n    if (isSuccessfulResponse) {\n      resolvers.resolve(response.result);\n    } else if (isErrorResponse) {\n      const errorObject = this._makeErrorObject(response.error);\n      resolvers.reject(errorObject);\n    }\n  }\n\n  _processBatchResponse(responses) {\n    let batchId;\n    const responseById = {};\n    const errorsWithoutId = [];\n\n    for (const response of responses) {\n      if (response.id) {\n        if (!batchId) {\n          batchId = response.id.split('|')[0];\n        }\n\n        responseById[response.id] = response;\n      } else if (response.error) {\n        errorsWithoutId.push(response.error);\n      }\n    }\n\n    if (!this.pendingRequest[batchId]) return;\n\n    const { sentObject, resolve } = this.pendingRequest[batchId];\n    delete this.pendingRequest[batchId];\n\n    const batchResults = [];\n    let errorIdx = 0;\n    for (const request of sentObject) {\n      if (!request.id) {\n        batchResults.push(null);\n        continue;\n      }\n\n      const response = responseById[request.id];\n\n      if (response) {\n        const isSuccessfulResponse = response.hasOwnProperty('result') || false;\n\n        if (isSuccessfulResponse) {\n          batchResults.push({\n            success: true,\n            result: response.result\n          });\n        } else {\n          batchResults.push({\n            success: false,\n            result: this._makeErrorObject(response.error)\n          });\n        }\n      } else {\n        batchResults.push({\n          success: false,\n          error: this._makeErrorObject(errorsWithoutId[errorIdx])\n        });\n        errorIdx++;\n      }\n    }\n\n    resolve(batchResults);\n  }\n\n  _makeRequestObject({ method, params, mode, batchId }) {\n    const request = {\n      jsonrpc: '2.0',\n      method\n    };\n\n    if (params && params.length) {\n      request.params = params;\n    }\n\n    if (mode !== 'notify') {\n      request.id = batchId ? `${batchId}|${this._generateId()}` : this._generateId();\n    }\n\n    return request;\n  }\n\n  _makeErrorObject(errorData) {\n    const errorBuilder = {\n      [errorCodes.METHOD_NOT_FOUND]: () => {\n        return new X.MethodNotFound(errorData.message);\n      },\n      [errorCodes.REMOTE_INTERNAL_ERROR]: () => {\n        return new X.RemoteInternalError(errorData.message);\n      }\n    }[errorData.code];\n\n    return errorBuilder();\n  }\n\n  _generateId() {\n    const alphabet = 'bjectSymhasOwnProp-0123456789ABCDEFGHIJKLMNQRTUVWXYZ_dfgiklquvxz';\n    let size = 10;\n    let id = '';\n\n    while (0 < size--) {\n      id += alphabet[(Math.random() * 64) | 0];\n    }\n\n    return id;\n  }\n}\n\nfunction proxify(moleClient) {\n  const callMethodProxy = proxifyOwnMethod(moleClient.callMethod.bind(moleClient));\n  const notifyProxy = proxifyOwnMethod(moleClient.notify.bind(moleClient));\n\n  return new Proxy(moleClient, {\n    get(target, methodName) {\n      if (methodName === 'notify') {\n        return notifyProxy;\n      }\n\n      if (methodName === 'callMethod') {\n        return callMethodProxy;\n      }\n\n      if (methodName === 'then') {\n        return;\n      }\n\n      if (methodName === 'setMethodPrefix') {\n        return (...params) => moleClient.setMethodPrefix(params);\n      }\n\n      return (...params) => target.callMethod.call(target, methodName, params);\n    }\n  });\n}\n\nfunction proxifyOwnMethod(ownMethod) {\n  return new Proxy(ownMethod, {\n    get(target, methodName) {\n      return (...params) => target.call(null, methodName, params);\n    },\n    apply(target, _, args) {\n      return target.apply(null, args);\n    }\n  });\n}\n\nclass MoleClientProxified extends MoleClient {\n  constructor(...args) {\n    super(...args);\n    return proxify(this);\n  }\n}\n\nclass TransportClientChannel {\n  constructor(channel) {\n    this.channel = channel;\n  }\n\n  onData(callback) {\n    this.channel.on('json_rpc', callback);\n  }\n\n  sendData(data) {\n    this.channel.send(data);\n  }\n}\n\nclass TransportServerChannel {\n  constructor(channel) {\n    this.channel = channel;\n  }\n\n  onData(callback) {\n    this.channel.on('json_rpc', async reqData => {\n      const resData = await callback(reqData);\n      if (!resData) return;\n\n      this.channel.send(resData);\n    });\n  }\n}\n\nvar mole = /*#__PURE__*/Object.freeze({\n    __proto__: null,\n    MoleServer: MoleServer,\n    MoleClient: MoleClient,\n    MoleClientProxified: MoleClientProxified,\n    ClientTransport: TransportClientChannel,\n    ServerTransport: TransportServerChannel\n});\n\nclass ConnectomeError extends Error {\n  constructor(message, errorCode) {\n    super(message);\n\n    this.name = this.constructor.name;\n\n    this.errorCode = errorCode;\n  }\n\n  errorCode() {\n    return this.errorCode;\n  }\n}\n\nconst { MoleClient: MoleClient$1, ClientTransport } = mole;\n\nclass SpecificRpcClient {\n  constructor(connectorOrServersideChannel, methodPrefix, requestTimeout) {\n    this.moleChannel = new Channel(connectorOrServersideChannel);\n    this.methodPrefix = methodPrefix;\n\n    this.connectorOrServersideChannel = connectorOrServersideChannel;\n\n    this.client = new MoleClient$1({\n      requestTimeout,\n      transport: new ClientTransport(this.moleChannel)\n    });\n  }\n\n  jsonrpcMsgReceive(stringMessage) {\n    this.moleChannel.emit('json_rpc', stringMessage);\n  }\n\n  call(methodName, params) {\n    if (this.connectorOrServersideChannel.closed()) {\n      return new Promise((success, reject) => {\n        reject(\n          new ConnectomeError(\n            `Method call [${this.methodPrefix}::${methodName}] on closed channel or connector ignored. Please add a check for closed channel in your code.`,\n            'CLOSED_CHANNEL'\n          )\n        );\n      });\n    }\n\n    return this.client.callMethod(`${this.methodPrefix}::${methodName}`, params);\n  }\n}\n\nconst DEFAULT_REQUEST_TIMEOUT = 5000;\n\nclass RpcClient {\n  constructor(connectorOrServersideChannel, requestTimeout) {\n    this.connectorOrServersideChannel = connectorOrServersideChannel;\n    this.remoteObjects = {};\n    this.requestTimeout = requestTimeout || DEFAULT_REQUEST_TIMEOUT;\n  }\n\n  remoteObject(methodPrefix) {\n    const remoteObject = this.remoteObjects[methodPrefix];\n    if (!remoteObject) {\n      this.remoteObjects[methodPrefix] = new SpecificRpcClient(this.connectorOrServersideChannel, methodPrefix, this.requestTimeout);\n    }\n    return this.remoteObjects[methodPrefix];\n  }\n\n  jsonrpcMsgReceive(stringMessage) {\n    for (const remoteObject of Object.values(this.remoteObjects)) {\n      remoteObject.jsonrpcMsgReceive(stringMessage);\n    }\n  }\n}\n\nclass RPCTarget {\n  constructor({ serversideChannel, serverMethods, methodPrefix }) {\n    const transports = [new TransportServerChannel(serversideChannel)];\n    this.server = new MoleServer({ transports });\n    this.server.expose(serverMethods);\n    this.server.setMethodPrefix(methodPrefix);\n    this.server.run();\n  }\n}\n\nnaclFast.util = naclUtil;\n\nfunction newKeypair() {\n  const keys = naclFast.box.keyPair();\n  const publicKeyHex = bufferToHex(keys.publicKey);\n  const privateKeyHex = bufferToHex(keys.secretKey);\n\n  return { privateKey: keys.secretKey, publicKey: keys.publicKey, privateKeyHex, publicKeyHex };\n}\n\nnaclFast.util = naclUtil;\n\nclass Connector extends Eev {\n  constructor({\n    address,\n    protocol,\n    lane,\n    keypair = newKeypair(),\n    rpcRequestTimeout,\n    verbose = false,\n    tag\n  } = {}) {\n    super();\n\n    this.protocol = protocol;\n    this.lane = lane;\n\n    const { privateKey: clientPrivateKey, publicKey: clientPublicKey } = keypair;\n\n    this.clientPrivateKey = clientPrivateKey;\n    this.clientPublicKey = clientPublicKey;\n    this.clientPublicKeyHex = bufferToHex(clientPublicKey);\n\n    this.rpcClient = new RpcClient(this, rpcRequestTimeout);\n\n    this.address = address;\n    this.verbose = verbose;\n    this.tag = tag;\n\n    this.sentCount = 0;\n    this.receivedCount = 0;\n\n    this.successfulConnectsCount = 0;\n  }\n\n  send(data) {\n    send({ data, connector: this });\n    this.sentCount += 1;\n  }\n\n  signal(signal, data) {\n    this.send({ signal, data });\n  }\n\n  wireReceive({ jsonData, encryptedData, rawMessage }) {\n    wireReceive({ jsonData, encryptedData, rawMessage, connector: this });\n    this.receivedCount += 1;\n  }\n\n  isReady() {\n    return this.ready;\n  }\n\n  closed() {\n    return !this.connected;\n  }\n\n  decommission() {\n    this.decommissioned = true;\n  }\n\n  connectStatus(connected) {\n    if (connected) {\n      this.sentCount = 0;\n      this.receivedCount = 0;\n\n      this.connected = true;\n\n      this.successfulConnectsCount += 1;\n\n      const num = this.successfulConnectsCount;\n\n      this.diffieHellman({\n        clientPrivateKey: this.clientPrivateKey,\n        clientPublicKey: this.clientPublicKey,\n        lane: this.lane\n      })\n        .then(({ sharedSecret, sharedSecretHex }) => {\n          this.ready = true;\n          this.connectedAt = Date.now();\n\n          this.emit('ready', { sharedSecret, sharedSecretHex });\n\n          console.log(\n            `âœ“ Ready: DMT Protocol Connector [ ${this.address} (${this.tag}) Â· ${this.protocol}/${this.lane} ]`\n          );\n        })\n        .catch(e => {\n          if (num == this.successfulConnectsCount) {\n            console.log(e);\n            console.log('dropping connection and retrying again');\n            this.connection.terminate();\n          }\n        });\n    } else {\n      let justDisconnected;\n      if (this.connected) {\n        justDisconnected = true;\n      }\n\n      if (this.connected == undefined) {\n        console.log(\n          `Connector ${this.address} (${this.tag}) was not able to connect at first try, setting READY to false`\n        );\n      }\n\n      this.connected = false;\n      this.ready = false;\n      delete this.connectedAt;\n\n      if (justDisconnected) {\n        this.emit('disconnect');\n      }\n    }\n  }\n\n  remoteObject(handle) {\n    return {\n      call: (methodName, params = []) => {\n        return this.rpcClient.remoteObject(handle).call(methodName, listify(params));\n      }\n    };\n  }\n\n  attachObject(handle, obj) {\n    new RPCTarget({ serversideChannel: this, serverMethods: obj, methodPrefix: handle });\n  }\n\n  diffieHellman({ clientPrivateKey, clientPublicKey, lane }) {\n    return new Promise((success, reject) => {\n      this.remoteObject('Auth')\n        .call('exchangePubkeys', { pubkey: this.clientPublicKeyHex })\n        .then(remotePubkeyHex => {\n          const sharedSecret = naclFast.box.before(hexToBuffer(remotePubkeyHex), clientPrivateKey);\n          const sharedSecretHex = bufferToHex(sharedSecret);\n          this.sharedSecret = sharedSecret;\n\n          this._remotePubkeyHex = remotePubkeyHex;\n\n          success({ sharedSecret, sharedSecretHex });\n\n          if (this.verbose) {\n            console.log('Established shared secret through diffie-hellman exchange:');\n            console.log(sharedSecretHex);\n          }\n\n          this.remoteObject('Auth')\n            .call('finalizeHandshake', { lane })\n            .then(() => {})\n            .catch(reject);\n        })\n        .catch(reject);\n    });\n  }\n\n  clientPubkey() {\n    return this.clientPublicKeyHex;\n  }\n\n  remotePubkeyHex() {\n    return this._remotePubkeyHex;\n  }\n\n  remoteAddress() {\n    return this.address;\n  }\n}\n\nconst browser = typeof window !== 'undefined';\n\nfunction determineEndpoint({ endpoint, address, port }) {\n  // if endpoint is specified with \"/something\", it is rewritten as ws[s]://origin/something\n  if (browser && endpoint && endpoint.startsWith('/')) {\n    const wsProtocol = window.location.protocol.includes('s') ? 'wss' : 'ws';\n    endpoint = `${wsProtocol}://${window.location.host}${endpoint}`;\n  }\n\n  // if no endpoint is specified then use address and port if provided, otherwise use origin (in browser)\n  // in nodejs address and port have to be provided\n  if (!endpoint) {\n    if (browser) {\n      address = address || window.location.hostname;\n      const wsProtocol = window.location.protocol.includes('s') ? 'wss' : 'ws';\n\n      endpoint = `${wsProtocol}://${address}`;\n\n      if (port) {\n        endpoint = `${endpoint}:${port}`;\n      } else if (window.location.port) {\n        endpoint = `${endpoint}:${window.location.port}`;\n      }\n    } else {\n      endpoint = `ws://${address}:${port}`;\n    }\n  }\n\n  // if endpoint is provided directly and it didn't start with '/', then use this directly\n  return endpoint;\n}\n\nconst browser$1 = typeof window !== 'undefined';\n\nconst wsCONNECTING = 0;\nconst wsOPEN = 1;\n\nfunction establishAndMaintainConnection(\n  { endpoint, address, port, protocol, lane, keypair, remotePubkey, rpcRequestTimeout, verbose, tag },\n  { WebSocket, log }\n) {\n  endpoint = determineEndpoint({ endpoint, address, port });\n\n  const connector = new Connector({\n    address: endpoint,\n    protocol,\n    lane,\n    rpcRequestTimeout,\n    keypair,\n    verbose,\n    tag\n  });\n\n  if (connector.connection) {\n    return connector;\n  }\n\n  connector.connection = {\n    terminate() {\n      this.websocket._removeAllCallbacks();\n      this.websocket.close();\n      connector.connectStatus(false);\n    },\n    endpoint,\n    checkTicker: 0\n  };\n\n  setTimeout(() => tryReconnect({ connector, endpoint, protocol }, { WebSocket, log }), 10);\n\n  const connectionCheckInterval = 1500;\n  const callback = () => {\n    if (!connector.decommissioned) {\n      checkConnection({ connector, endpoint, protocol }, { WebSocket, log });\n      setTimeout(callback, connectionCheckInterval);\n    }\n  };\n\n  setTimeout(callback, connectionCheckInterval);\n\n  return connector;\n}\n\nfunction checkConnection({ connector, endpoint, protocol }, { WebSocket, log }) {\n  const conn = connector.connection;\n\n  if (connectionIdle(conn) || connector.decommissioned) {\n    if (connectionIdle(conn)) {\n      log(\n        `Connection ${connector.connection.endpoint} became idle, closing websocket ${conn.websocket.rand}`\n      );\n    } else {\n      log(\n        `Connection ${connector.connection.endpoint} decommisioned, closing websocket ${conn.websocket.rand}, will not retry again `\n      );\n    }\n\n    conn.terminate();\n    return;\n  }\n\n  const connected = socketConnected(conn);\n  if (connected) {\n    conn.websocket.send('ping');\n  } else {\n    if (connector.connected == undefined) {\n      log(`Setting connector status to FALSE because connector.connected is undefined`);\n      connector.connectStatus(false);\n    }\n\n    tryReconnect({ connector, endpoint, protocol }, { WebSocket, log });\n  }\n\n  conn.checkTicker += 1;\n}\n\nfunction tryReconnect({ connector, endpoint, protocol }, { WebSocket, log }) {\n  const conn = connector.connection;\n\n  if (conn.currentlyTryingWS && conn.currentlyTryingWS.readyState == wsCONNECTING) {\n    if (conn.currentlyTryingWS._waitForConnectCounter == 3) {\n      conn.currentlyTryingWS._removeAllCallbacks();\n      conn.currentlyTryingWS.close();\n    } else {\n      conn.currentlyTryingWS._waitForConnectCounter += 1;\n      return;\n    }\n  }\n\n  const ws = new WebSocket(endpoint, protocol);\n\n  conn.currentlyTryingWS = ws;\n  conn.currentlyTryingWS._waitForConnectCounter = 0;\n\n  ws.rand = Math.random();\n\n  if (browser$1) {\n    ws.binaryType = 'arraybuffer';\n  }\n\n  if (!browser$1) {\n    ws.on('error', error => {});\n  }\n\n  const openCallback = m => {\n    conn.currentlyTryingWS = null;\n    conn.checkTicker = 0;\n    addSocketListeners({ ws, connector, openCallback }, { log });\n    conn.websocket = ws;\n    connector.connectStatus(true);\n  };\n\n  ws._removeAllCallbacks = () => {\n    ws.removeEventListener('open', openCallback);\n  };\n\n  if (browser$1) {\n    ws.addEventListener('open', openCallback);\n  } else {\n    ws.on('open', openCallback);\n  }\n}\n\nfunction addSocketListeners({ ws, connector, openCallback }, { log }) {\n  const conn = connector.connection;\n\n  const errorCallback = m => {\n    log(`websocket ${ws.rand} conn ${connector.connection.endpoint} error`);\n    log(m);\n  };\n\n  const closeCallback = m => {\n    connector.connectStatus(false);\n  };\n\n  const messageCallback = _msg => {\n    conn.checkTicker = 0;\n\n    const msg = browser$1 ? _msg.data : _msg;\n\n    if (msg == 'pong') {\n      return;\n    }\n\n    let jsonData;\n\n    try {\n      jsonData = JSON.parse(msg);\n    } catch (e) {}\n\n    if (jsonData) {\n      connector.wireReceive({ jsonData, rawMessage: msg });\n    } else {\n      const encryptedData = browser$1 ? new Uint8Array(msg) : msg;\n      connector.wireReceive({ encryptedData });\n    }\n  };\n\n  ws._removeAllCallbacks = () => {\n    ws.removeEventListener('error', errorCallback);\n    ws.removeEventListener('close', closeCallback);\n    ws.removeEventListener('message', messageCallback);\n\n    ws.removeEventListener('open', openCallback);\n  };\n\n  if (browser$1) {\n    ws.addEventListener('error', errorCallback);\n    ws.addEventListener('close', closeCallback);\n    ws.addEventListener('message', messageCallback);\n  } else {\n    ws.on('error', errorCallback);\n    ws.on('close', closeCallback);\n    ws.on('message', messageCallback);\n  }\n}\n\nfunction socketConnected(conn) {\n  return conn.websocket && conn.websocket.readyState == wsOPEN;\n}\n\nfunction connectionIdle(conn) {\n  return socketConnected(conn) && conn.checkTicker > 5;\n}\n\nfunction establishAndMaintainConnection$1(opts) {\n  return establishAndMaintainConnection(opts, { WebSocket, log });\n}\n\nconst { applyPatch: applyJSONPatch } = fastJsonPatch;\n\nclass ConnectedStore extends WritableStore {\n  constructor({\n    endpoint,\n    address,\n    port,\n    protocol,\n    lane,\n    keypair = newKeypair(),\n    logStore,\n    rpcRequestTimeout,\n    verbose\n  } = {}) {\n    super({});\n\n    this.protocol = protocol;\n    this.lane = lane;\n\n    this.logStore = logStore;\n    this.verbose = verbose;\n\n    this.rpcRequestTimeout = rpcRequestTimeout;\n\n    this.connected = new WritableStore();\n\n    this.connect(endpoint, address, port, keypair);\n  }\n\n  signal(signal, data) {\n    if (this.connector.connected) {\n      console.log(`Sending signal '${signal}' over connector ${this.connector.address}`);\n      this.connector.signal(signal, data);\n    } else {\n      console.log(\n        'Warning: trying to send signal over disconnected connector, this should be prevented by GUI (to disable any backend state-change when disconnected)'\n      );\n    }\n  }\n\n  remoteObject(handle) {\n    return this.connector.remoteObject(handle);\n  }\n\n  connect(endpoint, address, port, keypair) {\n    this.connector = establishAndMaintainConnection$1({\n      endpoint,\n      address,\n      port,\n      protocol: this.protocol,\n      lane: this.lane,\n      keypair,\n      rpcRequestTimeout: this.rpcRequestTimeout,\n      verbose: this.verbose\n    });\n\n    this.connector.on('ready', ({ sharedSecret, sharedSecretHex }) => {\n      this.connected.set(true);\n      this.emit('ready');\n    });\n\n    // ðŸ’¡ connected == undefined ==> while trying to connect\n    // ðŸ’¡ connected == false => while disconnected\n    // ðŸ’¡ connected == true => while connected\n    setTimeout(() => {\n      if (this.connected.get() == undefined) {\n        this.connected.set(false);\n      }\n    }, 300);\n\n    this.connector.on('disconnect', () => {\n      this.connected.set(false);\n    });\n\n    // ðŸ’¡ Special incoming JSON message: { state: ... } ... parsed as part of 'Connectome State Syncing Protocol'\n    this.connector.on('receive_state', state => {\n      this.wireStateReceived = true;\n\n      if (this.verbose) {\n        console.log(`New store ${address} / ${this.protocol} / ${this.lane} state:`);\n        console.log(state);\n      }\n\n      this.set(state); // set and announce state\n    });\n\n    // ðŸ’¡ Special incoming JSON message: { diff: ... } ... parsed as part of 'Connectome State Syncing Protocol'\n    this.connector.on('receive_diff', diff => {\n      if (this.wireStateReceived) {\n        applyJSONPatch(this.state, diff);\n        this.announceStateChange();\n      }\n    });\n  }\n}\n\nclass MergeStore extends WritableStore {\n  constructor(initialState = {}) {\n    super(initialState);\n  }\n\n  set(state, { ignore = [] } = {}) {\n    const leaveState = {};\n\n    for (const key of ignore) {\n      leaveState[key] = this.state[key];\n    }\n\n    super.set({ ...state, ...leaveState });\n  }\n\n  setMerge(patch) {\n    super.set({ ...this.state, ...patch });\n  }\n\n  clearState({ except = [] } = {}) {\n    for (const key of Object.keys(this.state)) {\n      if (!except.includes(key)) {\n        delete this.state[key];\n      }\n    }\n  }\n}\n\nclass ConnectDevice {\n  constructor({ mcs, foreground, connectToDeviceKey }) {\n    this.mcs = mcs;\n    this.foreground = foreground;\n    this.connectToDeviceKey = connectToDeviceKey;\n  }\n\n  createStore({ address }) {\n    const {\n      port,\n      protocol,\n      lane,\n      logStore,\n      rpcRequestTimeout,\n      verbose,\n      privateKey: clientPrivateKey,\n      publicKey: clientPublicKey\n    } = this.mcs;\n\n    return new ConnectedStore({\n      address,\n      port,\n      protocol,\n      lane,\n      clientPrivateKey,\n      clientPublicKey,\n      logStore,\n      rpcRequestTimeout,\n      verbose\n    });\n  }\n\n  getDeviceKey(state) {\n    const { device } = state;\n\n    if (device && device.deviceKey) {\n      const { deviceKey } = device;\n      return deviceKey;\n    }\n  }\n\n  connectThisDevice({ address }) {\n    const thisStore = this.createStore({ address });\n\n    thisStore.subscribe(state => {\n      if (!state.nearbyDevices) {\n        state.nearbyDevices = [];\n      }\n\n      const deviceKey = this.getDeviceKey(state);\n\n      if (deviceKey) {\n        if (!this.thisDeviceAlreadySetup) {\n          this.mcs.set({ activeDeviceKey: deviceKey });\n          this.setConnectedStore({ deviceKey, store: thisStore });\n        }\n\n        const needToConnectAnotherDevice = this.connectToDeviceKey && this.connectToDeviceKey != deviceKey;\n\n        if (this.mcs.activeDeviceKey() == deviceKey && !needToConnectAnotherDevice) {\n          const optimisticDeviceName = state.device.deviceName;\n          this.foreground.set(state, { optimisticDeviceName });\n        }\n\n        this.foreground.setSpecial(state);\n\n        if (!this.thisDeviceAlreadySetup) {\n          if (needToConnectAnotherDevice) {\n            this.mcs.switch({ deviceKey: this.connectToDeviceKey });\n            delete this.connectToDeviceKey;\n          }\n\n          this.thisDeviceAlreadySetup = true;\n        }\n      }\n    });\n\n    return thisStore;\n  }\n\n  connectOtherDevice({ address, deviceKey }) {\n    const newStore = this.createStore({ address });\n\n    this.setConnectedStore({ deviceKey, store: newStore });\n\n    newStore.subscribe(state => {\n      if (this.mcs.activeDeviceKey() == deviceKey) {\n        const optimisticDeviceName = state.device ? state.device.deviceName : null;\n        this.foreground.set(state, { optimisticDeviceName });\n      }\n    });\n  }\n\n  // transfer connected state from currently active connected store into the \"connected\" store on MultiConnectedStore\n  setConnectedStore({ deviceKey, store }) {\n    this.mcs.stores[deviceKey] = store;\n\n    store.connected.subscribe(connected => {\n      if (this.mcs.activeDeviceKey() == deviceKey) {\n        this.mcs.connected.set(connected);\n      }\n    });\n  }\n}\n\nclass Foreground {\n  constructor({ mcs, thisDeviceStateKeys }) {\n    this.mcs = mcs;\n    this.thisDeviceStateKeys = thisDeviceStateKeys;\n  }\n\n  specialStoreKeys() {\n    return this.thisDeviceStateKeys.concat(['activeDeviceKey', 'optimisticDeviceName']);\n  }\n\n  clear() {\n    this.mcs.clearState({ except: this.specialStoreKeys() });\n  }\n\n  set(state, { optimisticDeviceName = undefined } = {}) {\n    this.clear();\n\n    const setState = {};\n\n    for (const key of Object.keys(state)) {\n      if (!this.specialStoreKeys().includes(key)) {\n        setState[key] = state[key];\n      }\n    }\n\n    if (optimisticDeviceName) {\n      setState.optimisticDeviceName = optimisticDeviceName;\n    }\n\n    this.mcs.setMerge(setState);\n  }\n\n  setSpecial(localDeviceState) {\n    const setState = {};\n\n    for (const key of this.thisDeviceStateKeys) {\n      setState[key] = localDeviceState[key];\n    }\n\n    this.mcs.setMerge(setState);\n  }\n}\n\nclass SwitchDevice extends Eev {\n  constructor({ mcs, connectDevice, foreground }) {\n    super();\n\n    this.mcs = mcs;\n    this.connectDevice = connectDevice;\n    this.foreground = foreground;\n  }\n\n  switchState({ deviceKey, deviceName }) {\n    this.mcs.setMerge({ activeDeviceKey: deviceKey });\n    const { state } = this.mcs.stores[deviceKey];\n    this.foreground.set(state, { optimisticDeviceName: deviceName });\n  }\n\n  switch({ address, deviceKey, deviceName }) {\n    if (this.mcs.stores[deviceKey]) {\n      this.switchState({ deviceKey, deviceName });\n    } else if (address) {\n      this.foreground.clear();\n      this.mcs.setMerge({ activeDeviceKey: deviceKey, optimisticDeviceName: deviceName });\n\n      this.connectDevice.connectOtherDevice({ address, deviceKey });\n    } else {\n      const { nearbyDevices } = this.mcs.localDeviceStore.get();\n\n      const matchingDevice = nearbyDevices.find(\n        device => device.deviceKey == deviceKey && !device.thisDevice\n      );\n\n      if (matchingDevice) {\n        const { deviceKey, deviceName, ip: address } = matchingDevice;\n        this.switch({ address, deviceKey, deviceName });\n      } else {\n        this.emit('connect_to_device_key_failed');\n\n        // ???? --- >>>>>>\n        const thisDevice = nearbyDevices.find(device => device.thisDevice);\n        this.switchState(thisDevice);\n      }\n    }\n  }\n}\n\nclass MultiConnectedStore extends MergeStore {\n  constructor({\n    endpoint,\n    address,\n    port,\n    protocol,\n    lane,\n    keypair = newKeypair(),\n    connectToDeviceKey,\n    logStore,\n    rpcRequestTimeout,\n    verbose\n  }) {\n    super();\n\n    const thisDeviceStateKeys = ['time', 'environment', 'nearbyDevices', 'notifications'];\n\n    this.publicKey = keypair.publicKey;\n    this.privateKey = keypair.privateKey;\n\n    this.port = port;\n    this.protocol = protocol;\n    this.lane = lane;\n\n    this.logStore = logStore;\n    this.rpcRequestTimeout = rpcRequestTimeout;\n    this.verbose = verbose;\n\n    this.stores = {};\n\n    this.connected = new WritableStore(); // is currently active store connected ?\n\n    const foreground = new Foreground({ mcs: this, thisDeviceStateKeys });\n    const connectDevice = new ConnectDevice({ mcs: this, foreground, connectToDeviceKey });\n\n    this.switchDevice = new SwitchDevice({ mcs: this, connectDevice, foreground });\n    this.switchDevice.on('connect_to_device_key_failed', () => {\n      this.emit('connect_to_device_key_failed');\n    });\n\n    this.localDeviceStore = connectDevice.connectThisDevice({ address });\n  }\n\n  signal(signal, data) {\n    if (this.activeStore()) {\n      this.activeStore().signal(signal, data);\n    } else {\n      console.log(\n        `Error emitting remote signal ${signal} / ${data}. Debug info: activeDeviceKey=${this.activeDeviceKey()}`\n      );\n    }\n  }\n\n  signalLocalDevice(signal, data) {\n    this.localDeviceStore.signal(signal, data);\n  }\n\n  remoteObject(objectName) {\n    if (this.activeStore()) {\n      return this.activeStore().remoteObject(objectName);\n    }\n\n    console.log(\n      `Error obtaining remote object ${objectName}. Debug info: activeDeviceKey=${this.activeDeviceKey()}`\n    );\n  }\n\n  switch({ address, deviceKey, deviceName }) {\n    this.switchDevice.switch({ address, deviceKey, deviceName });\n  }\n\n  activeStore() {\n    if (this.activeDeviceKey()) {\n      return this.stores[this.activeDeviceKey()];\n    }\n  }\n\n  activeDeviceKey() {\n    return this.get().activeDeviceKey;\n  }\n}\n\nclass LogStore extends WritableStore {\n  constructor() {\n    super({ log: [] });\n\n    // this.set();\n  }\n\n  addToLog({ origConsoleLog, limit }, ...args) {\n    if (args.length == 1) {\n      args = args[0];\n    }\n\n    let { log } = this.get();\n\n    if (typeof args == 'string') {\n      log.push(args);\n    } else {\n      try {\n        log.push(`${JSON.stringify(args)}`);\n      } catch (e) {\n        log.push(args);\n      }\n    }\n\n    log = log.slice(-limit);\n\n    this.set({ log });\n  }\n}\n\nfunction makeConnectedStore(opts) {\n  const store = new ConnectedStore(opts);\n\n  const { connected, action: sendJSON, remoteObject, connector } = store;\n\n  // function sendText(str) {\n  //   connector.send(str);\n  // }\n\n  const api = remoteObject.bind(store);\n\n  // sendJSON, sendText\n  return { state: store, connected, api };\n}\n\nfunction clone(obj) {\n  if (typeof obj == 'function') {\n    return obj;\n  }\n  var result = Array.isArray(obj) ? [] : {};\n  for (var key in obj) {\n    var value = obj[key];\n    var type = {}.toString.call(value).slice(8, -1);\n    if (type == 'Array' || type == 'Object') {\n      result[key] = clone(value);\n    } else if (type == 'Date') {\n      result[key] = new Date(value.getTime());\n    } else if (type == 'RegExp') {\n      result[key] = RegExp(value.source, getRegExpFlags(value));\n    } else {\n      result[key] = value;\n    }\n  }\n  return result;\n}\n\nfunction getRegExpFlags(regExp) {\n  if (typeof regExp.source.flags == 'string') {\n    return regExp.source.flags;\n  } else {\n    var flags = [];\n    regExp.global && flags.push('g');\n    regExp.ignoreCase && flags.push('i');\n    regExp.multiline && flags.push('m');\n    regExp.sticky && flags.push('y');\n    regExp.unicode && flags.push('u');\n    return flags.join('');\n  }\n}\n\nfunction isObject$1(val) {\n  return val != null && typeof val === 'object' && Array.isArray(val) === false;\n}\n\nfunction isObjectObject(o) {\n  return isObject$1(o) === true && Object.prototype.toString.call(o) === '[object Object]';\n}\n\nfunction isPlainObject(o) {\n  var ctor, prot;\n\n  if (isObjectObject(o) === false) return false;\n\n  ctor = o.constructor;\n  if (typeof ctor !== 'function') return false;\n\n  prot = ctor.prototype;\n  if (isObjectObject(prot) === false) return false;\n\n  if (prot.hasOwnProperty('isPrototypeOf') === false) {\n    return false;\n  }\n\n  return true;\n}\n\nfunction emptyTarget(val) {\n  return Array.isArray(val) ? [] : {};\n}\n\nfunction cloneUnlessOtherwiseSpecified(value, options) {\n  return options.clone !== false && options.isMergeableObject(value) ? deepmerge(emptyTarget(value), value, options) : value;\n}\n\nfunction defaultArrayMerge(target, source, options) {\n  return target.concat(source).map(function(element) {\n    return cloneUnlessOtherwiseSpecified(element, options);\n  });\n}\n\nfunction getMergeFunction(key, options) {\n  if (!options.customMerge) {\n    return deepmerge;\n  }\n  var customMerge = options.customMerge(key);\n  return typeof customMerge === 'function' ? customMerge : deepmerge;\n}\n\nfunction mergeObject(target, source, options) {\n  var destination = {};\n  if (options.isMergeableObject(target)) {\n    Object.keys(target).forEach(function(key) {\n      destination[key] = cloneUnlessOtherwiseSpecified(target[key], options);\n    });\n  }\n  Object.keys(source).forEach(function(key) {\n    if (!options.isMergeableObject(source[key]) || !target[key]) {\n      destination[key] = cloneUnlessOtherwiseSpecified(source[key], options);\n    } else {\n      destination[key] = getMergeFunction(key, options)(target[key], source[key], options);\n    }\n  });\n  return destination;\n}\n\nfunction deepmerge(target, source, options) {\n  options = options || {};\n  options.arrayMerge = options.arrayMerge || defaultArrayMerge;\n  options.isMergeableObject = options.isMergeableObject || isPlainObject;\n\n  var sourceIsArray = Array.isArray(source);\n  var targetIsArray = Array.isArray(target);\n  var sourceAndTargetTypesMatch = sourceIsArray === targetIsArray;\n\n  if (!sourceAndTargetTypesMatch) {\n    return cloneUnlessOtherwiseSpecified(source, options);\n  } else if (sourceIsArray) {\n    return options.arrayMerge(target, source, options);\n  } else {\n    return mergeObject(target, source, options);\n  }\n}\n\ndeepmerge.all = function deepmergeAll(array, options) {\n  if (!Array.isArray(array)) {\n    throw new Error('first argument should be an array');\n  }\n\n  return array.reduce(function(prev, next) {\n    return deepmerge(prev, next, options);\n  }, {});\n};\n\nvar pointer = createCommonjsModule(function (module, exports) {\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Pointer = void 0;\n/**\nUnescape token part of a JSON Pointer string\n\n`token` should *not* contain any '/' characters.\n\n> Evaluation of each reference token begins by decoding any escaped\n> character sequence.  This is performed by first transforming any\n> occurrence of the sequence '~1' to '/', and then transforming any\n> occurrence of the sequence '~0' to '~'.  By performing the\n> substitutions in this order, an implementation avoids the error of\n> turning '~01' first into '~1' and then into '/', which would be\n> incorrect (the string '~01' correctly becomes '~1' after\n> transformation).\n\nHere's my take:\n\n~1 is unescaped with higher priority than ~0 because it is a lower-order escape character.\nI say \"lower order\" because '/' needs escaping due to the JSON Pointer serialization technique.\nWhereas, '~' is escaped because escaping '/' uses the '~' character.\n*/\nfunction unescape(token) {\n    return token.replace(/~1/g, '/').replace(/~0/g, '~');\n}\n/** Escape token part of a JSON Pointer string\n\n> '~' needs to be encoded as '~0' and '/'\n> needs to be encoded as '~1' when these characters appear in a\n> reference token.\n\nThis is the exact inverse of `unescape()`, so the reverse replacements must take place in reverse order.\n*/\nfunction escape(token) {\n    return token.replace(/~/g, '~0').replace(/\\//g, '~1');\n}\n/**\nJSON Pointer representation\n*/\nvar Pointer = /** @class */ (function () {\n    function Pointer(tokens) {\n        if (tokens === void 0) { tokens = ['']; }\n        this.tokens = tokens;\n    }\n    /**\n    `path` *must* be a properly escaped string.\n    */\n    Pointer.fromJSON = function (path) {\n        var tokens = path.split('/').map(unescape);\n        if (tokens[0] !== '')\n            throw new Error(\"Invalid JSON Pointer: \" + path);\n        return new Pointer(tokens);\n    };\n    Pointer.prototype.toString = function () {\n        return this.tokens.map(escape).join('/');\n    };\n    /**\n    Returns an object with 'parent', 'key', and 'value' properties.\n    In the special case that this Pointer's path == \"\",\n    this object will be {parent: null, key: '', value: object}.\n    Otherwise, parent and key will have the property such that parent[key] == value.\n    */\n    Pointer.prototype.evaluate = function (object) {\n        var parent = null;\n        var key = '';\n        var value = object;\n        for (var i = 1, l = this.tokens.length; i < l; i++) {\n            parent = value;\n            key = this.tokens[i];\n            // not sure if this the best way to handle non-existant paths...\n            value = (parent || {})[key];\n        }\n        return { parent: parent, key: key, value: value };\n    };\n    Pointer.prototype.get = function (object) {\n        return this.evaluate(object).value;\n    };\n    Pointer.prototype.set = function (object, value) {\n        var cursor = object;\n        for (var i = 1, l = this.tokens.length - 1, token = this.tokens[i]; i < l; i++) {\n            // not sure if this the best way to handle non-existant paths...\n            cursor = (cursor || {})[token];\n        }\n        if (cursor) {\n            cursor[this.tokens[this.tokens.length - 1]] = value;\n        }\n    };\n    Pointer.prototype.push = function (token) {\n        // mutable\n        this.tokens.push(token);\n    };\n    /**\n    `token` should be a String. It'll be coerced to one anyway.\n  \n    immutable (shallowly)\n    */\n    Pointer.prototype.add = function (token) {\n        var tokens = this.tokens.concat(String(token));\n        return new Pointer(tokens);\n    };\n    return Pointer;\n}());\nexports.Pointer = Pointer;\n});\n\nvar util = createCommonjsModule(function (module, exports) {\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.clone = exports.objectType = exports.hasOwnProperty = void 0;\nexports.hasOwnProperty = Object.prototype.hasOwnProperty;\nfunction objectType(object) {\n    if (object === undefined) {\n        return 'undefined';\n    }\n    if (object === null) {\n        return 'null';\n    }\n    if (Array.isArray(object)) {\n        return 'array';\n    }\n    return typeof object;\n}\nexports.objectType = objectType;\nfunction isNonPrimitive(value) {\n    // loose-equality checking for null is faster than strict checking for each of null/undefined/true/false\n    // checking null first, then calling typeof, is faster than vice-versa\n    return value != null && typeof value == 'object';\n}\n/**\nRecursively copy a value.\n\n@param source - should be a JavaScript primitive, Array, or (plain old) Object.\n@returns copy of source where every Array and Object have been recursively\n         reconstructed from their constituent elements\n*/\nfunction clone(source) {\n    if (!isNonPrimitive(source)) {\n        // short-circuiting is faster than a single return\n        return source;\n    }\n    // x.constructor == Array is the fastest way to check if x is an Array\n    if (source.constructor == Array) {\n        // construction via imperative for-loop is faster than source.map(arrayVsObject)\n        var length_1 = source.length;\n        // setting the Array length during construction is faster than just `[]` or `new Array()`\n        var arrayTarget = new Array(length_1);\n        for (var i = 0; i < length_1; i++) {\n            arrayTarget[i] = clone(source[i]);\n        }\n        return arrayTarget;\n    }\n    // Object\n    var objectTarget = {};\n    // declaring the variable (with const) inside the loop is faster\n    for (var key in source) {\n        // hasOwnProperty costs a bit of performance, but it's semantically necessary\n        // using a global helper is MUCH faster than calling source.hasOwnProperty(key)\n        if (exports.hasOwnProperty.call(source, key)) {\n            objectTarget[key] = clone(source[key]);\n        }\n    }\n    return objectTarget;\n}\nexports.clone = clone;\n});\n\nvar diff = createCommonjsModule(function (module, exports) {\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.diffAny = exports.diffObjects = exports.diffArrays = exports.intersection = exports.subtract = exports.isDestructive = void 0;\n // we only need this for type inference\n\nfunction isDestructive(_a) {\n    var op = _a.op;\n    return op === 'remove' || op === 'replace' || op === 'copy' || op === 'move';\n}\nexports.isDestructive = isDestructive;\n/**\nList the keys in `minuend` that are not in `subtrahend`.\n\nA key is only considered if it is both 1) an own-property (o.hasOwnProperty(k))\nof the object, and 2) has a value that is not undefined. This is to match JSON\nsemantics, where JSON object serialization drops keys with undefined values.\n\n@param minuend Object of interest\n@param subtrahend Object of comparison\n@returns Array of keys that are in `minuend` but not in `subtrahend`.\n*/\nfunction subtract(minuend, subtrahend) {\n    // initialize empty object; we only care about the keys, the values can be anything\n    var obj = {};\n    // build up obj with all the properties of minuend\n    for (var add_key in minuend) {\n        if (util.hasOwnProperty.call(minuend, add_key) && minuend[add_key] !== undefined) {\n            obj[add_key] = 1;\n        }\n    }\n    // now delete all the properties of subtrahend from obj\n    // (deleting a missing key has no effect)\n    for (var del_key in subtrahend) {\n        if (util.hasOwnProperty.call(subtrahend, del_key) && subtrahend[del_key] !== undefined) {\n            delete obj[del_key];\n        }\n    }\n    // finally, extract whatever keys remain in obj\n    return Object.keys(obj);\n}\nexports.subtract = subtract;\n/**\nList the keys that shared by all `objects`.\n\nThe semantics of what constitutes a \"key\" is described in {@link subtract}.\n\n@param objects Array of objects to compare\n@returns Array of keys that are in (\"own-properties\" of) every object in `objects`.\n*/\nfunction intersection(objects) {\n    var length = objects.length;\n    // prepare empty counter to keep track of how many objects each key occurred in\n    var counter = {};\n    // go through each object and increment the counter for each key in that object\n    for (var i = 0; i < length; i++) {\n        var object = objects[i];\n        for (var key in object) {\n            if (util.hasOwnProperty.call(object, key) && object[key] !== undefined) {\n                counter[key] = (counter[key] || 0) + 1;\n            }\n        }\n    }\n    // now delete all keys from the counter that were not seen in every object\n    for (var key in counter) {\n        if (counter[key] < length) {\n            delete counter[key];\n        }\n    }\n    // finally, extract whatever keys remain in the counter\n    return Object.keys(counter);\n}\nexports.intersection = intersection;\nfunction isArrayAdd(array_operation) {\n    return array_operation.op === 'add';\n}\nfunction isArrayRemove(array_operation) {\n    return array_operation.op === 'remove';\n}\nfunction appendArrayOperation(base, operation) {\n    return {\n        // the new operation must be pushed on the end\n        operations: base.operations.concat(operation),\n        cost: base.cost + 1,\n    };\n}\n/**\nCalculate the shortest sequence of operations to get from `input` to `output`,\nusing a dynamic programming implementation of the Levenshtein distance algorithm.\n\nTo get from the input ABC to the output AZ we could just delete all the input\nand say \"insert A, insert Z\" and be done with it. That's what we do if the\ninput is empty. But we can be smarter.\n\n          output\n               A   Z\n               -   -\n          [0]  1   2\ninput A |  1  [0]  1\n      B |  2  [1]  1\n      C |  3   2  [2]\n\n1) start at 0,0 (+0)\n2) keep A (+0)\n3) remove B (+1)\n4) replace C with Z (+1)\n\nIf the `input` (source) is empty, they'll all be in the top row, resulting in an\narray of 'add' operations.\nIf the `output` (target) is empty, everything will be in the left column,\nresulting in an array of 'remove' operations.\n\n@returns A list of add/remove/replace operations.\n*/\nfunction diffArrays(input, output, ptr, diff) {\n    if (diff === void 0) { diff = diffAny; }\n    // set up cost matrix (very simple initialization: just a map)\n    var memo = {\n        '0,0': { operations: [], cost: 0 },\n    };\n    /**\n    Calculate the cheapest sequence of operations required to get from\n    input.slice(0, i) to output.slice(0, j).\n    There may be other valid sequences with the same cost, but none cheaper.\n  \n    @param i The row in the layout above\n    @param j The column in the layout above\n    @returns An object containing a list of operations, along with the total cost\n             of applying them (+1 for each add/remove/replace operation)\n    */\n    function dist(i, j) {\n        // memoized\n        var memo_key = i + \",\" + j;\n        var memoized = memo[memo_key];\n        if (memoized === undefined) {\n            // TODO: this !diff(...).length usage could/should be lazy\n            if (i > 0 && j > 0 && !diff(input[i - 1], output[j - 1], new pointer.Pointer()).length) {\n                // equal (no operations => no cost)\n                memoized = dist(i - 1, j - 1);\n            }\n            else {\n                var alternatives = [];\n                if (i > 0) {\n                    // NOT topmost row\n                    var remove_base = dist(i - 1, j);\n                    var remove_operation = {\n                        op: 'remove',\n                        index: i - 1,\n                    };\n                    alternatives.push(appendArrayOperation(remove_base, remove_operation));\n                }\n                if (j > 0) {\n                    // NOT leftmost column\n                    var add_base = dist(i, j - 1);\n                    var add_operation = {\n                        op: 'add',\n                        index: i - 1,\n                        value: output[j - 1],\n                    };\n                    alternatives.push(appendArrayOperation(add_base, add_operation));\n                }\n                if (i > 0 && j > 0) {\n                    // TABLE MIDDLE\n                    // supposing we replaced it, compute the rest of the costs:\n                    var replace_base = dist(i - 1, j - 1);\n                    // okay, the general plan is to replace it, but we can be smarter,\n                    // recursing into the structure and replacing only part of it if\n                    // possible, but to do so we'll need the original value\n                    var replace_operation = {\n                        op: 'replace',\n                        index: i - 1,\n                        original: input[i - 1],\n                        value: output[j - 1],\n                    };\n                    alternatives.push(appendArrayOperation(replace_base, replace_operation));\n                }\n                // the only other case, i === 0 && j === 0, has already been memoized\n                // the meat of the algorithm:\n                // sort by cost to find the lowest one (might be several ties for lowest)\n                // [4, 6, 7, 1, 2].sort((a, b) => a - b) -> [ 1, 2, 4, 6, 7 ]\n                var best = alternatives.sort(function (a, b) { return a.cost - b.cost; })[0];\n                memoized = best;\n            }\n            memo[memo_key] = memoized;\n        }\n        return memoized;\n    }\n    // handle weird objects masquerading as Arrays that don't have proper length\n    // properties by using 0 for everything but positive numbers\n    var input_length = (isNaN(input.length) || input.length <= 0) ? 0 : input.length;\n    var output_length = (isNaN(output.length) || output.length <= 0) ? 0 : output.length;\n    var array_operations = dist(input_length, output_length).operations;\n    var padded_operations = array_operations.reduce(function (_a, array_operation) {\n        var operations = _a[0], padding = _a[1];\n        if (isArrayAdd(array_operation)) {\n            var padded_index = array_operation.index + 1 + padding;\n            var index_token = padded_index < (input_length + padding) ? String(padded_index) : '-';\n            var operation = {\n                op: array_operation.op,\n                path: ptr.add(index_token).toString(),\n                value: array_operation.value,\n            };\n            // padding++ // maybe only if array_operation.index > -1 ?\n            return [operations.concat(operation), padding + 1];\n        }\n        else if (isArrayRemove(array_operation)) {\n            var operation = {\n                op: array_operation.op,\n                path: ptr.add(String(array_operation.index + padding)).toString(),\n            };\n            // padding--\n            return [operations.concat(operation), padding - 1];\n        }\n        else { // replace\n            var replace_ptr = ptr.add(String(array_operation.index + padding));\n            var replace_operations = diff(array_operation.original, array_operation.value, replace_ptr);\n            return [operations.concat.apply(operations, replace_operations), padding];\n        }\n    }, [[], 0])[0];\n    return padded_operations;\n}\nexports.diffArrays = diffArrays;\nfunction diffObjects(input, output, ptr, diff) {\n    if (diff === void 0) { diff = diffAny; }\n    // if a key is in input but not output -> remove it\n    var operations = [];\n    subtract(input, output).forEach(function (key) {\n        operations.push({ op: 'remove', path: ptr.add(key).toString() });\n    });\n    // if a key is in output but not input -> add it\n    subtract(output, input).forEach(function (key) {\n        operations.push({ op: 'add', path: ptr.add(key).toString(), value: output[key] });\n    });\n    // if a key is in both, diff it recursively\n    intersection([input, output]).forEach(function (key) {\n        operations.push.apply(operations, diff(input[key], output[key], ptr.add(key)));\n    });\n    return operations;\n}\nexports.diffObjects = diffObjects;\n/**\n`diffAny()` returns an empty array if `input` and `output` are materially equal\n(i.e., would produce equivalent JSON); otherwise it produces an array of patches\nthat would transform `input` into `output`.\n\n> Here, \"equal\" means that the value at the target location and the\n> value conveyed by \"value\" are of the same JSON type, and that they\n> are considered equal by the following rules for that type:\n> o  strings: are considered equal if they contain the same number of\n>    Unicode characters and their code points are byte-by-byte equal.\n> o  numbers: are considered equal if their values are numerically\n>    equal.\n> o  arrays: are considered equal if they contain the same number of\n>    values, and if each value can be considered equal to the value at\n>    the corresponding position in the other array, using this list of\n>    type-specific rules.\n> o  objects: are considered equal if they contain the same number of\n>    members, and if each member can be considered equal to a member in\n>    the other object, by comparing their keys (as strings) and their\n>    values (using this list of type-specific rules).\n> o  literals (false, true, and null): are considered equal if they are\n>    the same.\n*/\nfunction diffAny(input, output, ptr, diff) {\n    if (diff === void 0) { diff = diffAny; }\n    // strict equality handles literals, numbers, and strings (a sufficient but not necessary cause)\n    if (input === output) {\n        return [];\n    }\n    var input_type = util.objectType(input);\n    var output_type = util.objectType(output);\n    if (input_type == 'array' && output_type == 'array') {\n        return diffArrays(input, output, ptr, diff);\n    }\n    if (input_type == 'object' && output_type == 'object') {\n        return diffObjects(input, output, ptr, diff);\n    }\n    // at this point we know that input and output are materially different;\n    // could be array -> object, object -> array, boolean -> undefined,\n    // number -> string, or some other combination, but nothing that can be split\n    // up into multiple patches: so `output` must replace `input` wholesale.\n    return [{ op: 'replace', path: ptr.toString(), value: output }];\n}\nexports.diffAny = diffAny;\n});\n\nvar patch = createCommonjsModule(function (module, exports) {\nvar __extends = (commonjsGlobal && commonjsGlobal.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.apply = exports.InvalidOperationError = exports.test = exports.copy = exports.move = exports.replace = exports.remove = exports.add = exports.TestError = exports.MissingError = void 0;\n\n\n\nvar MissingError = /** @class */ (function (_super) {\n    __extends(MissingError, _super);\n    function MissingError(path) {\n        var _this = _super.call(this, \"Value required at path: \" + path) || this;\n        _this.path = path;\n        _this.name = 'MissingError';\n        return _this;\n    }\n    return MissingError;\n}(Error));\nexports.MissingError = MissingError;\nvar TestError = /** @class */ (function (_super) {\n    __extends(TestError, _super);\n    function TestError(actual, expected) {\n        var _this = _super.call(this, \"Test failed: \" + actual + \" != \" + expected) || this;\n        _this.actual = actual;\n        _this.expected = expected;\n        _this.name = 'TestError';\n        return _this;\n    }\n    return TestError;\n}(Error));\nexports.TestError = TestError;\nfunction _add(object, key, value) {\n    if (Array.isArray(object)) {\n        // `key` must be an index\n        if (key == '-') {\n            object.push(value);\n        }\n        else {\n            var index = parseInt(key, 10);\n            object.splice(index, 0, value);\n        }\n    }\n    else {\n        object[key] = value;\n    }\n}\nfunction _remove(object, key) {\n    if (Array.isArray(object)) {\n        // '-' syntax doesn't make sense when removing\n        var index = parseInt(key, 10);\n        object.splice(index, 1);\n    }\n    else {\n        // not sure what the proper behavior is when path = ''\n        delete object[key];\n    }\n}\n/**\n>  o  If the target location specifies an array index, a new value is\n>     inserted into the array at the specified index.\n>  o  If the target location specifies an object member that does not\n>     already exist, a new member is added to the object.\n>  o  If the target location specifies an object member that does exist,\n>     that member's value is replaced.\n*/\nfunction add(object, operation) {\n    var endpoint = pointer.Pointer.fromJSON(operation.path).evaluate(object);\n    // it's not exactly a \"MissingError\" in the same way that `remove` is -- more like a MissingParent, or something\n    if (endpoint.parent === undefined) {\n        return new MissingError(operation.path);\n    }\n    _add(endpoint.parent, endpoint.key, util.clone(operation.value));\n    return null;\n}\nexports.add = add;\n/**\n> The \"remove\" operation removes the value at the target location.\n> The target location MUST exist for the operation to be successful.\n*/\nfunction remove(object, operation) {\n    // endpoint has parent, key, and value properties\n    var endpoint = pointer.Pointer.fromJSON(operation.path).evaluate(object);\n    if (endpoint.value === undefined) {\n        return new MissingError(operation.path);\n    }\n    // not sure what the proper behavior is when path = ''\n    _remove(endpoint.parent, endpoint.key);\n    return null;\n}\nexports.remove = remove;\n/**\n> The \"replace\" operation replaces the value at the target location\n> with a new value.  The operation object MUST contain a \"value\" member\n> whose content specifies the replacement value.\n> The target location MUST exist for the operation to be successful.\n\n> This operation is functionally identical to a \"remove\" operation for\n> a value, followed immediately by an \"add\" operation at the same\n> location with the replacement value.\n\nEven more simply, it's like the add operation with an existence check.\n*/\nfunction replace(object, operation) {\n    var endpoint = pointer.Pointer.fromJSON(operation.path).evaluate(object);\n    if (endpoint.parent === null) {\n        return new MissingError(operation.path);\n    }\n    // this existence check treats arrays as a special case\n    if (Array.isArray(endpoint.parent)) {\n        if (parseInt(endpoint.key, 10) >= endpoint.parent.length) {\n            return new MissingError(operation.path);\n        }\n    }\n    else if (endpoint.value === undefined) {\n        return new MissingError(operation.path);\n    }\n    endpoint.parent[endpoint.key] = operation.value;\n    return null;\n}\nexports.replace = replace;\n/**\n> The \"move\" operation removes the value at a specified location and\n> adds it to the target location.\n> The operation object MUST contain a \"from\" member, which is a string\n> containing a JSON Pointer value that references the location in the\n> target document to move the value from.\n> This operation is functionally identical to a \"remove\" operation on\n> the \"from\" location, followed immediately by an \"add\" operation at\n> the target location with the value that was just removed.\n\n> The \"from\" location MUST NOT be a proper prefix of the \"path\"\n> location; i.e., a location cannot be moved into one of its children.\n\nTODO: throw if the check described in the previous paragraph fails.\n*/\nfunction move(object, operation) {\n    var from_endpoint = pointer.Pointer.fromJSON(operation.from).evaluate(object);\n    if (from_endpoint.value === undefined) {\n        return new MissingError(operation.from);\n    }\n    var endpoint = pointer.Pointer.fromJSON(operation.path).evaluate(object);\n    if (endpoint.parent === undefined) {\n        return new MissingError(operation.path);\n    }\n    _remove(from_endpoint.parent, from_endpoint.key);\n    _add(endpoint.parent, endpoint.key, from_endpoint.value);\n    return null;\n}\nexports.move = move;\n/**\n> The \"copy\" operation copies the value at a specified location to the\n> target location.\n> The operation object MUST contain a \"from\" member, which is a string\n> containing a JSON Pointer value that references the location in the\n> target document to copy the value from.\n> The \"from\" location MUST exist for the operation to be successful.\n\n> This operation is functionally identical to an \"add\" operation at the\n> target location using the value specified in the \"from\" member.\n\nAlternatively, it's like 'move' without the 'remove'.\n*/\nfunction copy(object, operation) {\n    var from_endpoint = pointer.Pointer.fromJSON(operation.from).evaluate(object);\n    if (from_endpoint.value === undefined) {\n        return new MissingError(operation.from);\n    }\n    var endpoint = pointer.Pointer.fromJSON(operation.path).evaluate(object);\n    if (endpoint.parent === undefined) {\n        return new MissingError(operation.path);\n    }\n    _add(endpoint.parent, endpoint.key, util.clone(from_endpoint.value));\n    return null;\n}\nexports.copy = copy;\n/**\n> The \"test\" operation tests that a value at the target location is\n> equal to a specified value.\n> The operation object MUST contain a \"value\" member that conveys the\n> value to be compared to the target location's value.\n> The target location MUST be equal to the \"value\" value for the\n> operation to be considered successful.\n*/\nfunction test(object, operation) {\n    var endpoint = pointer.Pointer.fromJSON(operation.path).evaluate(object);\n    // TODO: this diffAny(...).length usage could/should be lazy\n    if (diff.diffAny(endpoint.value, operation.value, new pointer.Pointer()).length) {\n        return new TestError(endpoint.value, operation.value);\n    }\n    return null;\n}\nexports.test = test;\nvar InvalidOperationError = /** @class */ (function (_super) {\n    __extends(InvalidOperationError, _super);\n    function InvalidOperationError(operation) {\n        var _this = _super.call(this, \"Invalid operation: \" + operation.op) || this;\n        _this.operation = operation;\n        _this.name = 'InvalidOperationError';\n        return _this;\n    }\n    return InvalidOperationError;\n}(Error));\nexports.InvalidOperationError = InvalidOperationError;\n/**\nSwitch on `operation.op`, applying the corresponding patch function for each\ncase to `object`.\n*/\nfunction apply(object, operation) {\n    // not sure why TypeScript can't infer typesafety of:\n    //   {add, remove, replace, move, copy, test}[operation.op](object, operation)\n    // (seems like a bug)\n    switch (operation.op) {\n        case 'add': return add(object, operation);\n        case 'remove': return remove(object, operation);\n        case 'replace': return replace(object, operation);\n        case 'move': return move(object, operation);\n        case 'copy': return copy(object, operation);\n        case 'test': return test(object, operation);\n    }\n    return new InvalidOperationError(operation);\n}\nexports.apply = apply;\n});\n\nvar rfc6902 = createCommonjsModule(function (module, exports) {\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createTests = exports.createPatch = exports.applyPatch = void 0;\n\n\n\n/**\nApply a 'application/json-patch+json'-type patch to an object.\n\n`patch` *must* be an array of operations.\n\n> Operation objects MUST have exactly one \"op\" member, whose value\n> indicates the operation to perform.  Its value MUST be one of \"add\",\n> \"remove\", \"replace\", \"move\", \"copy\", or \"test\"; other values are\n> errors.\n\nThis method mutates the target object in-place.\n\n@returns list of results, one for each operation: `null` indicated success,\n         otherwise, the result will be an instance of one of the Error classes:\n         MissingError, InvalidOperationError, or TestError.\n*/\nfunction applyPatch(object, patch$1) {\n    return patch$1.map(function (operation) { return patch.apply(object, operation); });\n}\nexports.applyPatch = applyPatch;\nfunction wrapVoidableDiff(diff$1) {\n    function wrappedDiff(input, output, ptr) {\n        var custom_patch = diff$1(input, output, ptr);\n        // ensure an array is always returned\n        return Array.isArray(custom_patch) ? custom_patch : diff.diffAny(input, output, ptr, wrappedDiff);\n    }\n    return wrappedDiff;\n}\n/**\nProduce a 'application/json-patch+json'-type patch to get from one object to\nanother.\n\nThis does not alter `input` or `output` unless they have a property getter with\nside-effects (which is not a good idea anyway).\n\n`diff` is called on each pair of comparable non-primitive nodes in the\n`input`/`output` object trees, producing nested patches. Return `undefined`\nto fall back to default behaviour.\n\nReturns list of operations to perform on `input` to produce `output`.\n*/\nfunction createPatch(input, output, diff$1) {\n    var ptr = new pointer.Pointer();\n    // a new Pointer gets a default path of [''] if not specified\n    return (diff$1 ? wrapVoidableDiff(diff$1) : diff.diffAny)(input, output, ptr);\n}\nexports.createPatch = createPatch;\n/**\nCreate a test operation based on `input`'s current evaluation of the JSON\nPointer `path`; if such a pointer cannot be resolved, returns undefined.\n*/\nfunction createTest(input, path) {\n    var endpoint = pointer.Pointer.fromJSON(path).evaluate(input);\n    if (endpoint !== undefined) {\n        return { op: 'test', path: path, value: endpoint.value };\n    }\n}\n/**\nProduce an 'application/json-patch+json'-type list of tests, to verify that\nexisting values in an object are identical to the those captured at some\ncheckpoint (whenever this function is called).\n\nThis does not alter `input` or `output` unless they have a property getter with\nside-effects (which is not a good idea anyway).\n\nReturns list of test operations.\n*/\nfunction createTests(input, patch) {\n    var tests = new Array();\n    patch.filter(diff.isDestructive).forEach(function (operation) {\n        var pathTest = createTest(input, operation.path);\n        if (pathTest)\n            tests.push(pathTest);\n        if ('from' in operation) {\n            var fromTest = createTest(input, operation.from);\n            if (fromTest)\n                tests.push(fromTest);\n        }\n    });\n    return tests;\n}\nexports.createTests = createTests;\n});\n\nvar rfc6902$1 = /*@__PURE__*/getDefaultExportFromCjs(rfc6902);\n\nconst generateJsonPatch = rfc6902$1.createPatch;\n\nfunction getDiff(prevAnnouncedState, currentState) {\n  const diff = generateJsonPatch(prevAnnouncedState, currentState);\n\n  if (diff.length > 0) {\n    return diff;\n  }\n}\n\nclass MirroringStore extends Eev {\n  constructor(initialState = {}) {\n    super();\n\n    this.state = initialState;\n    this.prevAnnouncedState = {};\n  }\n\n  mirror(channelList) {\n    channelList.on('new_channel', channel => {\n      const { state } = this;\n      channel.send({ state });\n    });\n\n    this.on('diff', diff => {\n      channelList.sendAll({ diff });\n    });\n  }\n\n  set(state, { announce = true } = {}) {\n    this.state = state;\n    this.announceStateChange(announce);\n  }\n\n  update(patch, { announce = true } = {}) {\n    this.state = { ...this.state, ...patch };\n    this.announceStateChange(announce);\n  }\n\n  get() {\n    return this.state;\n  }\n\n  announceStateChange(announce = true) {\n    if (!announce) {\n      return;\n    }\n\n    const { state } = this;\n\n    const diff = getDiff(this.prevAnnouncedState, state);\n\n    if (diff) {\n      this.emit('diff', diff);\n\n      this.prevAnnouncedState = clone(state);\n    }\n  }\n}\n\nfunction mergeState(state, patch) {\n  const overwriteMerge = (destinationArray, sourceArray, options) => sourceArray;\n  return deepmerge(state, patch, { arrayMerge: overwriteMerge });\n}\n\nclass KeyValueStore {\n  constructor() {\n    this.state = {};\n  }\n\n  update(patch) {\n    this.state = mergeState(this.state, patch);\n  }\n\n  replaceBaseKey(baseKey, value) {\n    this.state[baseKey] = value;\n  }\n\n  clearBaseKey(baseKey) {\n    delete this.state[baseKey];\n  }\n\n  replaceSubKey({ baseKey, key, value }) {\n    this.state[baseKey] = this.state[baseKey] || {};\n    this.state[baseKey][key] = value;\n  }\n\n  removeSubKey({ baseKey, key }) {\n    this.state[baseKey] = this.state[baseKey] || {};\n    delete this.state[baseKey][key];\n  }\n\n  pushToArray(baseKey, value) {\n    this.state[baseKey].push(value);\n  }\n\n  removeFromArray(baseKey, removePredicate) {\n    this.state[baseKey] = this.state[baseKey].filter(entry => !removePredicate(entry));\n  }\n\n  replaceArrayElement(baseKey, selectorPredicate, value) {\n    const entry = this.state[baseKey].find(entry => selectorPredicate(entry));\n\n    if (entry) {\n      // in-place replace entry completely (array reference stays the same)\n      Object.keys(entry).forEach(key => delete entry[key]);\n      Object.assign(entry, value);\n      return true;\n    }\n  }\n\n  updateArrayElement(baseKey, selectorPredicate, value) {\n    const entry = this.state[baseKey].find(entry => selectorPredicate(entry));\n\n    if (entry) {\n      // in-place replace entry completely (array reference stays the same)\n      //Object.keys(entry).forEach(key => delete entry[key]);\n      Object.assign(entry, value);\n      return true;\n    }\n  }\n}\n\nclass ProgramStateStore extends Eev {\n  constructor(\n    initialState = {},\n    { loadState = null, saveState = null, omitStateFn = x => x, removeStateChangeFalseTriggers = x => x } = {}\n  ) {\n    super();\n\n    this.omitStateFn = omitStateFn;\n    this.saveState = saveState;\n    this.removeStateChangeFalseTriggers = removeStateChangeFalseTriggers;\n\n    this.kvStore = new KeyValueStore();\n\n    this.lastAnnouncedState = {};\n\n    if (loadState) {\n      const persistedState = loadState();\n\n      if (persistedState) {\n        this.kvStore.update(persistedState, { announce: false });\n      }\n    }\n\n    this.kvStore.update(initialState, { announce: false });\n\n    this.stateChangesCount = 0;\n\n    this.subscriptions = [];\n  }\n\n  mirror(channelList) {\n    this.channelList = channelList;\n\n    channelList.on('new_channel', channel => {\n      channel.send({ state: this.lastAnnouncedState });\n    });\n  }\n\n  sendRemote({ state, diff }) {\n    if (this.channelList) {\n      this.channelList.sendAll({ state, diff }); // one or the other\n    }\n  }\n\n  state() {\n    return this.kvStore.state;\n  }\n\n  omitAndCloneState() {\n    return this.omitStateFn(clone(this.state()));\n  }\n\n  /* State update functions */\n\n  update(patch, { announce = true, skipDiffing = false } = {}) {\n    this.kvStore.update(patch);\n    this.announceStateChange(announce, skipDiffing);\n  }\n\n  replaceSlot(slotName, value, { announce = true } = {}) {\n    this.kvStore.replaceBaseKey(slotName, value);\n    this.announceStateChange(announce);\n  }\n\n  clearSlot(slotName, { announce = true } = {}) {\n    this.kvStore.clearBaseKey(slotName);\n    this.announceStateChange(announce);\n  }\n\n  replaceSlotElement({ slotName, key, value }, { announce = true } = {}) {\n    this.kvStore.replaceSubKey({ baseKey: slotName, key, value });\n    this.announceStateChange(announce);\n  }\n\n  removeSlotElement({ slotName, key }, { announce = true } = {}) {\n    this.kvStore.removeSubKey({ baseKey: slotName, key });\n    this.announceStateChange(announce);\n  }\n\n  pushToSlotArrayElement(slotName, entry, { announce = true } = {}) {\n    this.kvStore.pushToArray(slotName, entry);\n    this.announceStateChange(announce);\n  }\n\n  removeFromSlotArrayElement(slotName, removePredicate, { announce = true } = {}) {\n    this.kvStore.removeFromArray(slotName, removePredicate);\n    this.announceStateChange(announce);\n  }\n\n  replaceSlotArrayElement(slotName, selectorPredicate, value, { announce = true } = {}) {\n    const foundMatch = this.kvStore.replaceArrayElement(slotName, selectorPredicate, value);\n    this.announceStateChange(announce);\n    return foundMatch;\n  }\n\n  updateSlotArrayElement(slotName, selectorPredicate, value, { announce = true } = {}) {\n    const foundMatch = this.kvStore.updateArrayElement(slotName, selectorPredicate, value);\n    this.announceStateChange(announce);\n    return foundMatch;\n  }\n\n  /* end State update functions */\n\n  save() {\n    if (this.saveState) {\n      this.lastSavedState =\n        this.saveState({ state: clone(this.state()), lastSavedState: this.lastSavedState }) ||\n        this.lastSavedState;\n    }\n  }\n\n  announceStateChange(announce = true, skipDiffing = false) {\n    if (!announce) {\n      return;\n    }\n\n    const remoteState = this.omitAndCloneState();\n\n    if (skipDiffing) {\n      this.sendRemote({ state: remoteState });\n      this.tagState({ state: remoteState });\n      return;\n    }\n\n    const diff = getDiff(this.lastAnnouncedState, this.removeStateChangeFalseTriggers(remoteState));\n\n    if (diff) {\n      this.sendRemote({ diff });\n      this.stateChangesCount += 1;\n      this.tagState({ state: remoteState });\n    }\n  }\n\n  tagState({ state }) {\n    this.save();\n    this.lastAnnouncedState = state;\n    this.pushStateToLocalSubscribers();\n  }\n\n  subscribe(handler) {\n    this.subscriptions.push(handler);\n\n    handler(this.state());\n\n    return () => {\n      this.subscriptions = this.subscriptions.filter(sub => sub !== handler);\n    };\n  }\n\n  pushStateToLocalSubscribers() {\n    this.subscriptions.forEach(handler => handler(this.state()));\n  }\n}\n\nexport { ConnectedStore, LogStore, MirroringStore, MultiConnectedStore, ProgramStateStore, makeConnectedStore };\n","function noop() { }\nconst identity = x => x;\nfunction assign(tar, src) {\n    // @ts-ignore\n    for (const k in src)\n        tar[k] = src[k];\n    return tar;\n}\nfunction is_promise(value) {\n    return value && typeof value === 'object' && typeof value.then === 'function';\n}\nfunction add_location(element, file, line, column, char) {\n    element.__svelte_meta = {\n        loc: { file, line, column, char }\n    };\n}\nfunction run(fn) {\n    return fn();\n}\nfunction blank_object() {\n    return Object.create(null);\n}\nfunction run_all(fns) {\n    fns.forEach(run);\n}\nfunction is_function(thing) {\n    return typeof thing === 'function';\n}\nfunction safe_not_equal(a, b) {\n    return a != a ? b == b : a !== b || ((a && typeof a === 'object') || typeof a === 'function');\n}\nfunction not_equal(a, b) {\n    return a != a ? b == b : a !== b;\n}\nfunction is_empty(obj) {\n    return Object.keys(obj).length === 0;\n}\nfunction validate_store(store, name) {\n    if (store != null && typeof store.subscribe !== 'function') {\n        throw new Error(`'${name}' is not a store with a 'subscribe' method`);\n    }\n}\nfunction subscribe(store, ...callbacks) {\n    if (store == null) {\n        return noop;\n    }\n    const unsub = store.subscribe(...callbacks);\n    return unsub.unsubscribe ? () => unsub.unsubscribe() : unsub;\n}\nfunction get_store_value(store) {\n    let value;\n    subscribe(store, _ => value = _)();\n    return value;\n}\nfunction component_subscribe(component, store, callback) {\n    component.$$.on_destroy.push(subscribe(store, callback));\n}\nfunction create_slot(definition, ctx, $$scope, fn) {\n    if (definition) {\n        const slot_ctx = get_slot_context(definition, ctx, $$scope, fn);\n        return definition[0](slot_ctx);\n    }\n}\nfunction get_slot_context(definition, ctx, $$scope, fn) {\n    return definition[1] && fn\n        ? assign($$scope.ctx.slice(), definition[1](fn(ctx)))\n        : $$scope.ctx;\n}\nfunction get_slot_changes(definition, $$scope, dirty, fn) {\n    if (definition[2] && fn) {\n        const lets = definition[2](fn(dirty));\n        if ($$scope.dirty === undefined) {\n            return lets;\n        }\n        if (typeof lets === 'object') {\n            const merged = [];\n            const len = Math.max($$scope.dirty.length, lets.length);\n            for (let i = 0; i < len; i += 1) {\n                merged[i] = $$scope.dirty[i] | lets[i];\n            }\n            return merged;\n        }\n        return $$scope.dirty | lets;\n    }\n    return $$scope.dirty;\n}\nfunction update_slot(slot, slot_definition, ctx, $$scope, dirty, get_slot_changes_fn, get_slot_context_fn) {\n    const slot_changes = get_slot_changes(slot_definition, $$scope, dirty, get_slot_changes_fn);\n    if (slot_changes) {\n        const slot_context = get_slot_context(slot_definition, ctx, $$scope, get_slot_context_fn);\n        slot.p(slot_context, slot_changes);\n    }\n}\nfunction update_slot_spread(slot, slot_definition, ctx, $$scope, dirty, get_slot_changes_fn, get_slot_spread_changes_fn, get_slot_context_fn) {\n    const slot_changes = get_slot_spread_changes_fn(dirty) | get_slot_changes(slot_definition, $$scope, dirty, get_slot_changes_fn);\n    if (slot_changes) {\n        const slot_context = get_slot_context(slot_definition, ctx, $$scope, get_slot_context_fn);\n        slot.p(slot_context, slot_changes);\n    }\n}\nfunction exclude_internal_props(props) {\n    const result = {};\n    for (const k in props)\n        if (k[0] !== '$')\n            result[k] = props[k];\n    return result;\n}\nfunction compute_rest_props(props, keys) {\n    const rest = {};\n    keys = new Set(keys);\n    for (const k in props)\n        if (!keys.has(k) && k[0] !== '$')\n            rest[k] = props[k];\n    return rest;\n}\nfunction compute_slots(slots) {\n    const result = {};\n    for (const key in slots) {\n        result[key] = true;\n    }\n    return result;\n}\nfunction once(fn) {\n    let ran = false;\n    return function (...args) {\n        if (ran)\n            return;\n        ran = true;\n        fn.call(this, ...args);\n    };\n}\nfunction null_to_empty(value) {\n    return value == null ? '' : value;\n}\nfunction set_store_value(store, ret, value = ret) {\n    store.set(value);\n    return ret;\n}\nconst has_prop = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop);\nfunction action_destroyer(action_result) {\n    return action_result && is_function(action_result.destroy) ? action_result.destroy : noop;\n}\n\nconst is_client = typeof window !== 'undefined';\nlet now = is_client\n    ? () => window.performance.now()\n    : () => Date.now();\nlet raf = is_client ? cb => requestAnimationFrame(cb) : noop;\n// used internally for testing\nfunction set_now(fn) {\n    now = fn;\n}\nfunction set_raf(fn) {\n    raf = fn;\n}\n\nconst tasks = new Set();\nfunction run_tasks(now) {\n    tasks.forEach(task => {\n        if (!task.c(now)) {\n            tasks.delete(task);\n            task.f();\n        }\n    });\n    if (tasks.size !== 0)\n        raf(run_tasks);\n}\n/**\n * For testing purposes only!\n */\nfunction clear_loops() {\n    tasks.clear();\n}\n/**\n * Creates a new task that runs on each raf frame\n * until it returns a falsy value or is aborted\n */\nfunction loop(callback) {\n    let task;\n    if (tasks.size === 0)\n        raf(run_tasks);\n    return {\n        promise: new Promise(fulfill => {\n            tasks.add(task = { c: callback, f: fulfill });\n        }),\n        abort() {\n            tasks.delete(task);\n        }\n    };\n}\n\nfunction append(target, node) {\n    target.appendChild(node);\n}\nfunction insert(target, node, anchor) {\n    target.insertBefore(node, anchor || null);\n}\nfunction detach(node) {\n    node.parentNode.removeChild(node);\n}\nfunction destroy_each(iterations, detaching) {\n    for (let i = 0; i < iterations.length; i += 1) {\n        if (iterations[i])\n            iterations[i].d(detaching);\n    }\n}\nfunction element(name) {\n    return document.createElement(name);\n}\nfunction element_is(name, is) {\n    return document.createElement(name, { is });\n}\nfunction object_without_properties(obj, exclude) {\n    const target = {};\n    for (const k in obj) {\n        if (has_prop(obj, k)\n            // @ts-ignore\n            && exclude.indexOf(k) === -1) {\n            // @ts-ignore\n            target[k] = obj[k];\n        }\n    }\n    return target;\n}\nfunction svg_element(name) {\n    return document.createElementNS('http://www.w3.org/2000/svg', name);\n}\nfunction text(data) {\n    return document.createTextNode(data);\n}\nfunction space() {\n    return text(' ');\n}\nfunction empty() {\n    return text('');\n}\nfunction listen(node, event, handler, options) {\n    node.addEventListener(event, handler, options);\n    return () => node.removeEventListener(event, handler, options);\n}\nfunction prevent_default(fn) {\n    return function (event) {\n        event.preventDefault();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction stop_propagation(fn) {\n    return function (event) {\n        event.stopPropagation();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction self(fn) {\n    return function (event) {\n        // @ts-ignore\n        if (event.target === this)\n            fn.call(this, event);\n    };\n}\nfunction attr(node, attribute, value) {\n    if (value == null)\n        node.removeAttribute(attribute);\n    else if (node.getAttribute(attribute) !== value)\n        node.setAttribute(attribute, value);\n}\nfunction set_attributes(node, attributes) {\n    // @ts-ignore\n    const descriptors = Object.getOwnPropertyDescriptors(node.__proto__);\n    for (const key in attributes) {\n        if (attributes[key] == null) {\n            node.removeAttribute(key);\n        }\n        else if (key === 'style') {\n            node.style.cssText = attributes[key];\n        }\n        else if (key === '__value') {\n            node.value = node[key] = attributes[key];\n        }\n        else if (descriptors[key] && descriptors[key].set) {\n            node[key] = attributes[key];\n        }\n        else {\n            attr(node, key, attributes[key]);\n        }\n    }\n}\nfunction set_svg_attributes(node, attributes) {\n    for (const key in attributes) {\n        attr(node, key, attributes[key]);\n    }\n}\nfunction set_custom_element_data(node, prop, value) {\n    if (prop in node) {\n        node[prop] = value;\n    }\n    else {\n        attr(node, prop, value);\n    }\n}\nfunction xlink_attr(node, attribute, value) {\n    node.setAttributeNS('http://www.w3.org/1999/xlink', attribute, value);\n}\nfunction get_binding_group_value(group, __value, checked) {\n    const value = new Set();\n    for (let i = 0; i < group.length; i += 1) {\n        if (group[i].checked)\n            value.add(group[i].__value);\n    }\n    if (!checked) {\n        value.delete(__value);\n    }\n    return Array.from(value);\n}\nfunction to_number(value) {\n    return value === '' ? null : +value;\n}\nfunction time_ranges_to_array(ranges) {\n    const array = [];\n    for (let i = 0; i < ranges.length; i += 1) {\n        array.push({ start: ranges.start(i), end: ranges.end(i) });\n    }\n    return array;\n}\nfunction children(element) {\n    return Array.from(element.childNodes);\n}\nfunction claim_element(nodes, name, attributes, svg) {\n    for (let i = 0; i < nodes.length; i += 1) {\n        const node = nodes[i];\n        if (node.nodeName === name) {\n            let j = 0;\n            const remove = [];\n            while (j < node.attributes.length) {\n                const attribute = node.attributes[j++];\n                if (!attributes[attribute.name]) {\n                    remove.push(attribute.name);\n                }\n            }\n            for (let k = 0; k < remove.length; k++) {\n                node.removeAttribute(remove[k]);\n            }\n            return nodes.splice(i, 1)[0];\n        }\n    }\n    return svg ? svg_element(name) : element(name);\n}\nfunction claim_text(nodes, data) {\n    for (let i = 0; i < nodes.length; i += 1) {\n        const node = nodes[i];\n        if (node.nodeType === 3) {\n            node.data = '' + data;\n            return nodes.splice(i, 1)[0];\n        }\n    }\n    return text(data);\n}\nfunction claim_space(nodes) {\n    return claim_text(nodes, ' ');\n}\nfunction set_data(text, data) {\n    data = '' + data;\n    if (text.wholeText !== data)\n        text.data = data;\n}\nfunction set_input_value(input, value) {\n    input.value = value == null ? '' : value;\n}\nfunction set_input_type(input, type) {\n    try {\n        input.type = type;\n    }\n    catch (e) {\n        // do nothing\n    }\n}\nfunction set_style(node, key, value, important) {\n    node.style.setProperty(key, value, important ? 'important' : '');\n}\nfunction select_option(select, value) {\n    for (let i = 0; i < select.options.length; i += 1) {\n        const option = select.options[i];\n        if (option.__value === value) {\n            option.selected = true;\n            return;\n        }\n    }\n}\nfunction select_options(select, value) {\n    for (let i = 0; i < select.options.length; i += 1) {\n        const option = select.options[i];\n        option.selected = ~value.indexOf(option.__value);\n    }\n}\nfunction select_value(select) {\n    const selected_option = select.querySelector(':checked') || select.options[0];\n    return selected_option && selected_option.__value;\n}\nfunction select_multiple_value(select) {\n    return [].map.call(select.querySelectorAll(':checked'), option => option.__value);\n}\n// unfortunately this can't be a constant as that wouldn't be tree-shakeable\n// so we cache the result instead\nlet crossorigin;\nfunction is_crossorigin() {\n    if (crossorigin === undefined) {\n        crossorigin = false;\n        try {\n            if (typeof window !== 'undefined' && window.parent) {\n                void window.parent.document;\n            }\n        }\n        catch (error) {\n            crossorigin = true;\n        }\n    }\n    return crossorigin;\n}\nfunction add_resize_listener(node, fn) {\n    const computed_style = getComputedStyle(node);\n    if (computed_style.position === 'static') {\n        node.style.position = 'relative';\n    }\n    const iframe = element('iframe');\n    iframe.setAttribute('style', 'display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; ' +\n        'overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;');\n    iframe.setAttribute('aria-hidden', 'true');\n    iframe.tabIndex = -1;\n    const crossorigin = is_crossorigin();\n    let unsubscribe;\n    if (crossorigin) {\n        iframe.src = \"data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}</script>\";\n        unsubscribe = listen(window, 'message', (event) => {\n            if (event.source === iframe.contentWindow)\n                fn();\n        });\n    }\n    else {\n        iframe.src = 'about:blank';\n        iframe.onload = () => {\n            unsubscribe = listen(iframe.contentWindow, 'resize', fn);\n        };\n    }\n    append(node, iframe);\n    return () => {\n        if (crossorigin) {\n            unsubscribe();\n        }\n        else if (unsubscribe && iframe.contentWindow) {\n            unsubscribe();\n        }\n        detach(iframe);\n    };\n}\nfunction toggle_class(element, name, toggle) {\n    element.classList[toggle ? 'add' : 'remove'](name);\n}\nfunction custom_event(type, detail) {\n    const e = document.createEvent('CustomEvent');\n    e.initCustomEvent(type, false, false, detail);\n    return e;\n}\nfunction query_selector_all(selector, parent = document.body) {\n    return Array.from(parent.querySelectorAll(selector));\n}\nclass HtmlTag {\n    constructor(anchor = null) {\n        this.a = anchor;\n        this.e = this.n = null;\n    }\n    m(html, target, anchor = null) {\n        if (!this.e) {\n            this.e = element(target.nodeName);\n            this.t = target;\n            this.h(html);\n        }\n        this.i(anchor);\n    }\n    h(html) {\n        this.e.innerHTML = html;\n        this.n = Array.from(this.e.childNodes);\n    }\n    i(anchor) {\n        for (let i = 0; i < this.n.length; i += 1) {\n            insert(this.t, this.n[i], anchor);\n        }\n    }\n    p(html) {\n        this.d();\n        this.h(html);\n        this.i(this.a);\n    }\n    d() {\n        this.n.forEach(detach);\n    }\n}\nfunction attribute_to_object(attributes) {\n    const result = {};\n    for (const attribute of attributes) {\n        result[attribute.name] = attribute.value;\n    }\n    return result;\n}\nfunction get_custom_elements_slots(element) {\n    const result = {};\n    element.childNodes.forEach((node) => {\n        result[node.slot || 'default'] = true;\n    });\n    return result;\n}\n\nconst active_docs = new Set();\nlet active = 0;\n// https://github.com/darkskyapp/string-hash/blob/master/index.js\nfunction hash(str) {\n    let hash = 5381;\n    let i = str.length;\n    while (i--)\n        hash = ((hash << 5) - hash) ^ str.charCodeAt(i);\n    return hash >>> 0;\n}\nfunction create_rule(node, a, b, duration, delay, ease, fn, uid = 0) {\n    const step = 16.666 / duration;\n    let keyframes = '{\\n';\n    for (let p = 0; p <= 1; p += step) {\n        const t = a + (b - a) * ease(p);\n        keyframes += p * 100 + `%{${fn(t, 1 - t)}}\\n`;\n    }\n    const rule = keyframes + `100% {${fn(b, 1 - b)}}\\n}`;\n    const name = `__svelte_${hash(rule)}_${uid}`;\n    const doc = node.ownerDocument;\n    active_docs.add(doc);\n    const stylesheet = doc.__svelte_stylesheet || (doc.__svelte_stylesheet = doc.head.appendChild(element('style')).sheet);\n    const current_rules = doc.__svelte_rules || (doc.__svelte_rules = {});\n    if (!current_rules[name]) {\n        current_rules[name] = true;\n        stylesheet.insertRule(`@keyframes ${name} ${rule}`, stylesheet.cssRules.length);\n    }\n    const animation = node.style.animation || '';\n    node.style.animation = `${animation ? `${animation}, ` : ''}${name} ${duration}ms linear ${delay}ms 1 both`;\n    active += 1;\n    return name;\n}\nfunction delete_rule(node, name) {\n    const previous = (node.style.animation || '').split(', ');\n    const next = previous.filter(name\n        ? anim => anim.indexOf(name) < 0 // remove specific animation\n        : anim => anim.indexOf('__svelte') === -1 // remove all Svelte animations\n    );\n    const deleted = previous.length - next.length;\n    if (deleted) {\n        node.style.animation = next.join(', ');\n        active -= deleted;\n        if (!active)\n            clear_rules();\n    }\n}\nfunction clear_rules() {\n    raf(() => {\n        if (active)\n            return;\n        active_docs.forEach(doc => {\n            const stylesheet = doc.__svelte_stylesheet;\n            let i = stylesheet.cssRules.length;\n            while (i--)\n                stylesheet.deleteRule(i);\n            doc.__svelte_rules = {};\n        });\n        active_docs.clear();\n    });\n}\n\nfunction create_animation(node, from, fn, params) {\n    if (!from)\n        return noop;\n    const to = node.getBoundingClientRect();\n    if (from.left === to.left && from.right === to.right && from.top === to.top && from.bottom === to.bottom)\n        return noop;\n    const { delay = 0, duration = 300, easing = identity, \n    // @ts-ignore todo: should this be separated from destructuring? Or start/end added to public api and documentation?\n    start: start_time = now() + delay, \n    // @ts-ignore todo:\n    end = start_time + duration, tick = noop, css } = fn(node, { from, to }, params);\n    let running = true;\n    let started = false;\n    let name;\n    function start() {\n        if (css) {\n            name = create_rule(node, 0, 1, duration, delay, easing, css);\n        }\n        if (!delay) {\n            started = true;\n        }\n    }\n    function stop() {\n        if (css)\n            delete_rule(node, name);\n        running = false;\n    }\n    loop(now => {\n        if (!started && now >= start_time) {\n            started = true;\n        }\n        if (started && now >= end) {\n            tick(1, 0);\n            stop();\n        }\n        if (!running) {\n            return false;\n        }\n        if (started) {\n            const p = now - start_time;\n            const t = 0 + 1 * easing(p / duration);\n            tick(t, 1 - t);\n        }\n        return true;\n    });\n    start();\n    tick(0, 1);\n    return stop;\n}\nfunction fix_position(node) {\n    const style = getComputedStyle(node);\n    if (style.position !== 'absolute' && style.position !== 'fixed') {\n        const { width, height } = style;\n        const a = node.getBoundingClientRect();\n        node.style.position = 'absolute';\n        node.style.width = width;\n        node.style.height = height;\n        add_transform(node, a);\n    }\n}\nfunction add_transform(node, a) {\n    const b = node.getBoundingClientRect();\n    if (a.left !== b.left || a.top !== b.top) {\n        const style = getComputedStyle(node);\n        const transform = style.transform === 'none' ? '' : style.transform;\n        node.style.transform = `${transform} translate(${a.left - b.left}px, ${a.top - b.top}px)`;\n    }\n}\n\nlet current_component;\nfunction set_current_component(component) {\n    current_component = component;\n}\nfunction get_current_component() {\n    if (!current_component)\n        throw new Error('Function called outside component initialization');\n    return current_component;\n}\nfunction beforeUpdate(fn) {\n    get_current_component().$$.before_update.push(fn);\n}\nfunction onMount(fn) {\n    get_current_component().$$.on_mount.push(fn);\n}\nfunction afterUpdate(fn) {\n    get_current_component().$$.after_update.push(fn);\n}\nfunction onDestroy(fn) {\n    get_current_component().$$.on_destroy.push(fn);\n}\nfunction createEventDispatcher() {\n    const component = get_current_component();\n    return (type, detail) => {\n        const callbacks = component.$$.callbacks[type];\n        if (callbacks) {\n            // TODO are there situations where events could be dispatched\n            // in a server (non-DOM) environment?\n            const event = custom_event(type, detail);\n            callbacks.slice().forEach(fn => {\n                fn.call(component, event);\n            });\n        }\n    };\n}\nfunction setContext(key, context) {\n    get_current_component().$$.context.set(key, context);\n}\nfunction getContext(key) {\n    return get_current_component().$$.context.get(key);\n}\nfunction hasContext(key) {\n    return get_current_component().$$.context.has(key);\n}\n// TODO figure out if we still want to support\n// shorthand events, or if we want to implement\n// a real bubbling mechanism\nfunction bubble(component, event) {\n    const callbacks = component.$$.callbacks[event.type];\n    if (callbacks) {\n        callbacks.slice().forEach(fn => fn(event));\n    }\n}\n\nconst dirty_components = [];\nconst intros = { enabled: false };\nconst binding_callbacks = [];\nconst render_callbacks = [];\nconst flush_callbacks = [];\nconst resolved_promise = Promise.resolve();\nlet update_scheduled = false;\nfunction schedule_update() {\n    if (!update_scheduled) {\n        update_scheduled = true;\n        resolved_promise.then(flush);\n    }\n}\nfunction tick() {\n    schedule_update();\n    return resolved_promise;\n}\nfunction add_render_callback(fn) {\n    render_callbacks.push(fn);\n}\nfunction add_flush_callback(fn) {\n    flush_callbacks.push(fn);\n}\nlet flushing = false;\nconst seen_callbacks = new Set();\nfunction flush() {\n    if (flushing)\n        return;\n    flushing = true;\n    do {\n        // first, call beforeUpdate functions\n        // and update components\n        for (let i = 0; i < dirty_components.length; i += 1) {\n            const component = dirty_components[i];\n            set_current_component(component);\n            update(component.$$);\n        }\n        set_current_component(null);\n        dirty_components.length = 0;\n        while (binding_callbacks.length)\n            binding_callbacks.pop()();\n        // then, once components are updated, call\n        // afterUpdate functions. This may cause\n        // subsequent updates...\n        for (let i = 0; i < render_callbacks.length; i += 1) {\n            const callback = render_callbacks[i];\n            if (!seen_callbacks.has(callback)) {\n                // ...so guard against infinite loops\n                seen_callbacks.add(callback);\n                callback();\n            }\n        }\n        render_callbacks.length = 0;\n    } while (dirty_components.length);\n    while (flush_callbacks.length) {\n        flush_callbacks.pop()();\n    }\n    update_scheduled = false;\n    flushing = false;\n    seen_callbacks.clear();\n}\nfunction update($$) {\n    if ($$.fragment !== null) {\n        $$.update();\n        run_all($$.before_update);\n        const dirty = $$.dirty;\n        $$.dirty = [-1];\n        $$.fragment && $$.fragment.p($$.ctx, dirty);\n        $$.after_update.forEach(add_render_callback);\n    }\n}\n\nlet promise;\nfunction wait() {\n    if (!promise) {\n        promise = Promise.resolve();\n        promise.then(() => {\n            promise = null;\n        });\n    }\n    return promise;\n}\nfunction dispatch(node, direction, kind) {\n    node.dispatchEvent(custom_event(`${direction ? 'intro' : 'outro'}${kind}`));\n}\nconst outroing = new Set();\nlet outros;\nfunction group_outros() {\n    outros = {\n        r: 0,\n        c: [],\n        p: outros // parent group\n    };\n}\nfunction check_outros() {\n    if (!outros.r) {\n        run_all(outros.c);\n    }\n    outros = outros.p;\n}\nfunction transition_in(block, local) {\n    if (block && block.i) {\n        outroing.delete(block);\n        block.i(local);\n    }\n}\nfunction transition_out(block, local, detach, callback) {\n    if (block && block.o) {\n        if (outroing.has(block))\n            return;\n        outroing.add(block);\n        outros.c.push(() => {\n            outroing.delete(block);\n            if (callback) {\n                if (detach)\n                    block.d(1);\n                callback();\n            }\n        });\n        block.o(local);\n    }\n}\nconst null_transition = { duration: 0 };\nfunction create_in_transition(node, fn, params) {\n    let config = fn(node, params);\n    let running = false;\n    let animation_name;\n    let task;\n    let uid = 0;\n    function cleanup() {\n        if (animation_name)\n            delete_rule(node, animation_name);\n    }\n    function go() {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        if (css)\n            animation_name = create_rule(node, 0, 1, duration, delay, easing, css, uid++);\n        tick(0, 1);\n        const start_time = now() + delay;\n        const end_time = start_time + duration;\n        if (task)\n            task.abort();\n        running = true;\n        add_render_callback(() => dispatch(node, true, 'start'));\n        task = loop(now => {\n            if (running) {\n                if (now >= end_time) {\n                    tick(1, 0);\n                    dispatch(node, true, 'end');\n                    cleanup();\n                    return running = false;\n                }\n                if (now >= start_time) {\n                    const t = easing((now - start_time) / duration);\n                    tick(t, 1 - t);\n                }\n            }\n            return running;\n        });\n    }\n    let started = false;\n    return {\n        start() {\n            if (started)\n                return;\n            delete_rule(node);\n            if (is_function(config)) {\n                config = config();\n                wait().then(go);\n            }\n            else {\n                go();\n            }\n        },\n        invalidate() {\n            started = false;\n        },\n        end() {\n            if (running) {\n                cleanup();\n                running = false;\n            }\n        }\n    };\n}\nfunction create_out_transition(node, fn, params) {\n    let config = fn(node, params);\n    let running = true;\n    let animation_name;\n    const group = outros;\n    group.r += 1;\n    function go() {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        if (css)\n            animation_name = create_rule(node, 1, 0, duration, delay, easing, css);\n        const start_time = now() + delay;\n        const end_time = start_time + duration;\n        add_render_callback(() => dispatch(node, false, 'start'));\n        loop(now => {\n            if (running) {\n                if (now >= end_time) {\n                    tick(0, 1);\n                    dispatch(node, false, 'end');\n                    if (!--group.r) {\n                        // this will result in `end()` being called,\n                        // so we don't need to clean up here\n                        run_all(group.c);\n                    }\n                    return false;\n                }\n                if (now >= start_time) {\n                    const t = easing((now - start_time) / duration);\n                    tick(1 - t, t);\n                }\n            }\n            return running;\n        });\n    }\n    if (is_function(config)) {\n        wait().then(() => {\n            // @ts-ignore\n            config = config();\n            go();\n        });\n    }\n    else {\n        go();\n    }\n    return {\n        end(reset) {\n            if (reset && config.tick) {\n                config.tick(1, 0);\n            }\n            if (running) {\n                if (animation_name)\n                    delete_rule(node, animation_name);\n                running = false;\n            }\n        }\n    };\n}\nfunction create_bidirectional_transition(node, fn, params, intro) {\n    let config = fn(node, params);\n    let t = intro ? 0 : 1;\n    let running_program = null;\n    let pending_program = null;\n    let animation_name = null;\n    function clear_animation() {\n        if (animation_name)\n            delete_rule(node, animation_name);\n    }\n    function init(program, duration) {\n        const d = program.b - t;\n        duration *= Math.abs(d);\n        return {\n            a: t,\n            b: program.b,\n            d,\n            duration,\n            start: program.start,\n            end: program.start + duration,\n            group: program.group\n        };\n    }\n    function go(b) {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        const program = {\n            start: now() + delay,\n            b\n        };\n        if (!b) {\n            // @ts-ignore todo: improve typings\n            program.group = outros;\n            outros.r += 1;\n        }\n        if (running_program || pending_program) {\n            pending_program = program;\n        }\n        else {\n            // if this is an intro, and there's a delay, we need to do\n            // an initial tick and/or apply CSS animation immediately\n            if (css) {\n                clear_animation();\n                animation_name = create_rule(node, t, b, duration, delay, easing, css);\n            }\n            if (b)\n                tick(0, 1);\n            running_program = init(program, duration);\n            add_render_callback(() => dispatch(node, b, 'start'));\n            loop(now => {\n                if (pending_program && now > pending_program.start) {\n                    running_program = init(pending_program, duration);\n                    pending_program = null;\n                    dispatch(node, running_program.b, 'start');\n                    if (css) {\n                        clear_animation();\n                        animation_name = create_rule(node, t, running_program.b, running_program.duration, 0, easing, config.css);\n                    }\n                }\n                if (running_program) {\n                    if (now >= running_program.end) {\n                        tick(t = running_program.b, 1 - t);\n                        dispatch(node, running_program.b, 'end');\n                        if (!pending_program) {\n                            // we're done\n                            if (running_program.b) {\n                                // intro â€” we can tidy up immediately\n                                clear_animation();\n                            }\n                            else {\n                                // outro â€” needs to be coordinated\n                                if (!--running_program.group.r)\n                                    run_all(running_program.group.c);\n                            }\n                        }\n                        running_program = null;\n                    }\n                    else if (now >= running_program.start) {\n                        const p = now - running_program.start;\n                        t = running_program.a + running_program.d * easing(p / running_program.duration);\n                        tick(t, 1 - t);\n                    }\n                }\n                return !!(running_program || pending_program);\n            });\n        }\n    }\n    return {\n        run(b) {\n            if (is_function(config)) {\n                wait().then(() => {\n                    // @ts-ignore\n                    config = config();\n                    go(b);\n                });\n            }\n            else {\n                go(b);\n            }\n        },\n        end() {\n            clear_animation();\n            running_program = pending_program = null;\n        }\n    };\n}\n\nfunction handle_promise(promise, info) {\n    const token = info.token = {};\n    function update(type, index, key, value) {\n        if (info.token !== token)\n            return;\n        info.resolved = value;\n        let child_ctx = info.ctx;\n        if (key !== undefined) {\n            child_ctx = child_ctx.slice();\n            child_ctx[key] = value;\n        }\n        const block = type && (info.current = type)(child_ctx);\n        let needs_flush = false;\n        if (info.block) {\n            if (info.blocks) {\n                info.blocks.forEach((block, i) => {\n                    if (i !== index && block) {\n                        group_outros();\n                        transition_out(block, 1, 1, () => {\n                            if (info.blocks[i] === block) {\n                                info.blocks[i] = null;\n                            }\n                        });\n                        check_outros();\n                    }\n                });\n            }\n            else {\n                info.block.d(1);\n            }\n            block.c();\n            transition_in(block, 1);\n            block.m(info.mount(), info.anchor);\n            needs_flush = true;\n        }\n        info.block = block;\n        if (info.blocks)\n            info.blocks[index] = block;\n        if (needs_flush) {\n            flush();\n        }\n    }\n    if (is_promise(promise)) {\n        const current_component = get_current_component();\n        promise.then(value => {\n            set_current_component(current_component);\n            update(info.then, 1, info.value, value);\n            set_current_component(null);\n        }, error => {\n            set_current_component(current_component);\n            update(info.catch, 2, info.error, error);\n            set_current_component(null);\n            if (!info.hasCatch) {\n                throw error;\n            }\n        });\n        // if we previously had a then/catch block, destroy it\n        if (info.current !== info.pending) {\n            update(info.pending, 0);\n            return true;\n        }\n    }\n    else {\n        if (info.current !== info.then) {\n            update(info.then, 1, info.value, promise);\n            return true;\n        }\n        info.resolved = promise;\n    }\n}\n\nconst globals = (typeof window !== 'undefined'\n    ? window\n    : typeof globalThis !== 'undefined'\n        ? globalThis\n        : global);\n\nfunction destroy_block(block, lookup) {\n    block.d(1);\n    lookup.delete(block.key);\n}\nfunction outro_and_destroy_block(block, lookup) {\n    transition_out(block, 1, 1, () => {\n        lookup.delete(block.key);\n    });\n}\nfunction fix_and_destroy_block(block, lookup) {\n    block.f();\n    destroy_block(block, lookup);\n}\nfunction fix_and_outro_and_destroy_block(block, lookup) {\n    block.f();\n    outro_and_destroy_block(block, lookup);\n}\nfunction update_keyed_each(old_blocks, dirty, get_key, dynamic, ctx, list, lookup, node, destroy, create_each_block, next, get_context) {\n    let o = old_blocks.length;\n    let n = list.length;\n    let i = o;\n    const old_indexes = {};\n    while (i--)\n        old_indexes[old_blocks[i].key] = i;\n    const new_blocks = [];\n    const new_lookup = new Map();\n    const deltas = new Map();\n    i = n;\n    while (i--) {\n        const child_ctx = get_context(ctx, list, i);\n        const key = get_key(child_ctx);\n        let block = lookup.get(key);\n        if (!block) {\n            block = create_each_block(key, child_ctx);\n            block.c();\n        }\n        else if (dynamic) {\n            block.p(child_ctx, dirty);\n        }\n        new_lookup.set(key, new_blocks[i] = block);\n        if (key in old_indexes)\n            deltas.set(key, Math.abs(i - old_indexes[key]));\n    }\n    const will_move = new Set();\n    const did_move = new Set();\n    function insert(block) {\n        transition_in(block, 1);\n        block.m(node, next);\n        lookup.set(block.key, block);\n        next = block.first;\n        n--;\n    }\n    while (o && n) {\n        const new_block = new_blocks[n - 1];\n        const old_block = old_blocks[o - 1];\n        const new_key = new_block.key;\n        const old_key = old_block.key;\n        if (new_block === old_block) {\n            // do nothing\n            next = new_block.first;\n            o--;\n            n--;\n        }\n        else if (!new_lookup.has(old_key)) {\n            // remove old block\n            destroy(old_block, lookup);\n            o--;\n        }\n        else if (!lookup.has(new_key) || will_move.has(new_key)) {\n            insert(new_block);\n        }\n        else if (did_move.has(old_key)) {\n            o--;\n        }\n        else if (deltas.get(new_key) > deltas.get(old_key)) {\n            did_move.add(new_key);\n            insert(new_block);\n        }\n        else {\n            will_move.add(old_key);\n            o--;\n        }\n    }\n    while (o--) {\n        const old_block = old_blocks[o];\n        if (!new_lookup.has(old_block.key))\n            destroy(old_block, lookup);\n    }\n    while (n)\n        insert(new_blocks[n - 1]);\n    return new_blocks;\n}\nfunction validate_each_keys(ctx, list, get_context, get_key) {\n    const keys = new Set();\n    for (let i = 0; i < list.length; i++) {\n        const key = get_key(get_context(ctx, list, i));\n        if (keys.has(key)) {\n            throw new Error('Cannot have duplicate keys in a keyed each');\n        }\n        keys.add(key);\n    }\n}\n\nfunction get_spread_update(levels, updates) {\n    const update = {};\n    const to_null_out = {};\n    const accounted_for = { $$scope: 1 };\n    let i = levels.length;\n    while (i--) {\n        const o = levels[i];\n        const n = updates[i];\n        if (n) {\n            for (const key in o) {\n                if (!(key in n))\n                    to_null_out[key] = 1;\n            }\n            for (const key in n) {\n                if (!accounted_for[key]) {\n                    update[key] = n[key];\n                    accounted_for[key] = 1;\n                }\n            }\n            levels[i] = n;\n        }\n        else {\n            for (const key in o) {\n                accounted_for[key] = 1;\n            }\n        }\n    }\n    for (const key in to_null_out) {\n        if (!(key in update))\n            update[key] = undefined;\n    }\n    return update;\n}\nfunction get_spread_object(spread_props) {\n    return typeof spread_props === 'object' && spread_props !== null ? spread_props : {};\n}\n\n// source: https://html.spec.whatwg.org/multipage/indices.html\nconst boolean_attributes = new Set([\n    'allowfullscreen',\n    'allowpaymentrequest',\n    'async',\n    'autofocus',\n    'autoplay',\n    'checked',\n    'controls',\n    'default',\n    'defer',\n    'disabled',\n    'formnovalidate',\n    'hidden',\n    'ismap',\n    'loop',\n    'multiple',\n    'muted',\n    'nomodule',\n    'novalidate',\n    'open',\n    'playsinline',\n    'readonly',\n    'required',\n    'reversed',\n    'selected'\n]);\n\nconst invalid_attribute_name_character = /[\\s'\">/=\\u{FDD0}-\\u{FDEF}\\u{FFFE}\\u{FFFF}\\u{1FFFE}\\u{1FFFF}\\u{2FFFE}\\u{2FFFF}\\u{3FFFE}\\u{3FFFF}\\u{4FFFE}\\u{4FFFF}\\u{5FFFE}\\u{5FFFF}\\u{6FFFE}\\u{6FFFF}\\u{7FFFE}\\u{7FFFF}\\u{8FFFE}\\u{8FFFF}\\u{9FFFE}\\u{9FFFF}\\u{AFFFE}\\u{AFFFF}\\u{BFFFE}\\u{BFFFF}\\u{CFFFE}\\u{CFFFF}\\u{DFFFE}\\u{DFFFF}\\u{EFFFE}\\u{EFFFF}\\u{FFFFE}\\u{FFFFF}\\u{10FFFE}\\u{10FFFF}]/u;\n// https://html.spec.whatwg.org/multipage/syntax.html#attributes-2\n// https://infra.spec.whatwg.org/#noncharacter\nfunction spread(args, classes_to_add) {\n    const attributes = Object.assign({}, ...args);\n    if (classes_to_add) {\n        if (attributes.class == null) {\n            attributes.class = classes_to_add;\n        }\n        else {\n            attributes.class += ' ' + classes_to_add;\n        }\n    }\n    let str = '';\n    Object.keys(attributes).forEach(name => {\n        if (invalid_attribute_name_character.test(name))\n            return;\n        const value = attributes[name];\n        if (value === true)\n            str += ' ' + name;\n        else if (boolean_attributes.has(name.toLowerCase())) {\n            if (value)\n                str += ' ' + name;\n        }\n        else if (value != null) {\n            str += ` ${name}=\"${String(value).replace(/\"/g, '&#34;').replace(/'/g, '&#39;')}\"`;\n        }\n    });\n    return str;\n}\nconst escaped = {\n    '\"': '&quot;',\n    \"'\": '&#39;',\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;'\n};\nfunction escape(html) {\n    return String(html).replace(/[\"'&<>]/g, match => escaped[match]);\n}\nfunction each(items, fn) {\n    let str = '';\n    for (let i = 0; i < items.length; i += 1) {\n        str += fn(items[i], i);\n    }\n    return str;\n}\nconst missing_component = {\n    $$render: () => ''\n};\nfunction validate_component(component, name) {\n    if (!component || !component.$$render) {\n        if (name === 'svelte:component')\n            name += ' this={...}';\n        throw new Error(`<${name}> is not a valid SSR component. You may need to review your build config to ensure that dependencies are compiled, rather than imported as pre-compiled modules`);\n    }\n    return component;\n}\nfunction debug(file, line, column, values) {\n    console.log(`{@debug} ${file ? file + ' ' : ''}(${line}:${column})`); // eslint-disable-line no-console\n    console.log(values); // eslint-disable-line no-console\n    return '';\n}\nlet on_destroy;\nfunction create_ssr_component(fn) {\n    function $$render(result, props, bindings, slots) {\n        const parent_component = current_component;\n        const $$ = {\n            on_destroy,\n            context: new Map(parent_component ? parent_component.$$.context : []),\n            // these will be immediately discarded\n            on_mount: [],\n            before_update: [],\n            after_update: [],\n            callbacks: blank_object()\n        };\n        set_current_component({ $$ });\n        const html = fn(result, props, bindings, slots);\n        set_current_component(parent_component);\n        return html;\n    }\n    return {\n        render: (props = {}, options = {}) => {\n            on_destroy = [];\n            const result = { title: '', head: '', css: new Set() };\n            const html = $$render(result, props, {}, options);\n            run_all(on_destroy);\n            return {\n                html,\n                css: {\n                    code: Array.from(result.css).map(css => css.code).join('\\n'),\n                    map: null // TODO\n                },\n                head: result.title + result.head\n            };\n        },\n        $$render\n    };\n}\nfunction add_attribute(name, value, boolean) {\n    if (value == null || (boolean && !value))\n        return '';\n    return ` ${name}${value === true ? '' : `=${typeof value === 'string' ? JSON.stringify(escape(value)) : `\"${value}\"`}`}`;\n}\nfunction add_classes(classes) {\n    return classes ? ` class=\"${classes}\"` : '';\n}\n\nfunction bind(component, name, callback) {\n    const index = component.$$.props[name];\n    if (index !== undefined) {\n        component.$$.bound[index] = callback;\n        callback(component.$$.ctx[index]);\n    }\n}\nfunction create_component(block) {\n    block && block.c();\n}\nfunction claim_component(block, parent_nodes) {\n    block && block.l(parent_nodes);\n}\nfunction mount_component(component, target, anchor) {\n    const { fragment, on_mount, on_destroy, after_update } = component.$$;\n    fragment && fragment.m(target, anchor);\n    // onMount happens before the initial afterUpdate\n    add_render_callback(() => {\n        const new_on_destroy = on_mount.map(run).filter(is_function);\n        if (on_destroy) {\n            on_destroy.push(...new_on_destroy);\n        }\n        else {\n            // Edge case - component was destroyed immediately,\n            // most likely as a result of a binding initialising\n            run_all(new_on_destroy);\n        }\n        component.$$.on_mount = [];\n    });\n    after_update.forEach(add_render_callback);\n}\nfunction destroy_component(component, detaching) {\n    const $$ = component.$$;\n    if ($$.fragment !== null) {\n        run_all($$.on_destroy);\n        $$.fragment && $$.fragment.d(detaching);\n        // TODO null out other refs, including component.$$ (but need to\n        // preserve final state?)\n        $$.on_destroy = $$.fragment = null;\n        $$.ctx = [];\n    }\n}\nfunction make_dirty(component, i) {\n    if (component.$$.dirty[0] === -1) {\n        dirty_components.push(component);\n        schedule_update();\n        component.$$.dirty.fill(0);\n    }\n    component.$$.dirty[(i / 31) | 0] |= (1 << (i % 31));\n}\nfunction init(component, options, instance, create_fragment, not_equal, props, dirty = [-1]) {\n    const parent_component = current_component;\n    set_current_component(component);\n    const prop_values = options.props || {};\n    const $$ = component.$$ = {\n        fragment: null,\n        ctx: null,\n        // state\n        props,\n        update: noop,\n        not_equal,\n        bound: blank_object(),\n        // lifecycle\n        on_mount: [],\n        on_destroy: [],\n        before_update: [],\n        after_update: [],\n        context: new Map(parent_component ? parent_component.$$.context : []),\n        // everything else\n        callbacks: blank_object(),\n        dirty,\n        skip_bound: false\n    };\n    let ready = false;\n    $$.ctx = instance\n        ? instance(component, prop_values, (i, ret, ...rest) => {\n            const value = rest.length ? rest[0] : ret;\n            if ($$.ctx && not_equal($$.ctx[i], $$.ctx[i] = value)) {\n                if (!$$.skip_bound && $$.bound[i])\n                    $$.bound[i](value);\n                if (ready)\n                    make_dirty(component, i);\n            }\n            return ret;\n        })\n        : [];\n    $$.update();\n    ready = true;\n    run_all($$.before_update);\n    // `false` as a special case of no DOM component\n    $$.fragment = create_fragment ? create_fragment($$.ctx) : false;\n    if (options.target) {\n        if (options.hydrate) {\n            const nodes = children(options.target);\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment && $$.fragment.l(nodes);\n            nodes.forEach(detach);\n        }\n        else {\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment && $$.fragment.c();\n        }\n        if (options.intro)\n            transition_in(component.$$.fragment);\n        mount_component(component, options.target, options.anchor);\n        flush();\n    }\n    set_current_component(parent_component);\n}\nlet SvelteElement;\nif (typeof HTMLElement === 'function') {\n    SvelteElement = class extends HTMLElement {\n        constructor() {\n            super();\n            this.attachShadow({ mode: 'open' });\n        }\n        connectedCallback() {\n            // @ts-ignore todo: improve typings\n            for (const key in this.$$.slotted) {\n                // @ts-ignore todo: improve typings\n                this.appendChild(this.$$.slotted[key]);\n            }\n        }\n        attributeChangedCallback(attr, _oldValue, newValue) {\n            this[attr] = newValue;\n        }\n        $destroy() {\n            destroy_component(this, 1);\n            this.$destroy = noop;\n        }\n        $on(type, callback) {\n            // TODO should this delegate to addEventListener?\n            const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n            callbacks.push(callback);\n            return () => {\n                const index = callbacks.indexOf(callback);\n                if (index !== -1)\n                    callbacks.splice(index, 1);\n            };\n        }\n        $set($$props) {\n            if (this.$$set && !is_empty($$props)) {\n                this.$$.skip_bound = true;\n                this.$$set($$props);\n                this.$$.skip_bound = false;\n            }\n        }\n    };\n}\n/**\n * Base class for Svelte components. Used when dev=false.\n */\nclass SvelteComponent {\n    $destroy() {\n        destroy_component(this, 1);\n        this.$destroy = noop;\n    }\n    $on(type, callback) {\n        const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n        callbacks.push(callback);\n        return () => {\n            const index = callbacks.indexOf(callback);\n            if (index !== -1)\n                callbacks.splice(index, 1);\n        };\n    }\n    $set($$props) {\n        if (this.$$set && !is_empty($$props)) {\n            this.$$.skip_bound = true;\n            this.$$set($$props);\n            this.$$.skip_bound = false;\n        }\n    }\n}\n\nfunction dispatch_dev(type, detail) {\n    document.dispatchEvent(custom_event(type, Object.assign({ version: '3.31.2' }, detail)));\n}\nfunction append_dev(target, node) {\n    dispatch_dev('SvelteDOMInsert', { target, node });\n    append(target, node);\n}\nfunction insert_dev(target, node, anchor) {\n    dispatch_dev('SvelteDOMInsert', { target, node, anchor });\n    insert(target, node, anchor);\n}\nfunction detach_dev(node) {\n    dispatch_dev('SvelteDOMRemove', { node });\n    detach(node);\n}\nfunction detach_between_dev(before, after) {\n    while (before.nextSibling && before.nextSibling !== after) {\n        detach_dev(before.nextSibling);\n    }\n}\nfunction detach_before_dev(after) {\n    while (after.previousSibling) {\n        detach_dev(after.previousSibling);\n    }\n}\nfunction detach_after_dev(before) {\n    while (before.nextSibling) {\n        detach_dev(before.nextSibling);\n    }\n}\nfunction listen_dev(node, event, handler, options, has_prevent_default, has_stop_propagation) {\n    const modifiers = options === true ? ['capture'] : options ? Array.from(Object.keys(options)) : [];\n    if (has_prevent_default)\n        modifiers.push('preventDefault');\n    if (has_stop_propagation)\n        modifiers.push('stopPropagation');\n    dispatch_dev('SvelteDOMAddEventListener', { node, event, handler, modifiers });\n    const dispose = listen(node, event, handler, options);\n    return () => {\n        dispatch_dev('SvelteDOMRemoveEventListener', { node, event, handler, modifiers });\n        dispose();\n    };\n}\nfunction attr_dev(node, attribute, value) {\n    attr(node, attribute, value);\n    if (value == null)\n        dispatch_dev('SvelteDOMRemoveAttribute', { node, attribute });\n    else\n        dispatch_dev('SvelteDOMSetAttribute', { node, attribute, value });\n}\nfunction prop_dev(node, property, value) {\n    node[property] = value;\n    dispatch_dev('SvelteDOMSetProperty', { node, property, value });\n}\nfunction dataset_dev(node, property, value) {\n    node.dataset[property] = value;\n    dispatch_dev('SvelteDOMSetDataset', { node, property, value });\n}\nfunction set_data_dev(text, data) {\n    data = '' + data;\n    if (text.wholeText === data)\n        return;\n    dispatch_dev('SvelteDOMSetData', { node: text, data });\n    text.data = data;\n}\nfunction validate_each_argument(arg) {\n    if (typeof arg !== 'string' && !(arg && typeof arg === 'object' && 'length' in arg)) {\n        let msg = '{#each} only iterates over array-like objects.';\n        if (typeof Symbol === 'function' && arg && Symbol.iterator in arg) {\n            msg += ' You can use a spread to convert this iterable into an array.';\n        }\n        throw new Error(msg);\n    }\n}\nfunction validate_slots(name, slot, keys) {\n    for (const slot_key of Object.keys(slot)) {\n        if (!~keys.indexOf(slot_key)) {\n            console.warn(`<${name}> received an unexpected slot \"${slot_key}\".`);\n        }\n    }\n}\n/**\n * Base class for Svelte components with some minor dev-enhancements. Used when dev=true.\n */\nclass SvelteComponentDev extends SvelteComponent {\n    constructor(options) {\n        if (!options || (!options.target && !options.$$inline)) {\n            throw new Error(\"'target' is a required option\");\n        }\n        super();\n    }\n    $destroy() {\n        super.$destroy();\n        this.$destroy = () => {\n            console.warn('Component was already destroyed'); // eslint-disable-line no-console\n        };\n    }\n    $capture_state() { }\n    $inject_state() { }\n}\n/**\n * Base class to create strongly typed Svelte components.\n * This only exists for typing purposes and should be used in `.d.ts` files.\n *\n * ### Example:\n *\n * You have component library on npm called `component-library`, from which\n * you export a component called `MyComponent`. For Svelte+TypeScript users,\n * you want to provide typings. Therefore you create a `index.d.ts`:\n * ```ts\n * import { SvelteComponentTyped } from \"svelte\";\n * export class MyComponent extends SvelteComponentTyped<{foo: string}> {}\n * ```\n * Typing this makes it possible for IDEs like VS Code with the Svelte extension\n * to provide intellisense and to use the component like this in a Svelte file\n * with TypeScript:\n * ```svelte\n * <script lang=\"ts\">\n * \timport { MyComponent } from \"component-library\";\n * </script>\n * <MyComponent foo={'bar'} />\n * ```\n *\n * #### Why not make this part of `SvelteComponent(Dev)`?\n * Because\n * ```ts\n * class ASubclassOfSvelteComponent extends SvelteComponent<{foo: string}> {}\n * const component: typeof SvelteComponent = ASubclassOfSvelteComponent;\n * ```\n * will throw a type error, so we need to seperate the more strictly typed class.\n */\nclass SvelteComponentTyped extends SvelteComponentDev {\n    constructor(options) {\n        super(options);\n    }\n}\nfunction loop_guard(timeout) {\n    const start = Date.now();\n    return () => {\n        if (Date.now() - start > timeout) {\n            throw new Error('Infinite loop detected');\n        }\n    };\n}\n\nexport { HtmlTag, SvelteComponent, SvelteComponentDev, SvelteComponentTyped, SvelteElement, action_destroyer, add_attribute, add_classes, add_flush_callback, add_location, add_render_callback, add_resize_listener, add_transform, afterUpdate, append, append_dev, assign, attr, attr_dev, attribute_to_object, beforeUpdate, bind, binding_callbacks, blank_object, bubble, check_outros, children, claim_component, claim_element, claim_space, claim_text, clear_loops, component_subscribe, compute_rest_props, compute_slots, createEventDispatcher, create_animation, create_bidirectional_transition, create_component, create_in_transition, create_out_transition, create_slot, create_ssr_component, current_component, custom_event, dataset_dev, debug, destroy_block, destroy_component, destroy_each, detach, detach_after_dev, detach_before_dev, detach_between_dev, detach_dev, dirty_components, dispatch_dev, each, element, element_is, empty, escape, escaped, exclude_internal_props, fix_and_destroy_block, fix_and_outro_and_destroy_block, fix_position, flush, getContext, get_binding_group_value, get_current_component, get_custom_elements_slots, get_slot_changes, get_slot_context, get_spread_object, get_spread_update, get_store_value, globals, group_outros, handle_promise, hasContext, has_prop, identity, init, insert, insert_dev, intros, invalid_attribute_name_character, is_client, is_crossorigin, is_empty, is_function, is_promise, listen, listen_dev, loop, loop_guard, missing_component, mount_component, noop, not_equal, now, null_to_empty, object_without_properties, onDestroy, onMount, once, outro_and_destroy_block, prevent_default, prop_dev, query_selector_all, raf, run, run_all, safe_not_equal, schedule_update, select_multiple_value, select_option, select_options, select_value, self, setContext, set_attributes, set_current_component, set_custom_element_data, set_data, set_data_dev, set_input_type, set_input_value, set_now, set_raf, set_store_value, set_style, set_svg_attributes, space, spread, stop_propagation, subscribe, svg_element, text, tick, time_ranges_to_array, to_number, toggle_class, transition_in, transition_out, update_keyed_each, update_slot, update_slot_spread, validate_component, validate_each_argument, validate_each_keys, validate_slots, validate_store, xlink_attr };\n","import { noop, safe_not_equal, subscribe, run_all, is_function } from '../internal/index.mjs';\nexport { get_store_value as get } from '../internal/index.mjs';\n\nconst subscriber_queue = [];\n/**\n * Creates a `Readable` store that allows reading by subscription.\n * @param value initial value\n * @param {StartStopNotifier}start start and stop notifications for subscriptions\n */\nfunction readable(value, start) {\n    return {\n        subscribe: writable(value, start).subscribe\n    };\n}\n/**\n * Create a `Writable` store that allows both updating and reading by subscription.\n * @param {*=}value initial value\n * @param {StartStopNotifier=}start start and stop notifications for subscriptions\n */\nfunction writable(value, start = noop) {\n    let stop;\n    const subscribers = [];\n    function set(new_value) {\n        if (safe_not_equal(value, new_value)) {\n            value = new_value;\n            if (stop) { // store is ready\n                const run_queue = !subscriber_queue.length;\n                for (let i = 0; i < subscribers.length; i += 1) {\n                    const s = subscribers[i];\n                    s[1]();\n                    subscriber_queue.push(s, value);\n                }\n                if (run_queue) {\n                    for (let i = 0; i < subscriber_queue.length; i += 2) {\n                        subscriber_queue[i][0](subscriber_queue[i + 1]);\n                    }\n                    subscriber_queue.length = 0;\n                }\n            }\n        }\n    }\n    function update(fn) {\n        set(fn(value));\n    }\n    function subscribe(run, invalidate = noop) {\n        const subscriber = [run, invalidate];\n        subscribers.push(subscriber);\n        if (subscribers.length === 1) {\n            stop = start(set) || noop;\n        }\n        run(value);\n        return () => {\n            const index = subscribers.indexOf(subscriber);\n            if (index !== -1) {\n                subscribers.splice(index, 1);\n            }\n            if (subscribers.length === 0) {\n                stop();\n                stop = null;\n            }\n        };\n    }\n    return { set, update, subscribe };\n}\nfunction derived(stores, fn, initial_value) {\n    const single = !Array.isArray(stores);\n    const stores_array = single\n        ? [stores]\n        : stores;\n    const auto = fn.length < 2;\n    return readable(initial_value, (set) => {\n        let inited = false;\n        const values = [];\n        let pending = 0;\n        let cleanup = noop;\n        const sync = () => {\n            if (pending) {\n                return;\n            }\n            cleanup();\n            const result = fn(single ? values[0] : values, set);\n            if (auto) {\n                set(result);\n            }\n            else {\n                cleanup = is_function(result) ? result : noop;\n            }\n        };\n        const unsubscribers = stores_array.map((store, i) => subscribe(store, (value) => {\n            values[i] = value;\n            pending &= ~(1 << i);\n            if (inited) {\n                sync();\n            }\n        }, () => {\n            pending |= (1 << i);\n        }));\n        inited = true;\n        sync();\n        return function stop() {\n            run_all(unsubscribers);\n            cleanup();\n        };\n    });\n}\n\nexport { derived, readable, writable };\n","import * as dmtJS from '../dmt-one';\nconst { Emitter } = dmtJS;\n\nclass App extends Emitter {\n  constructor() {\n    super();\n\n    const corePromoters = ['guest', 'david'];\n    const isCorePromoter = corePromoters.find((name) => window.location.hostname.startsWith(`${name}.`));\n\n    this.isLocalhost = window.location.hostname == 'localhost' || window.location.hostname == '127.0.0.1';\n    this.isLAN = this.isLocalhost || window.location.hostname.startsWith('192.168.');\n    this.isZetaSeek = window.location.hostname == 'zetaseek.com';\n    this.isZetaSeekFamily = this.isZetaSeek || window.location.hostname == 'guest.zetaseek.com';\n    // || window.location.hostname == 'localhost';\n    this.isDevMachine = window.location.hostname == 'david.zetaseek.com';\n    this.nodeHasBlog = window.location.hostname == 'david.zetaseek.com';\n    this.blogName = window.location.hostname == 'david.zetaseek.com' ? 'Overthinking ðŸ’­' : '';\n\n    this.isMobile = window.screen.width < 768;\n\n    this.ssl = window.location.protocol == 'https:';\n  }\n}\n\nexport default new App();\n","\"use strict\";\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nwindow.addEventListener(\"popstate\", function (e) {\n    Url.triggerPopStateCb(e);\n});\n\nvar Url = module.exports = {\n\n    _onPopStateCbs: [],\n    _isHash: false\n\n    /**\n     * queryString\n     * Finds the value of parameter passed in first argument.\n     *\n     * @name queryString\n     * @function\n     * @param {String} name The parameter name.\n     * @param {Boolean} notDecoded If `true`, the result will be encoded.\n     * @return {String|Boolean|Undefined} The parameter value (as string),\n     * `true` if the parameter is there, but doesn't have a value, or\n     * `undefined` if it is missing.\n     */\n    , queryString: function queryString(name, notDecoded) {\n        name = name.replace(/[\\[]/, \"\\\\\\[\").replace(/[\\]]/, \"\\\\\\]\");\n\n        var regex = new RegExp(\"[\\\\?&]\" + name + \"=([^&#]*)\"),\n            results = regex.exec(location.search),\n            encoded = null;\n\n        if (results === null) {\n            regex = new RegExp(\"[\\\\?&]\" + name + \"(\\\\&([^&#]*)|$)\");\n            if (regex.test(location.search)) {\n                return true;\n            }\n            return undefined;\n        } else {\n            encoded = results[1].replace(/\\+/g, \" \");\n            if (notDecoded) {\n                return encoded;\n            }\n            return decodeURIComponent(encoded);\n        }\n    }\n\n    /**\n     * parseQuery\n     * Parses a string as querystring. Like the `queryString` method does, if\n     * the parameter is there, but it doesn't have a value, the value will\n     * be `true`.\n     *\n     * @name parseQuery\n     * @function\n     * @param {String} search An optional string that should be parsed\n     * (default: `window.location.search`).\n     * @return {Object} The parsed querystring. Note this will contain empty\n     * strings for\n     */\n    ,\n    parseQuery: function parseQuery(search) {\n        var query = {};\n\n        if (typeof search !== \"string\") {\n            search = window.location.search;\n        }\n\n        search = search.replace(/^\\?/g, \"\");\n\n        if (!search) {\n            return {};\n        }\n\n        var a = search.split(\"&\"),\n            i = 0,\n            iequ,\n            value = null;\n\n        for (; i < a.length; ++i) {\n            iequ = a[i].indexOf(\"=\");\n\n            if (iequ < 0) {\n                iequ = a[i].length;\n                value = true;\n            } else {\n                value = decodeURIComponent(a[i].slice(iequ + 1));\n            }\n\n            query[decodeURIComponent(a[i].slice(0, iequ))] = value;\n        }\n\n        return query;\n    }\n\n    /**\n     * stringify\n     * Stringifies a query object.\n     *\n     * @name stringify\n     * @function\n     * @param {Object} queryObj The object that should be stringified.\n     * @return {String} The stringified value of `queryObj` object.\n     */\n    ,\n    stringify: function stringify(queryObj) {\n\n        if (!queryObj || queryObj.constructor !== Object) {\n            throw new Error(\"Query object should be an object.\");\n        }\n\n        var stringified = \"\";\n        Object.keys(queryObj).forEach(function (c) {\n            var value = queryObj[c];\n            stringified += c;\n            if (value !== true) {\n                stringified += \"=\" + encodeURIComponent(queryObj[c]);\n            }\n            stringified += \"&\";\n        });\n\n        stringified = stringified.replace(/\\&$/g, \"\");\n        return stringified;\n    }\n\n    /**\n     * updateSearchParam\n     * Adds, updates or deletes a parameter (without page refresh).\n     *\n     * @name updateSearchParam\n     * @function\n     * @param {String|Object} param The parameter name or name-value pairs as object.\n     * @param {String|undefined} value The parameter value. If `undefined`, the parameter will be removed.\n     * @param {Boolean} push If `true`, the page will be kept in the history,\n     * otherwise the location will be changed but by pressing the back button\n     * will not bring you to the old location.\n     * @param {Boolean} triggerPopState Triggers the popstate handlers (by default falsly).\n     * @return {Url} The `Url` object.\n     */\n    ,\n    updateSearchParam: function updateSearchParam(param, value, push, triggerPopState) {\n\n        if ((typeof param === \"undefined\" ? \"undefined\" : _typeof(param)) === \"object\") {\n            for (var key in param) {\n                if (param.hasOwnProperty(key)) {\n                    this.updateSearchParam(key, param[key], push, triggerPopState);\n                }\n            }\n            return;\n        }\n\n        var searchParsed = this.parseQuery();\n\n        // Delete the parameter\n        if (value === undefined) {\n            delete searchParsed[param];\n        } else {\n            // Update or add\n            if (searchParsed[param] === value) {\n                return Url;\n            }\n            searchParsed[param] = value;\n        }\n\n        var newSearch = this.stringify(searchParsed);\n        if (newSearch) {\n            newSearch = \"?\" + newSearch;\n        }\n        this._updateAll(window.location.pathname + newSearch + location.hash, push, triggerPopState);\n\n        return Url;\n    }\n\n    /**\n     * getLocation\n     * Returns the page url, but not including the domain name.\n     *\n     * @name getLocation\n     * @function\n     * @return {String} The page url (without domain).\n     */\n    ,\n    getLocation: function getLocation() {\n        return window.location.pathname + window.location.search + window.location.hash;\n    }\n\n    /**\n     * hash\n     * Sets/gets the hash value.\n     *\n     * @name hash\n     * @function\n     * @param {String} newHash The hash to set.\n     * @param {Boolean} triggerPopState Triggers the popstate handlers (by default falsly).\n     * @return {String} The location hash.\n     */\n    ,\n    hash: function hash(newHash, triggerPopState) {\n        if (newHash === undefined) {\n            return location.hash.substring(1);\n        }\n        if (!triggerPopState) {\n            setTimeout(function () {\n                Url._isHash = false;\n            }, 0);\n            Url._isHash = true;\n        }\n        return location.hash = newHash;\n    }\n\n    /**\n     * _updateAll\n     * Update the full url (pathname, search, hash).\n     *\n     * @name _updateAll\n     * @function\n     * @param {String} s The new url to set.\n     * @param {Boolean} push If `true`, the page will be kept in the history,\n     * otherwise the location will be changed but by pressing the back button\n     * will not bring you to the old location.\n     * @param {Boolean} triggerPopState Triggers the popstate handlers (by default falsly).\n     * @return {String} The set url.\n     */\n    ,\n    _updateAll: function _updateAll(s, push, triggerPopState) {\n        window.history[push ? \"pushState\" : \"replaceState\"](null, \"\", s);\n        if (triggerPopState) {\n            Url.triggerPopStateCb({});\n        }\n        return s;\n    }\n\n    /**\n     * pathname\n     * Sets/gets the pathname.\n     *\n     * @name getLocation\n     * @function\n     * @param {String} pathname The pathname to set.\n     * @param {Boolean} push If `true`, the page will be kept in the history,\n     * otherwise the location will be changed but by pressing the back button\n     * will not bring you to the old location.\n     * @param {Boolean} triggerPopState Triggers the popstate handlers (by default falsly).\n     * @return {String} The set url.\n     */\n    ,\n    pathname: function pathname(_pathname, push, triggerPopState) {\n        if (_pathname === undefined) {\n            return location.pathname;\n        }\n        return this._updateAll(_pathname + window.location.search + window.location.hash, push, triggerPopState);\n    }\n\n    /**\n     * triggerPopStateCb\n     * Calls the popstate handlers.\n     *\n     * @name triggerPopStateCb\n     * @function\n     */\n    ,\n    triggerPopStateCb: function triggerPopStateCb(e) {\n        if (this._isHash) {\n            return;\n        }\n        this._onPopStateCbs.forEach(function (c) {\n            c(e);\n        });\n    }\n\n    /**\n     * onPopState\n     * Adds a popstate handler.\n     *\n     * @name onPopState\n     * @function\n     * @param {Function} cb The callback function.\n     */\n    ,\n    onPopState: function onPopState(cb) {\n        this._onPopStateCbs.push(cb);\n    }\n\n    /**\n     * removeHash\n     * Removes the hash from the url.\n     *\n     * @name removeHash\n     * @param {Boolean} push If `true`, the page will be kept in the history,\n     * otherwise the location will be changed but by pressing the back button\n     * will not bring you to the old location.\n     * @param {Boolean} trigger Triggers the popstate handlers (by default falsly).\n     * @function\n     */\n    ,\n    removeHash: function removeHash(push, trigger) {\n        this._updateAll(window.location.pathname + window.location.search, push || false, trigger || false);\n    }\n\n    /**\n     * removeQuery\n     * Removes the querystring parameters from the url.\n     *\n     * @name removeQuery\n     * @param {Boolean} push If `true`, the page will be kept in the history,\n     * otherwise the location will be changed but by pressing the back button\n     * will not bring you to the old location.\n     * @param {Boolean} trigger Triggers the popstate handlers (by default falsly).\n     * @function\n     */\n    ,\n    removeQuery: function removeQuery(push, trigger) {\n        this._updateAll(window.location.pathname + window.location.hash, push || false, trigger || false);\n    },\n    version: \"2.5.0\"\n};","<script>\n\n  import { getContext } from 'svelte';\n  const app = getContext('app');\n\n  export let isMobile;\n  export let searchQuery;\n  export let dmtVersion;\n\n  $: displayVersion = dmtVersion || '';\n\n</script>\n\n  <div class=\"about\">\n\n    <!-- <p> -->\n      <!-- {#if app.isLocalhost} -->\n        <div class=\"tagline\">\n          <!-- Seek the wolf in thyself! -->\n          <!-- <a href=\"https://dmt-system.com\">Help invent the future</a> -->\n          <a href=\"https://uniqpath.com\">ENGINE</a>\n        </div>\n      <!-- {/if} -->\n\n      {#if app.isCorePromoter}\n        <a href=\"https://twitter.com/zetaseek\"><img class=\"icon_symbol\" src=\"/search/img/twitter.svg\" /></a>\n      {/if}\n\n      <span class=\"version\">{displayVersion}</span>\n    <!-- </p> -->\n\n  </div>\n\n<style>\n\n.about {\n  /*width: 100px;*/\n  position: fixed;\n  right: 0;\n  bottom: 0;\n  padding: 10px 15px;\n  color: white;\n  font-size: 0.8em;\n  opacity: 0.8;\n  border-top-left-radius: 10px;\n  color: #232527;\n  background-color: #A4938B;\n  background-color: #D9EBD5;\n  /*display: none;*/\n  text-align: center;\n}\n\n/*.about.wider {\n  width: 150px;\n}*/\n\n.about.visible {\n  display: block;\n}\n\n.about p {\n  font-size: 0.9em;\n  color: #232527;\n}\n\n.about img.icon_symbol {\n  width: 20px;\n  vertical-align: middle;\n  padding-bottom: 3px;\n}\n\n.about span.dash {\n  padding: 0 2px;\n}\n\n.about span.version {\n  font-size: 0.8em;\n}\n\n.about .tagline {\n  margin-bottom: 3px;\n  font-size: 0.9em;\n}\n\na {\n  color: white;\n  color: #373D76;\n  text-decoration: underline;\n  text-underline-offset: 4px;\n}\n\na:hover {\n  color: #222;\n  text-underline-offset: 2px;\n}\n\na img:hover {\n  opacity: 0.8;\n}\n\na img.icon {\n  width: 20px;\n}\n\np.explorers {\n  font-size: 1.1em;\n}\n\np span.fish {\n  font-size: 1.5em;\n}\n\n@media only screen and (max-width: 768px) {\n  /*.about { }*/\n}\n\n</style>\n","<script>\n  import { getContext } from 'svelte';\n  const app = getContext('app');\n\n  export let ethAddress;\n  export let displayName;\n  export let isAdmin;\n</script>\n\n<style>\n  #eth_identity {\n    color: white;\n    font-size: 0.8em;\n\n    position: absolute;\n    top: 15px;\n    top: 0;\n    right: 0px;\n    /*width: 300px;*/\n    padding: 10px;\n  }\n\n  #eth_identity span {\n    color: var(--dmt-bright-cyan);\n  }\n\n  #eth_identity span.admin {\n    color: var(--dmt-bright-cyan);\n  }\n\n  #eth_identity span.deemph {\n    color: #ccc;\n    font-size: 0.8em;\n  }\n\n  #eth_identity span.anon {\n    color: #aaa;\n  }\n\n  #eth_identity span.anon span.invite {\n    color: var(--dmt-warning-pink);\n  }\n</style>\n\n<!-- <svg id=\"eth_address\"></svg> -->\n<div id=\"eth_identity\">\n  {#if displayName}\n    {displayName}\n\n    {#if isAdmin}<span class=\"admin\">(+)</span>{/if}\n    â†\n    <span>{ethAddress}</span>\n  {:else}\n    MetaMask\n    <span>{ethAddress}</span>\n\n    {#if app.isZetaSeek}<br /> <span class=\"deemph\">[ Zeta Balance: 0 ]</span>{/if}\n  {/if}\n</div>\n","<script>\n  import { getContext } from 'svelte';\n  const app = getContext('app');\n\n</script>\n\n<div class=\"metamask_missing\">\n  Install <a href=\"https://metamask.io\">MetaMask</a> extension to login.\n  <div class=\"explain\">\n    MetaMask provides the simplest yet most secure way to connect to decentralized applications. You are always in control when interacting on the new decentralized web.\n  </div>\n\n  <div class=\"explain\">\n    <span class=\"green\">\n      [ <a href=\"https://www.youtube.com/watch?v=YVgfHZMFFFQ\">Watch MetaMask explainer video</a> ]\n    </span>\n  </div>\n\n  <a href=\"https://metamask.io\"> <img src=\"/search/img/metamask.png\" alt=\"metamask\" /> </a>\n\n  {#if app.isZetaSeek}\n    <div class=\"explain\">\n      <!-- When you login with truly revolutionary MetaMask identity, you get to know more about this project as well.\n      <br><br> -->\n      <!-- <span>\n        We invite you to the path of enjoyable exploration and collaborative innovation.\n      </span>\n      <span class=\"cyan\">\n        Come explore the edges!\n      </span> -->\n    </div>\n  {/if}\n</div>\n\n<style>\n  .metamask_missing {\n    color: white;\n\n    position: absolute;\n    top: 0;\n    right: 0;\n\n    padding: 20px;\n    width: 310px;\n  }\n\n  .metamask_missing a {\n    /*color: var(--metamask-orange);*/\n    color: #99DDDD;\n    text-decoration: underline;\n  }\n\n  .metamask_missing:hover {\n    opacity: 0.9;\n  }\n\n  .explain {\n    margin-top: 10px;\n    color: #ddd;\n    font-size: 0.7em;\n  }\n\n  .explain span {\n    /*color: var(--dmt-bright-cyan);*/\n    color: var(--dmt-cool-green);\n  }\n\n  .explain span.cyan {\n    /*color: var(--dmt-bright-cyan);*/\n    /*color: var(--dmt-cool-cyan);*/\n    font-style: italic;\n  }\n\n  .explain span.green {\n    /*color: var(--dmt-bright-cyan);*/\n    /*color: var(--dmt-cool-cyan);*/\n    color: var(--dmt-vibrant-green);\n  }\n\n  .metamask_missing img {\n    width: 200px;\n  }\n\n  @media (max-width: 812px) {\n    .metamask_missing {\n      display: none;\n    }\n  }\n</style>\n\n\n\n","<script>\n  import { getContext } from 'svelte';\n  const app = getContext('app');\n\n  import DisplayLoggedInInfo from './DisplayLoggedInInfo.svelte';\n  import DisplayMetamaskInvite from './DisplayMetamaskInvite.svelte';\n\n  export let metamaskConnect;\n  export let ethAddress;\n  export let displayName;\n  export let isAdmin;\n\n  function login() {\n    metamaskConnect().catch(e => {\n      console.log(\"Metamask not connected (yet):\");\n      console.log(e);\n    });\n  }\n\n</script>\n\n{#if ethAddress}\n  <DisplayLoggedInInfo {ethAddress} {displayName} {isAdmin} {metamaskConnect} />\n  <!-- <svg id=\"eth_address\"></svg> -->\n{:else}\n  {#if metamaskConnect}\n    <div class=\"login\" on:click|preventDefault={() => { login(); }}>\n      <a href=\"#\">\n        <img src=\"/search/img/metamask.png\" on:click|preventDefault={() => { login(); }} alt=\"metamask \" />\n      </a>\n      <br>\n      <!-- <b>THIS NODE ADMIN</b> -->\n      <b>CONNECT</b>\n      <!-- {#if app.isZetaSeek}\n        <div class=\"explain\">\n          <span>\n            We invite you to the path of enjoyable exploration and collaborative innovation.\n          </span>\n        </div>\n      {/if} -->\n    </div>\n  {:else}\n    <DisplayMetamaskInvite />\n  {/if}\n{/if}\n\n<style>\n  .login {\n    position: absolute;\n    /*top: 15px;*/\n    top: 0;\n    right: 0px;\n\n    color: white;\n\n    cursor: pointer;\n  }\n\n  .login img {\n    width: 120px;\n    padding: 10px 30px;\n  }\n\n  .login .explain {\n    width: 230px;\n    padding: 0 10px;\n  }\n\n  .explain {\n    margin-top: 10px;\n    color: #ddd;\n    font-size: 0.7em;\n  }\n\n  .explain span {\n    /*color: var(--dmt-bright-cyan);*/\n    color: var(--dmt-cool-green);\n  }\n\n  .login:hover {\n    opacity: 0.9;\n    cursor: pointer;\n  }\n\n  @media (max-width: 812px) {\n    .login {\n      display: none;\n    }\n  }\n</style>\n\n\n\n","<script>\n  import { getContext } from 'svelte';\n\n  export let backend;\n\n  const app = getContext('app');\n\n  $: device = $backend.device;\n  $: dmtVersion = device ? device.dmtVersion : null;\n\n  const { connected } = backend;\n  $: peerlist = $backend.peerlist;\n</script>\n\n<div class=\"peerlist\">\n\n  {#if $connected}\n    {#if peerlist && peerlist.length > 0}\n      <span class=\"title\">â€” Following Peers â€”</span>\n    {:else}\n      <span class=\"title\">Peers â†’ <span class=\"white\">Not following anyone yet.</span></span>\n    {/if}\n\n    {#if peerlist}\n      {#each peerlist as { deviceTag, operational, versionCompareSymbol, peerState }}\n        <div class=\"peer\" class:operational={operational == true}>\n          <span class=\"ok\">ok</span>\n          <span class=\"cross\">âœ–</span>\n          {deviceTag}\n          {#if peerState}\n            {#if peerState.dmtVersion}\n              <span class=\"dmt_version\">\n                {#if versionCompareSymbol}\n                  <span class=\"compare\">{versionCompareSymbol}</span>\n                {/if}\n                {peerState.dmtVersion}\n              </span>\n            {/if}\n          {/if}\n        </div>\n      {/each}\n    {/if}\n  {/if}\n\n</div>\n\n<style>\n\n.peerlist {\n  padding: 10px;\n  color: #777;\n}\n\n.peerlist .title {\n  color: var(--zeta-green);\n  color: var(--dmt-bright-cyan);\n}\n\n/*.peerlist .title.has_peers {\n  padding-left: 30px;\n}*/\n\nspan.white {\n  color: white;\n}\n\n.peer.operational {\n  color: white;\n}\n\n.ok, .cross {\n  width: 20px;\n  text-align: center;\n  display: inline-block;\n}\n\n.ok {\n  /**/\n  display: none;\n  /*color: #78DF79;*/\n  color: var(--dmt-cool-green);\n}\n\n.cross {\n  color: #E03434;\n}\n\n.peer.operational .ok {\n  display: inline-block;\n}\n\n.peer.operational .cross {\n  display: none;\n}\n\n.peer .dmt_version {\n  font-size: 0.6em;\n  color: #888;\n}\n\n.peer .dmt_version .compare {\n  color: var(--dmt-bright-cyan);\n}\n\n.peer .dmt_version.strong {\n  color: var(--dmt-bright-cyan);\n}\n\n</style>\n","<script>\n  import { getContext } from 'svelte';\n  const app = getContext('app');\n\n  export let loggedIn;\n  export let isAdmin;\n\n  export let backend;\n\n  import PeerList from './PeerList.svelte';\n\n</script>\n\n<div class=\"leftbar\">\n\n  <PeerList {backend} />\n\n</div>\n\n<style>\n  .leftbar {\n    position: absolute;\n    top: 0px;\n    left: 0px;\n\n    color: white;\n  }\n\n  /*.more_inside {\n    margin-left: 30px;\n  }*/\n\n  :global(.leftbar a) {\n    color: #333;\n    text-decoration: underline;\n    text-decoration-style: dotted;\n  }\n\n  :global(.leftbar a:hover) {\n    color: #111;\n    text-decoration-style: solid;\n  }\n\n  :global(.leftbar span.date) {\n    color: var(--dmt-violet-dark);\n    font-size: 0.9em;\n  }\n\n  @media (max-width: 1150px) {\n    .leftbar {\n      display: none;\n    }\n  }\n</style>\n\n\n\n","import { writable, derived } from 'svelte/store';\n\n//export const searchMode = writable(localStorage.getItem('searchMode') ? parseInt(localStorage.getItem('searchMode')) : 0);\nexport const searchMode = writable(0);\nexport const searchResponse = writable({});\n","<script>\n  export let size = 25;\n  export let speed = 750;\n  export let color = 'rgba(0,0,0,0.4)';\n  export let thickness = 2;\n  export let gap = 40;\n  export let radius = 10;\n\n  let dash;\n  $: dash = 2 * Math.PI * radius * (100 - gap) / 100\n</script>\n\n<svg\n  height=\"{size}\"\n  width=\"{size}\"\n  style=\"animation-duration:{speed}ms;\"\n  class=\"svelte-spinner\"\n  viewbox=\"0 0 32 32\"\n>\n  <circle\n    role=\"presentation\"\n    cx=\"16\"\n    cy=\"16\"\n    r=\"{radius}\"\n    stroke=\"{color}\"\n    fill=\"none\"\n    stroke-width=\"{thickness}\"\n    stroke-dasharray=\"{dash},100\"\n    stroke-linecap=\"round\"\n  />\n</svg>\n\n<style>\n  .svelte-spinner {\n    transition-property: transform;\n    animation-name: svelte-spinner_infinite-spin;\n    animation-iteration-count: infinite;\n    animation-timing-function: linear;\n  }\n  @keyframes svelte-spinner_infinite-spin {\n    from { transform: rotate(0deg); }\n    to { transform: rotate(360deg); }\n  }\n</style>\n","<script>\n  import { getContext } from 'svelte';\n  const app = getContext('app');\n\n  import { readable } from 'svelte/store';\n\n  import { searchMode } from '../testStore.js'\n\n  import Spinner from 'svelte-spinner';\n\n  export let connected;\n  export let deviceName;\n  export let isSearching;\n  export let device;\n\n  function displayDeviceName(deviceName) {\n    return deviceName && app.isLAN ? `@${deviceName}` : `@${window.location.hostname}`;\n  }\n\n</script>\n\n<p class=\"connection_status\" class:ok={$connected}>\n  {#if $connected}\n      <!-- maybe replace with serverMode check? -->\n      <span class=\"device_status\">\n        {app.isLAN ? 'local node' : ''}\n        <span class=\"device_name\"> {displayDeviceName(deviceName)}</span> ready\n      </span>\n\n      <div class=\"spinner_or_mark\">\n        {#if isSearching}\n          <span class=\"spinner\"><Spinner size=\"16\" speed=\"400\" color=\"#fff\" thickness=\"3\" gap=\"40\"/></span>\n        {:else}\n          <img class=\"mark\" src=\"/search/img/redesign/zetaseek_icon-OK.svg\" />\n        {/if}\n      </div>\n\n  {:else}\n      <span class=\"device_status\">\n        <span class=\"device_name\">{displayDeviceName(deviceName)}</span> reconnecting\n      </span>\n\n      <span class=\"spinner\">\n        <Spinner size=\"16\" speed=\"2000\" color=\"#EFCAF8\" thickness=\"3\" gap=\"25\"/>\n      </span>\n  {/if}\n</p>\n\n<style>\n  p.connection_status {\n    color: var(--dmt-warning-pink);\n  }\n\n  p.connection_status.ok {\n    color: #fff;\n  }\n\n  span.device_status {\n    display: inline-block;\n    vertical-align: middle;\n  }\n\n  span.device_name {\n    color: var(--dmt-bright-cyan);\n  }\n\n  .spinner_or_mark {\n    display: inline-block;\n    vertical-align: middle;\n  }\n\n  img.mark {\n    width: 15px;\n    display: inline-block;\n    vertical-align: middle;\n  }\n\n  span.spinner {\n    padding-top: 5px; /* not sure why spinner was not centered! this fixes it ... */\n    display: inline-block;\n    vertical-align: middle;\n  }\n</style>\n","<script>\n  export let connected;\n  export let loggedIn;\n  export let displayName;\n\n  import ZetaExplorersInvite from './ZetaExplorersInvite.svelte';\n\n  import { getContext } from 'svelte';\n  const app = getContext('app');\n</script>\n\n  {#if false && app.isZetaSeek}\n    <div class=\"tagline\">\n      {#if $connected}\n        <!-- A small step forward <a href=\"https://dmt-system.com\">each friday</a>, big leap each year. -->\n        <!-- <a href=\"https://dmt-system.com\">Zeta Open Hours</a>  -->\n        It's early!\n        Â· <a on:click|preventDefault={() => app.emit('browse_place', '2f686f6d652f7a6574612f46696c65732f444d542d53595354454d2f50726573656e746174696f6e73' )} href=\"#\">DMT ENGINE</a> Â·\n        <a on:click|preventDefault={() => app.emit('node_search', 'post social media' )} href=\"#\"> Post-Social Media</a>\n\n      {/if}\n    </div>\n  {/if}\n\n<style>\n\n.tagline {\n  color: var(--zeta-green);\n  font-size: 0.8em;\n  display: inline-block;\n  vertical-align: middle;\n  padding: 2px 0 5px 0;\n}\n\n.tagline a {\n  color: var(--dmt-bright-cyan);\n  text-decoration: underline;\n}\n\n.tagline a:hover {\n  color: var(--dmt-cyan);\n}\n\n.tagline span {\n  color: var(--dmt-cyan);\n  color: white;\n}\n\n\n</style>\n","<script>\n  import { getContext, createEventDispatcher } from 'svelte';\n  const app = getContext('app');\n\n  export let backend;\n\n  $: peerlist = $backend.peerlist;\n  $: operationalPeersCount = peerlist ? peerlist.filter(({ operational }) => operational).length : 0;\n\n  import { searchMode } from '../testStore.js'\n\n  import SearchModeDiagram from './SearchModeDiagram.svelte';\n\n  export let searchQuery;\n  //export let store;\n\n  const dispatch = createEventDispatcher();\n\n  //$: searchMode = $store.searchMode;\n\n  function setSearchMode(mode) {\n    searchMode.set(mode);\n    //store.set({ searchMode }) // DIDN'T WORK! too slow, reactive argument was not updated in time and triggerSearch function in App.svelte read the old searchMode\n    // used readable store instead\n    localStorage.setItem('searchMode', mode);\n    //updateBrowserQuery();\n    dispatch('searchModeChanged');\n  }\n</script>\n\n<div class=\"search_mode\">\n  {#if $searchMode == 0}\n    <span class=\"team_search\" on:click={() => setSearchMode(0)} class:active={$searchMode == 0}>\n      <!-- {#if $searchMode == 0}â†‘{/if} -->\n      â†‘ <b>Search {operationalPeersCount+1} {operationalPeersCount + 1 == 1 ? 'peer' : 'peers'}</b>\n    </span> Â·\n    <!-- <span class=\"connectome_search\" on:click={() => setSearchMode(1)} class:active={$searchMode == 1}>My Connectome</span> -->\n    <span class=\"this_node_search\" on:click={() => setSearchMode(1)} class:active={$searchMode == 1}>\n      {#if $searchMode == 1}â†‘{/if}\n      Search only this peer\n    </span>\n  {:else}\n    <span class=\"this_node_search\" on:click={() => setSearchMode(1)} class:active={$searchMode == 1}>\n      <!-- {#if $searchMode == 1}â†‘{/if} -->\n      â†‘ <b>Search only this peer</b>\n    </span> Â·\n    <!-- <span class=\"connectome_search\" on:click={() => setSearchMode(1)} class:active={$searchMode == 1}>My Connectome</span> -->\n    <span class=\"team_search\" on:click={() => setSearchMode(0)} class:active={$searchMode == 0}>\n      {#if $searchMode == 0}â†‘{/if}\n      Search {operationalPeersCount + 1} {operationalPeersCount + 1 == 1 ? 'peer' : 'peers'}\n    </span>\n  {/if}\n\n  <!-- {#if !searchQuery}\n    <div class=\"explain\" class:public_mode={$searchMode == 0} class:this_node={$searchMode == 1}>\n\n      {#if $searchMode == 0}\n        ðŸ’¡ All network peers will receive the search query.\n      {:else}\n        ðŸ¦‰ Search query is not transmitted to other peers.\n      {/if}\n    </div>\n\n  {/if} -->\n\n</div>\n\n<!-- {#if !searchQuery}\n  <SearchModeDiagram />\n{/if} -->\n\n<style>\n\n/*search_mode*/\n\n.search_mode {\n  /*margin-top: 20px;*/\n  padding-top: 20px;\n  width: var(--search-input-width);\n  margin: 0 auto;\n  font-size: 0.9em;\n}\n\n.search_mode span {\n  padding: 2px 5px;\n  border-radius: 5px;\n\n  user-select: none; /* supported by Chrome and Opera */\n  -webkit-user-select: none; /* Safari */\n  -khtml-user-select: none; /* Konqueror HTML */\n  -moz-user-select: none; /* Firefox */\n  -ms-user-select: none; /* Internet Explorer/Edge */\n}\n\n.search_mode span:hover {\n  cursor: default;\n}\n\n/*team_search, this_node_search*/\n\n.search_mode .team_search:not(.active), .search_mode .this_node_search:not(.active) {\n  text-decoration: underline;\n}\n\n/*.search_mode .team_search.active, .search_mode .this_node_search.active {\n  cursor: default;\n}*/\n\n.search_mode .team_search:hover:not(.active) {\n  color: var(--zeta-green);\n  cursor: pointer;\n  text-decoration: underline;\n }\n\n.search_mode .this_node_search:hover:not(.active) {\n  /*color: var(--dmt-cyan);*/\n  /*color: var(--dmt-navy);*/\n  color: var(--dmt-cyan);\n  color: #BCCCCB;\n  cursor: pointer;\n  text-decoration: underline;\n }\n\n/*public*/\n\n.search_mode .team_search:hover, .search_mode .team_search.active {\n  color: var(--zeta-green);\n  /*background-color: var(--zeta-green);\n  color: #333;*/\n}\n\n/*this_node_search*/\n\n.search_mode .this_node_search:hover, .search_mode .this_node_search.active {\n  /*color: var(--dmt-navy);*/\n  color: var(--dmt-cyan);\n  color: #BCCCCB;\n  /*background-color: var(--dmt-navy);*/\n}\n\n.search_mode .explain {\n  margin-top: 15px;\n  color: #ECF0F3;\n  font-size: 0.8em;\n}\n\n.search_mode .explain span {\n  font-size: 0.8em;\n}\n\n/*explain*/\n\n.search_mode .explain.public_mode {\n  color: var(--zeta-green);\n}\n\n.search_mode .explain.this_node {\n  color: var(--dmt-bright-cyan);\n  /*color: var(--dmt-navy);*/\n}\n\n@media only screen and (max-width: 768px) {\n  .search_mode .show_diagram, .search_mode .diagram {\n    display: none;\n  }\n}\n\n</style>\n","<script>\n\n  function mediaTypeIcon(mediaType) {\n    switch (mediaType) {\n      case 'music':\n        return 'â™¬';\n\n      default:\n        return '';\n    }\n  }\n\n  export let tag;\n</script>\n\n<span class=\"tag {tag.toLowerCase()}Tag\">\n\n  {#if mediaTypeIcon(tag)}\n    {mediaTypeIcon(tag)}\n  {:else}\n    {tag.toUpperCase()}\n  {/if}\n\n</span>\n\n<style>\n.tag {\n  background-color: #ddd;\n  border-radius: 2px;\n  color: #555;\n  /*padding: 2px 1px 1px 2px;*/\n  padding: 1px 3px;\n  font-size: 0.8em;\n  /*margin-right: 1px;*/\n  display: inline-block;\n  text-align: center;\n}\n\n/* (some) resultTypes ==> */\n\n.ensTag {\n  background-color: #5284FF;\n  color: white;\n}\n\n/* mediaTypes ==> */\n\n.videoTag {\n  color: white;\n  background-color: #7A3D12;\n  color: #333;\n  background-color: #FFD878;\n}\n\n.musicTag {\n  color: white;\n  color: #333;\n  /*background-color: #44BAA8;*/\n  background-color: var(--zeta-green);\n}\n\n.imageTag {\n  color: white;\n  background-color: #C76479;\n}\n\n.pdfTag {\n  color: white;\n  background-color: #575DC9;\n}\n\n.txtTag {\n  color: #CCC;\n  background-color: #444;\n}\n\n.noteTag {\n  color: white;\n  background-color: #679536;\n}\n\n</style>\n","<script>\n  export let tag;\n</script>\n\n<span class=\"tag {tag.replace('-', '').toLowerCase()}Tag\">\n\n  {tag.toUpperCase()}\n\n</span>\n\n<style>\n.tag {\n  background-color: #ddd;\n  border-radius: 2px;\n  color: #555;\n  padding: 2px 4px 1px 2px;\n\n  font-style: italic;\n  font-size: 0.7em;\n}\n\n/* url tags */\n\n.githubTag {\n  color: white;\n  background-color: #353F92;\n}\n\n.youtubeTag {\n  color: white;\n  background-color: #942620;\n}\n\n.wikipediaTag {\n  color: #363335;\n  background-color: #C0C1C3;\n}\n\n.mediumTag {\n  color: white;\n  background-color: #000;\n}\n\n.redditTag {\n  color: white;\n  background-color: #E13715;\n}\n\n.hackmdTag {\n  color: white;\n  background-color: #333;\n}\n\n.twitterTag {\n  color: white;\n  background-color: #2AA3EF;\n}\n\n.discordTag {\n  color: white;\n  background-color: #657BC3;\n}\n\n.etherscanTag {\n  color: white;\n  background-color: #22335A;\n}\n\n.substackTag {\n  color: white;\n  background-color: #FD682B;\n}\n\n.coingeckoTag {\n  color: #333;\n  background-color: #8FC550;\n}\n\n/*.mediaTypeIcon {\n  opacity: 0.7;\n  color: white;\n}*/\n</style>\n","<script>\n  import ResultTag from './ResultTag.svelte';\n  import ResultLinkTag from './ResultLinkTag.svelte';\n\n  export let mediaType = undefined;\n  export let resultType = undefined; // Prevent <ResultTags> was created without expected prop 'resultType'\n  export let entryType = undefined; // further description: https://stackoverflow.com/questions/58571604/componentname-was-created-without-expected-prop-segment\n  export let linkTag = undefined;\n</script>\n\n{#if mediaType}\n\n  {#if mediaType == 'photo'}\n    <ResultTag tag=\"image\" />\n  {:else}\n    <ResultTag tag={mediaType} />\n  {/if}\n\n{/if}\n\n{#if resultType}\n  <ResultTag tag={resultType} />\n{/if}\n\n{#if linkTag}\n  <ResultLinkTag tag={linkTag} />\n{/if}\n\n<!-- note results -->\n\n<!-- {#if resultType == 'note'}\n  <ResultTag tag=\"note\" />\n{/if}\n -->\n","<script>\n  import ResultTags from '../ResultTags/ResultTags.svelte';\n\n  export let backend;\n  export let loginStore;\n\n  export let url;\n  export let title;\n  export let context;\n  export let linkNote;\n  export let score;\n  export let linkTags;\n  export let hiddenContext;\n  export let githubReference;\n\n  $: ethAddress = $loginStore.ethAddress; // also present in $backend but we use it from frontEnd because it's more immediate -> it will work even if backend is currently disonnected\n  $: userIdentity = $loginStore.userIdentity;\n  $: userName = $loginStore.userName;\n  // duplicate\n  $: displayName = userName || userIdentity;\n\n  let scoreInfoVisible;\n\n  function trackClick({ url }) {\n    const { host } = window.location;\n\n    const clickMetadata = { userIdentity, displayName, ethAddress, host };\n\n    try {\n      const remoteObject = backend.remoteObject('GUISearchObject');\n      remoteObject.call('trackClick', { url, clickMetadata });\n    } catch(e) {\n      console.log(e);\n    }\n\n    window.location = url;\n\n    // setTimeout(() => {\n    //   window.location = url;\n    // }, 2000);\n  }\n\n  function toggleScoreInfo() {\n    scoreInfoVisible = !scoreInfoVisible;\n  }\n\n  function visit(url) {\n    trackClick({ url });\n    window.location.href = url;\n  }\n</script>\n\n<!-- target=\"_blank\" -->\n\n<div class=\"entry\" on:click={() => visit(url)}>\n\n  {#if linkTags}\n    {#each linkTags as tag}\n      <!-- for now only \"github\" and \"youtube\", see scoreEntry.js in backend -->\n      <ResultTags linkTag={tag} />\n    {/each}\n  {/if}\n\n  <span class=\"title\">{title || ''}\n  <!-- <b>{title || '[ no title ]'}</b> -->\n\n  {#if context && !context.startsWith(title)}\n    <span class=\"dot\">Â·</span> <b><span class=\"context\">{context}</span></b>\n  {/if}\n\n  <!-- <br> -->\n\n  <a class=\"website\" href=\"{url}\" on:click|preventDefault={() => trackClick({ url })}>\n    <span class=\"url\">{url.replace(/^https?:\\/\\//, '').replace(/\\/$/, '')}</span>\n  </a>\n\n  {#if linkNote}\n    <div class=\"link_note\">\n      <!-- {linkNote} -->\n      {@html linkNote.replace('\\n', '<br>')}\n\n    </div>\n  {/if}\n\n  <!-- <span class=\"dot\">Â·</span>\n\n  <a href=\"#\" class=\"toggle_score_info\" on:click|preventDefault={() => toggleScoreInfo()}>[ Internals ]</a>\n  <div class=\"score_info\" class:visible={scoreInfoVisible}>\n    Link Score: {score}\n    |\n    Title: {title}\n    |\n    Context: {context}\n    |\n    Hidden context: {hiddenContext}\n    |\n    <a href=\"{githubReference}\">GH_ref</a>\n  </div> -->\n\n</div>\n\n\n<style>\n  a {\n    text-decoration: underline;\n    text-decoration-style: dotted;\n  }\n\n  .score_info {\n    display: none;\n  }\n\n  .score_info.visible {\n    display: block;\n    margin: 5px 0;\n  }\n\n  /*:global(.result) {\n    padding: 10px 0;\n  }*/\n\n  .entry {\n    display: inline-block;\n    padding: 2px 4px;\n    border-radius: 5px;\n  }\n\n  .entry:hover {\n    cursor: pointer;\n    background-color: #444;\n    /*background-color: #544E63;*/\n  }\n\n  .entry:hover a {\n    text-decoration: underline;\n  }\n\n  /*.entry:not(:last-child) {\n    margin-bottom: 7px;\n  }*/\n\n  a.toggle_score_info, .score_info {\n    color: #DDD;\n    font-size: 0.8em;\n  }\n\n  a.website {\n    /*color: var(--dmt-bright-cyan);*/\n    color: white;\n  }\n\n  /*a.website:nth-child(odd) {\n    background-color: red;\n  }*/\n\n  a.website .url {\n    /*color: white;*/\n\n    /*color: var(--zeta-green);*/\n    color: #bbb;\n    color: #C4C6C2;\n    color: #76C98F;\n    /*color: var(--dmt-warning-pink);*/\n  }\n\n  .url {\n    font-size: 0.9em;\n  }\n\n  /*span.pretty_time {\n    color: #DFB1D9;\n  }*/\n\n  span.dot {\n    color: white;\n  }\n\n  span.title {\n    color: var(--dmt-bright-cyan);\n  }\n\n  span.context {\n    color: #aaa;\n  }\n\n  .link_note {\n    padding-top: 3px;\n    font-size: 0.9em;\n    color: #ddd;\n    width: 500px;\n    text-align: center;\n  }\n\n  @media only screen and (max-width: 768px) {\n    .link_note {\n      font-size: 0.8em;\n      width: auto;\n    }\n  }\n</style>\n","<script>\n  import { getContext } from 'svelte';\n  const app = getContext('app');\n\n  export let mediaType;\n  export let playableUrl;\n  export let hasPlayer;\n\n  function play(playableUrl) {\n    app.emit('play', { playableUrl });\n  }\n</script>\n\n<!-- {#if app.isLocalhost && mediaType == 'music'} -->\n{#if hasPlayer && mediaType == 'music'}\n  <button on:click={() => { play(playableUrl); }}>PLAY</button>\n{/if}\n\n<style>\n  button {\n    border: 0;\n    cursor: pointer;\n    padding: 0 2px;\n    /*font-size: 0.8em;*/\n    margin: 0;\n  }\n\n  button:hover {\n    /*background-color: #7476FF;*/\n    background-color: #B54195;\n  }\n</style>\n","<script>\n  import { getContext } from 'svelte';\n  const app = getContext('app');\n\n  const { dmtJS } = app.deps;\n\n  const { ansicolor } = dmtJS;\n\n  import ResultTags from '../ResultTags/ResultTags.svelte';\n  import PlayMedia from '../PlayMedia.svelte';\n\n  // use: https://www.rgbtohex.net/hextorgb/\n  // ansicolor.rgb = {\n  //   black: [0, 0, 0],\n  //   // darkGray: [180, 180, 180],\n  //   darkGray: [160, 160, 160],\n  //   //cyan: [255, 255, 255]\n  //   // cyan:         [37, 176, 188],\n  //   cyan:         [49, 229, 193],\n  //   lightCyan:    [0, 204, 255]\n  //   //lightCyan:    [49, 229, 193]\n  // };\n\n  export let fileName;\n  export let directory;\n  export let directoryHandle; // for now because we're on localhost and we omit device key from place specifier!\n  export let place;\n  export let prevDirectory;\n\n  export let playableUrl;\n  //export let filePathANSI;\n  export let mediaType;\n  export let fileSizePretty;\n  export let fileUpdatedAtRelativePretty;\n  export let fileNote;\n  export let hasPlayer;\n\n  export let localResult; // remove when browsePlace is implemented for more than just localhost!\n\n  function browsePlace(place) {\n    app.emit('browse_place', place);\n  }\n\n</script>\n\n<div class=\"wrapper\">\n\n  {#if directory != prevDirectory} <!-- MEGACOOL! :) -->\n    <div class=\"directory\">\n      <span class=\"icon\">ðŸ“</span>\n\n      <!-- IMPROVE... what about other arguments? we don't need any actually ...  mode etc. ?? -->\n      <!-- todo: send place here! in case we want to browse other providers! -->\n      {#if localResult}\n        <a href={`/?place=${directoryHandle}`} on:click|preventDefault={() => browsePlace(directoryHandle)}>\n          {directory}\n        </a>\n      {:else}\n        {directory}\n      {/if}\n\n    </div>\n  {/if}\n\n  <div class=\"entry\">\n\n    <ResultTags {mediaType}  />\n\n    <a href=\"{playableUrl}\">\n      {fileName}\n    </a>\n\n    <PlayMedia {playableUrl} {mediaType} {hasPlayer} />\n\n    {#if fileSizePretty}\n      <span class=\"file_size\">{fileSizePretty}</span>\n    {/if}\n\n    {#if fileUpdatedAtRelativePretty}\n      <span class=\"file_updated_at\">â±ï¸ <span>{fileUpdatedAtRelativePretty}</span></span>\n    {/if}\n\n    {#if fileNote}\n      â†’\n    {/if}\n\n    {#if fileNote}\n      <div class=\"file_note\"><a href=\"{playableUrl}\">{fileNote}</a></div>\n    {/if}\n\n  </div>\n\n</div>\n\n<style>\n  span {\n    color: #EEE;\n  }\n\n  span.file_size {\n    color: #DFB1D9;\n  }\n\n  span.file_updated_at {\n    color: #eee;\n    font-size: 0.9em;\n  }\n\n  span.file_updated_at span {\n    color: #A4ACE0;\n  }\n\n  .wrapper {\n    display: inline-block;\n  }\n\n  .directory {\n    padding: 0px 2px 2px 2px;\n\n    color: #222;\n    background-color: var(--zeta-green);\n    background-color: #DC8FEF;\n    background-color: #3B9496;\n\n    margin-top: 10px;\n    margin-bottom: 10px;\n\n    border-radius: 4px;\n\n    display: inline-block;\n  }\n\n  .directory .icon {\n    /*display: inline-block;*/\n    /*vertical-align: middle;*/\n    /*padding-top: 2px;*/\n    /*float: left;*/\n  }\n\n  .directory:hover {\n    opacity: 0.8;\n  }\n\n  .directory a {\n    color: #eee;\n  }\n\n  .entry {\n    border-radius: 5px;\n    padding: 0px 4px;\n  }\n\n  .entry:hover {\n    /* DUPLICATE*/\n    background-color: #444; /* same as for links defined in SearchResults.svelte */\n  }\n\n  .file_note {\n    width: 500px;\n    margin: 0 auto;\n    color: #C4D9DC;\n    text-align: justify;\n    font-size: 0.9em;\n    margin-bottom: 7px;\n    padding-top: 3px;\n    padding-bottom: 5px;\n    border-bottom: 1px dotted #C4D9DC;\n  }\n\n  .file_note a {\n    text-decoration: none;\n  }\n\n  @media only screen and (max-width: 768px) {\n    .file_note {\n      font-size: 0.7em;\n      width: 100%;\n      padding-left: 5px;\n      padding-right: 5px;\n    }\n  }\n</style>\n","<script>\n  import ResultTags from '../ResultTags/ResultTags.svelte';\n\n  export let noteUrl;\n  export let notePreview;\n  export let noteTags;\n</script>\n\n<ResultTags resultType=\"note\" />\n\n<a href=\"{noteUrl}\">\n  {notePreview} <span class=\"note_tags\">[{noteTags}]</span>\n</a>\n\n<style>\n  .note_tags {\n    color: #679536;\n  }\n</style>\n","<script>\n  import { getContext } from 'svelte';\n  const app = getContext('app');\n\n  export let noSearchHits;\n  export let searchMode;\n</script>\n\n<div class=\"no_results\" class:visible={noSearchHits}>\n  â€” NO RESULTS â€”\n\n  {#if $searchMode == 1}\n    <br>\n    <br>\n    Perhaps try Peer Search as well.\n  {/if}\n\n  {#if app.isZetaSeek}\n\n    {#if $searchMode != 1}\n      <br>\n      <br>\n      <img class=\"symbol\" src=\"/search/img/freezing-face.png\" alt=\"rocket\">\n      <br><br>\n      <span>OH MY, WHAT TO SAY? Perhaps try coming back soon.</span>\n      <br><br>\n      1) More entries will be present\n      <br><br>\n      2) You can also <a href=\"https://github.com/uniqpath/dmt\">create your own search node</a> in Zeta decentralized search engine.\n      <!-- At least 6,219,111 more entries will be present by then.\n      <br><br>\n      <span>And these will be <b>Great Entries</b>.</span>\n      <br>\n      <img class=\"divider\" src=\"/search/img/connectome_divider.png\" alt=\"rocket\">\n      <br>\n      <span>Perhaps you can <i>like</i> some of them in a proper decentralized way too. Why not, it'll be Fun.</span>\n      <br><br>\n      <span>It's a way to show fellow humans what you appreciate the most in this World. You are fully in control of this datastream.</span>\n      <br><br>\n      What can you do until then? <span>It is obvious:</span> Install and learn the basics of <a href=\"https://metamask.io\">METAMASK</a> pseudo-identity solution. <span>This will come really handy.</span>\n      <br><br>\n      <span>[ You can ignore the entire blockchain part for now. Zero tokens works just fine. ]</span> -->\n\n    {/if}\n  {/if}\n\n\n</div>\n\n<style>\n  .no_results {\n    display: none;\n    padding-top: 20px;\n    color: var(--dmt-warning-pink);\n  }\n\n  .no_results img.symbol {\n    width: 100px;\n  }\n\n  .no_results img.divider {\n    width: 200px;\n    margin: 30px 0;\n  }\n\n  .no_results a {\n    color: white;\n    text-decoration: underline;\n  }\n\n  .no_results a:hover {\n    opacity: 0.8;\n  }\n\n  .no_results span {\n    font-size: 0.8em;\n    color: #ddd;\n  }\n\n  .no_results.visible {\n    display: block;\n  }\n</style>\n","<script>\n  export let meta;\n</script>\n\n<div class=\"provider_host\" class:this={meta.thisMachine}>\n  <!-- {JSON.stringify(meta)} -->\n  <span class=\"info\">\n    Results from\n    <!-- {meta.providerAddress == \"localhost\" ? \"\" : \"p2p node\"} -->\n  </span>\n  <!-- for now localhost device does not provide providerTag (not injected in Zeaseek backend search) -->\n  <span class=\"host\">@{meta.providerTag}</span>\n  <span class=\"contentId\">\n    {#if meta.contentId}\n      /{meta.contentId}\n    {/if}\n  </span>\n\n  {#if !meta.contentId}\n    <span class=\"file_system_tag\">[ File System ]</span>\n  {/if}\n\n  <!-- {#if !providerResponse.error}\n    <span class=\"searchTime\">fs <span class=\"value\">{providerResponse.meta.searchTimePretty}</span>\n      {#if providerResponse.meta.networkTimePretty}\n        Â· network <span class=\"value\">{providerResponse.meta.networkTimePretty}</span>\n      {/if}\n    </span>\n  {/if} -->\n\n</div>\n\n<style>\n  .provider_host {\n    padding: 5px 20px;\n    font-size: 1.2em;\n    /*color: white;*/\n\n    margin-top: 20px;\n    margin-bottom: 10px;\n\n    border-radius: 5px;\n\n    /*border: 1px solid var(--zeta-green);*/\n    background-color: #2EE5C1;\n    display: inline-block;\n\n    color: #444;\n  }\n\n  .provider_host.this {\n    background-color: #BCCCCB;\n  }\n\n  .file_system_tag {\n    font-size: 0.7em;\n  }\n\n  .info {\n    /*color: var(--dmt-cool-cyan);*/\n    font-size: 0.9em;\n  }\n\n  .host {\n    /*color: var(--dmt-bright-cyan);*/\n    color: #222;\n  }\n\n  .provider_host.this .host {\n    /*color: var(--dmt-cool-green);*/\n  }\n\n  .contentId {\n    /*color: #DDD;\n    color: var(--dmt-cool-cyan);*/\n    color: #444;\n  }\n\n  .provider_host.this .contentId {\n\n  }\n</style>\n","<script>\n  import { getContext } from 'svelte';\n  const app = getContext('app');\n\n  const { dmtJS } = app.deps;\n\n  const { colorsHTML: colors } = dmtJS;\n\n  export let providerResponse;\n\n  function displayResultsMeta(providerResponse) {\n    if (providerResponse.error) {\n      return colors.red(`âš ï¸  Error: ${providerResponse.error}`);\n    }\n\n    const { meta } = providerResponse;\n    const { page, noMorePages, resultCount, resultsFrom, resultsTo, searchTimePretty, networkTimePretty } = meta;\n\n    let time = '';\n\n    if (searchTimePretty) {\n      time += colors.gray(` Â· ${colors.gray('fs')} ${colors.white(searchTimePretty)}`);\n    }\n\n    if (networkTimePretty) {\n      time += colors.gray(` Â· ${colors.gray('network')} ${colors.white(networkTimePretty)}`);\n    }\n\n    if (resultCount > 0) {\n      if (page == 1 && noMorePages) {\n        return colors.white(`${resultCount} ${resultCount == 1 ? 'result' : 'results'}${time}`);\n      }\n\n      const isLastPage = noMorePages ? colors.white(' (last page)') : '';\n      const resultsDescription = `${colors.white(`Results ${resultsFrom} to ${resultsTo}`)}`;\n      return colors.gray(`${colors.white(`Page ${page}`)}${isLastPage} â†’ ${resultsDescription}${time}`);\n    }\n\n    return colors.gray(`No ${page > 1 ? 'more ' : ''}results${time}`);\n  }\n</script>\n\n<div class=\"results_meta\">\n  {@html displayResultsMeta(providerResponse)}\n</div>\n\n<style>\n  .results_meta {\n    margin-top: 5px;\n    font-size: 0.8em;\n  }\n</style>\n","<script>\n  import ResultLink from './ResultTypes/ResultLink.svelte';\n  import ResultFs from './ResultTypes/ResultFS.svelte';\n  import ResultNote from './ResultTypes/ResultNote.svelte';\n\n  import NoResults from './NoResults.svelte';\n\n  import ResultsMetaTop from './ResultsMetaTop.svelte';\n  import ResultsMetaBottom from './ResultsMetaBottom.svelte';\n  import ZetaExplorersInvite from '../ZetaExplorersInvite.svelte';\n\n  import { getContext } from 'svelte';\n  const app = getContext('app');\n\n  //import { searchMode, searchResponse } from '../../testStore.js'\n\n  const { dmtJS } = app.deps;\n\n  $: searchError = $searchResponse.searchError;\n  $: searchResults = $searchResponse.searchResults;\n\n  export let loggedIn;\n  export let noSearchHits;\n  export let backend;\n  export let loginStore;\n  export let hasPlayer;\n\n  export let searchMode;\n  export let searchResponse;\n</script>\n\n<NoResults {noSearchHits} {searchMode} />\n\n<!-- {#if app.isZetaSeek}\n  <div class=\"no_results\" class:visible={noSearchHits}>\n    <ZetaExplorersInvite />\n  </div>\n\n  <div class=\"no_results\" class:visible={noSearchHits}>\n    Come explore the edges!\n    <img class=\"symbol\" src=\"/search/img/zeta_symbol.png\" />\n    <img class=\"symbol\" src=\"/search/img/tropical_fish.png\" />\n    <img class=\"symbol\" src=\"/search/img/bee.png\" />\n  </div>\n{/if} -->\n\n\n<!-- {#if searchResults} -->\n\n  {#if searchError}\n    <div class=\"search_error\">\n      <p>Search Error in Frontend Code:</p>\n      <span>{searchError.message}</span>\n      <span>{@html searchError.stack.split('\\n').join('<br>')}</span>\n    </div>\n  {:else if searchResults}\n    {#each searchResults as providerResponse}\n\n        <!-- PROVIDER ERROR -->\n        <!-- {#if providerResponse.error}\n          <div class=\"results\">\n            <ResultsMetaTop meta={providerResponse.meta}/>\n\n            <div class=\"result_error\">\n              Error: <span>{JSON.stringify(providerResponse.error)}</span>\n            </div>\n          </div>\n        {/if} -->\n\n        <!-- SOME RESULTS (if not results, we omit this provider) -->\n        {#if providerResponse.results && providerResponse.results.length > 0}\n          <div class=\"results\">\n            <ResultsMetaTop meta={providerResponse.meta}/>\n\n            <!-- filePathANSI: not used anymore.. only problems and we needed separation - fileName / directory -->\n            {#each providerResponse.results as { filePath, fileName, directory, directoryHandle, place, fileNote, url, title, name, context, linkNote, hiddenContext, githubReference, score, mediaType, entryType, prettyTime, filePathANSI, playableUrl, fiberContentURL, fileSizePretty, fileUpdatedAtRelativePretty, isNote, notePreview, noteUrl, noteContents, noteTags, linkTags }, i}\n              <div class=\"result\" class:url_result={url}>\n                {#if url}\n                  <ResultLink {url} {title} {context} {hiddenContext} {linkNote} {score} {linkTags} {githubReference} {backend} {loginStore} />\n                {:else if filePath}\n                  <ResultFs {playableUrl} {mediaType} {fileName} {hasPlayer} prevDirectory={i > 0 ? providerResponse.results[i - 1].directory : null} {directory} {directoryHandle} {place} {fileSizePretty} {fileUpdatedAtRelativePretty} {fileNote} localResult={providerResponse.meta.providerAddress == 'localhost'} />\n                {:else if isNote}\n                  <ResultNote {noteUrl} {notePreview} {noteTags} />\n                {:else}\n                  <div class=\"resultError\">Unsupported search results format.</div>\n                {/if}\n              </div>\n            {/each}\n\n            <ResultsMetaBottom {providerResponse} />\n          </div>\n        {/if}\n\n    {/each}\n  {/if}\n<!-- {/if} -->\n\n<style>\n  .results {\n    padding-top: 5px;\n    /*line-height: 1.2em;*/\n    font-size: 0.9em;\n    width: 100%;\n  }\n\n  .results span {\n    color: #DDD;\n  }\n\n  .result {\n    padding: 1px 0;\n  }\n\n  .result.url_result {\n    padding: 3px 0;\n  }\n\n  img.symbol {\n    width: 15px;\n  }\n\n  .search_error {\n    color: var(--dmt-warning-pink);\n    margin-top: 20px;\n  }\n\n  .result_error {\n    color: var(--dmt-warning-pink);\n  }\n\n  .search_error span, .result_error span {\n    /*color: #555;*/\n    color: white;\n    background-color: #ddd;\n    background-color: #702E3C;\n    padding: 2px;\n    line-height: 1.5em;\n  }\n\n  :global(.results a) {\n    color: white;\n    text-decoration: underline;\n    text-decoration-style: dotted;\n    padding: 0 2px;\n  }\n\n  :global(.results a:visited) {\n    color: #F695FF;\n    color: white;\n  }\n\n  :global(.results a:hover) {\n    /*color: #FFE8DF;*/\n    color: white;\n    /*color: var(--dmt-navy);*/\n    background-color: #444;\n    /*background-color: red;*/\n    /*border-radius: 2px;*/\n  }\n\n  a {\n    color: var(--dmt-cyan);\n    text-decoration: underline;\n  }\n\n  @media only screen and (max-width: 768px) {\n    .results {\n      font-size: 0.8em;\n    }\n  }\n</style>\n","<script>\n  // http://jillix.github.io/url.js/ (TODO)\n  import Url from 'urljs';\n\n  import { onMount, setContext } from 'svelte';\n  //import Router from 'svelte-spa-router'\n\n  import About from './components/About.svelte';\n  import Login from './components/Login/Login.svelte';\n  import LeftBar from './components/LeftBar/LeftBar.svelte';\n\n  import ConnectionStatus from './components/ConnectionStatus.svelte';\n  import NodeTagline from './components/NodeTagline.svelte';\n\n  import SearchModeSelector from './components/SearchModeSelector.svelte';\n  import SearchResults from './components/SearchResults/SearchResults.svelte';\n\n  import { searchMode, searchResponse } from './testStore.js'\n\n  export let connected;\n  export let backend;\n\n  export let concurrency;\n  export let appHelper;\n  export let metamaskConnect;\n  export let loginStore;\n\n  setContext('app', appHelper);\n\n  const { isZetaSeek, isLocalhost, isMobile } = appHelper;\n\n  const { cssBridge, executeSearch } = appHelper.deps.dmtJS;\n\n  appHelper.on('play', ({ playableUrl }) => {\n    console.log(`Loading ${playableUrl} into mpv on localhost ...`);\n    backend.remoteObject('GUIPlayerObject').call('playUrl', { playableUrl });\n  });\n  // ---------\n\n  const searchDelay = isLocalhost ? 50 : 70; // 50 : 400  // zetaseek we spare our own resources and let users wait a little bit so they don't trigger a lot of requests\n\n  let isSearching;\n  let noSearchHits;\n\n  // if (isZetaSeek) {\n  //   cssBridge.setWallpaper('/search/wallpapers/hilly_dark_forest_river_fog.jpg');\n  // } else {\n  //   cssBridge.setWallpaper('/search/wallpapers/black_triangles.jpg');\n  //}\n\n  $: device = $backend.device;\n  $: player = $backend.player;\n\n  $: peerlist = $backend.peerlist;\n  //$: peerlistConnectedLength = peerlist ? peerlist.filter(({ connected }) => connected).length : 0; // dup !\n\n  $: deviceName = device ? device.deviceName : null;\n\n  $: dmtVersion = device ? device.dmtVersion : null;\n\n  $: ethAddress = $loginStore.ethAddress;\n\n  $: loggedIn = $loginStore.ethAddress;\n\n  let userIdentity = undefined;\n  let userName = undefined;\n  let isAdmin = undefined; // hmm ...\n  let userTeams = undefined; // hmm ...\n  let displayName = undefined;\n\n  //$: ethAddress = $loginStore.ethAddress; // also present in $backend but we use it from frontEnd because it's more immediate -> it will work even if backend is currently disonnected\n  // $: userIdentity = $loginStore.userIdentity;\n  // $: userName = $loginStore.userName;\n  // $: loggedIn = $loginStore.loggedIn;\n  // $: isAdmin = $loginStore.isAdmin; // hmm ...\n  // $: userTeams = $loginStore.userTeams; // hmm ...\n\n  // // duplicate\n  // $: displayName = userName || userIdentity;\n\n  let searchQuery;\n  let browsePlace;\n  let searchNodes = [];\n\n  // read browser query strings\n\n  const { q, place, nodes, error, mode } = Url.parseQuery();\n\n  let errorCode = error;\n\n  if (q) {\n    searchQuery = decodeURIComponent(q);\n  }\n\n  if (place) {\n    browsePlace = decodeURIComponent(place);\n  }\n\n  if (mode != null) {\n    searchMode.set(mode);\n    localStorage.setItem('searchMode', mode); // override current search mode\n  } if (q || place) {\n    localStorage.removeItem('searchMode'); // reset saved state on links like ?q=abc or ?place=xyz   (where mode is not provided)\n  } else if (localStorage.getItem('searchMode')) { // if no query, place and mode passed in, we utilize searchMode from localstorage if present\n    searchMode.set(parseInt(localStorage.getItem('searchMode')));\n  }\n\n  // nodes\n  // list of node pubkeys separated by comma\n  if (nodes) {\n    searchNodes = nodes.split(',');\n  }\n\n  // FIN\n\n  function updateBrowserQuery() {\n    // console.log(\"temporarily not updating query string in browser\")\n    // return;\n\n    if (searchQuery) {\n      Url.updateSearchParam('q', searchQuery);\n    } else {\n      Url.updateSearchParam('q'); // delete\n    }\n\n    if (browsePlace) {\n      Url.updateSearchParam('place', browsePlace);\n    } else {\n      Url.updateSearchParam('place'); // delete\n    }\n\n    if ($searchMode) {\n      Url.updateSearchParam('mode', $searchMode);\n    } else {\n      Url.updateSearchParam('mode'); // delete\n    }\n\n    if (searchNodes.length > 0) {\n      Url.updateSearchParam('nodes', searchNodes.join(','));\n    } else {\n      Url.updateSearchParam('nodes'); // delete\n    }\n  }\n\n  const firstMountAndConnect = concurrency.requireConditions(2, () => {\n    console.log('âœ“ FIRST STORE CONNECT after MOUNTING the APP ...');\n\n    if (browsePlace) {\n      _browsePlace(browsePlace);\n    } else {\n      triggerSearch({ force: true });\n    }\n  });\n\n  backend.on('ready', () => {\n    firstMountAndConnect.oneConditionFulfilled();\n  });\n\n  let searchInput;\n\n  onMount(() => {\n    if (!isMobile) { // let's not focus on the mobile, users should see the entire page on first visit... there are more important things on it that search itself! :) Maybe on mobile recommend more stuff instead of typing\n      setTimeout(() => {\n        // after the input field is hopefully connected (and thus not :disabled... so that focusing the field will work...)\n        searchInput.focus();\n      }, 1000);\n    }\n\n    firstMountAndConnect.oneConditionFulfilled();\n  });\n\n  const searchOriginHost = window.location.host;\n  const isLAN = appHelper.isLAN;\n\n  function searchMetadata() {\n    return { userIdentity, displayName, ethAddress, searchNodes, searchOriginHost, isLAN }; // searchNode -- not yet implemented\n  }\n\n  // GLOBAL EVENTS (refactor?)\n\n  appHelper.on('browse_place', place => {\n    searchQuery = null;\n    browsePlace = place;\n    updateBrowserQuery();\n\n    //console.log(\"BROWSE\");\n\n    _browsePlace(place);\n  });\n\n  appHelper.on('node_search', query => {\n    placeSearch(query, { mode: 1, force: true }); // we may have clicked \"browsePlace\" and prevQuery will get cached, then same search won't work without 'force'\n  });\n\n  // ---- GLOBAL EVENTS ----\n\n  function _browsePlace(place) {\n    console.log(`Browse place: ${place}`);\n\n    const remoteObject = backend.remoteObject('GUISearchObject');\n    const remoteMethod = 'browsePlace';\n\n    remoteObject\n      .call(remoteMethod, { place, searchMetadata: searchMetadata() })\n      .then(searchResults => {\n        // console.log(\"browsePlace RESULTS:\");\n        // console.dir(searchResults);\n\n        searchResponse.set({ searchResults });\n      }).catch(searchError => {\n        searchResponse.set({ searchError });\n      });\n  }\n\n  let searchTriggerTimeout;\n\n  function searchInputChanged() {\n    clearTimeout(searchTriggerTimeout);\n\n    searchTriggerTimeout = setTimeout(() => {\n      console.log('searchInputChanged event received, triggering search ...');\n      triggerSearch({ userActivated: true });\n    }, searchQuery.trim() == '' ? 0 : 300); // clear search results immediately, otherwise 50ms delay\n  }\n\n  function placeSearch(query, { nodes = [], mode = undefined, force = false } = {}) {\n    searchQuery = query;\n    searchNodes = nodes;\n    if (mode) {\n      searchMode.set(mode);\n    }\n    setTimeout(() => {\n      triggerSearch({ userActivated: true, force });\n    }, 50);\n  }\n\n  function triggerSearch({ force = false, userActivated = false } = {}) {\n    // BECAUSE IT IS NOT ALWAYS BOUND !! (especially at first load) ... we read it manually ...\n    searchQuery = document.getElementById('search_input').value;\n    browsePlace = null;\n\n    // we have to do this because <svelte head> is static -- only on first load! -- (?)\n    if (searchQuery) {\n      if (app.isZetaSeek) {\n        document.title = `${searchQuery} â€” zetaseek`;\n      } else {\n        document.title = `${searchQuery} â€” dmt search`;\n      }\n\n      if(window.screen.width > 768) {\n        document.body.classList.add('darken');\n      }\n    } else {\n      document.body.classList.remove('darken');\n      document.title = 'Search Engine';\n    }\n\n    console.log(`triggerSearch: ${searchQuery}`);\n\n    const remoteObject = backend.remoteObject('GUISearchObject');\n    const remoteMethod = 'search';\n\n    const searchStatusCallback = ({ searching, noHits }) => {\n      isSearching = searching;\n      noSearchHits = noHits;\n    };\n\n    // remove error after first user input\n    if (userActivated && errorCode) {\n      errorCode = undefined;\n      Url.updateSearchParam('error'); // delete\n    }\n\n    if (searchQuery == null) {\n      console.log('Warning: null SEARCH QUERY !!! Should not hapen. There is a bug probably in GUI code');\n    }\n\n    updateBrowserQuery();\n\n    executeSearch({ searchQuery, searchMode: $searchMode, remoteObject, remoteMethod, searchStatusCallback, searchDelay, force, searchMetadata: searchMetadata() }).then(searchResults => {\n      console.log(\"SEARCH RESULTS:\");\n      console.dir(searchResults);\n\n      searchResponse.set({ searchResults, searchQuery }); // searchQuery --> only used in search results to show \"BANNER\"\n    }).catch(searchError => {\n      // console.log('SEARCH ERROR:');\n      // console.log(e);\n\n      searchResponse.set({ searchError });\n    });\n  }\n\n  function goHome() {\n    doSearch('');\n    if (!isMobile) {\n      searchInput.focus();\n    }\n  }\n\n  function doSearch(query) {\n    document.getElementById('search_input').value = query; // clear input field (searchQuery is bound at should change automatically)\n    triggerSearch(); // clear search results\n  }\n\n  function searchModeChanged() {\n    if (!isMobile) {\n      searchInput.focus();\n    }\n    triggerSearch({ userActivated: true });\n  }\n\n  $: placeholderText = !$connected ? \"Search is currently not available\" : ($searchMode == 0 ? `Search network` : \"Search only this peer\");\n\n  appHelper.on('search', doSearch);\n</script>\n\n<!-- {#if loggedIn} -->\n  <LeftBar {loggedIn} {loginStore} {isAdmin} {metamaskConnect} {displayName} {backend} {searchQuery} {deviceName} />\n<!-- {/if} -->\n\n<About {isMobile} {searchQuery} {dmtVersion} />\n\n<main>\n\n  <!-- {JSON.stringify(device, null, 2)} -->\n\n  <!-- {#if appHelper.nodeHasBlog} -->\n    <Login {metamaskConnect} {ethAddress} {displayName} {isAdmin} />\n  <!-- {/if} -->\n\n  <div class=\"logo\">\n    <a href=\"#\" on:click|preventDefault={() => { goHome(); }}>\n      {#if appHelper.isLocalhost}\n        <h1>My Personal Computer</h1>\n      {:else if appHelper.isZetaSeekFamily}\n        <img src=\"/search/img/zetaseek_logo.svg?v=2\" alt=\"zeta logo\">\n      {:else}\n        <h1>My Personal Server</h1>\n      {/if}\n    </a>\n  </div>\n\n  <ConnectionStatus {connected} {device} {isSearching} {deviceName} />\n\n  <NodeTagline {connected} {displayName} {loggedIn} />\n\n  <div class=\"search\">\n\n    <div class=\"search_input_wrapper\">\n      <input id=\"search_input\" bind:value={searchQuery} bind:this={searchInput} on:keyup={searchInputChanged} on:paste={searchInputChanged} class:public_search={$searchMode == 0} class:this_node_search={$searchMode == 1} placeholder={placeholderText} disabled={!$connected}>\n      <img src=\"/search/img/redesign/zetaseek_icon-search.svg\" />\n    </div>\n\n    {#if !$connected && isLocalhost}\n      <p class=\"connection_status_help\">\n        âš ï¸ Please start the <span>dmt-proc</span> ...\n      </p>\n    {/if}\n\n    {#if $connected}\n      <SearchModeSelector {searchQuery} {backend} on:searchModeChanged=\"{searchModeChanged}\" />\n    {/if}\n\n    {#if errorCode == 'file_not_found'}\n      <br>\n      <div class=\"error\">\n        âš ï¸ Requested file was renamed or moved {#if !noSearchHits} but perhaps one of the following results matches:{/if}\n      </div>\n    {/if}\n\n    <SearchResults {loggedIn} {noSearchHits} {backend} {searchMode} {searchResponse} {loginStore} hasPlayer={player && player.volume != undefined} />\n\n  </div>\n\n</main>\n\n<style>\n  :root {\n    --warning: #E34042;\n    --dmt-red: #E34042;\n    --dmt-warning-pink: #EFCAF8;\n    --dmt-orange: #E5AE34;\n\n    --dmt-navy: #41468F;\n    /*--dmt-navy: #199EFF;\n    --dmt-navy: #199EFF;*/\n    --dmt-navy2: #292C5A;\n    --dmt-cyan: #29B3BF;\n    /*--dmt-bright-cyan-prev: #3EFFE5;*/\n    --dmt-bright-cyan: #3DFFEC;\n    --dmt-violet: #873BBF;\n    --dmt-violet-dark: #2E1740;\n\n    --dmt-vibrant-green: #5FE02A;\n    --dmt-cool-green: #5DF699;\n    --dmt-cool-cyan: #51F5C8;\n    --dmt-cool-cyan2: #58E288;\n\n    --zeta-green: #31E5C1;\n    --zeta-green-highlight: #34FED7;\n    --zeta-green_check: #32E6BE;\n\n    --search-input-width: 330px;\n  }\n\n\tmain {\n\t\ttext-align: center;\n\t\tpadding: 1em;\n    padding-top: 50px;\n\t}\n\n  .logo {\n    display: inline-block;\n  }\n\n  /* sdfdsfdsfsd */\n\n  .logo a {\n    font-size: 1.0em;\n    color: white;\n  }\n\n  .logo:hover {\n    opacity: 0.9;\n  }\n\n  .logo img {\n    width: 200px;\n    margin: 0 auto;\n    margin-bottom: 5px;\n  }\n\n  .logo a span {\n    color: var(--dmt-cool-cyan2);\n  }\n\n  .error {\n    font-size: 0.8em;\n    padding: 2px 4px;\n    border-radius: 3px;\n    color: var(--dmt-warning-pink);\n    display: inline-block;\n    margin-top: 20px;\n  }\n\n  .search_input_wrapper {\n    display: inline-block;\n    position: relative;\n  }\n\n  input#search_input {\n    width: var(--search-input-width);\n    margin: 0 auto;\n    color: #222;\n    outline: none;\n    border-radius: 20px;\n    padding: 6px 8px;\n    padding-left: 30px;\n  }\n\n  .search_input_wrapper img {\n    position: absolute;\n    top: 10px;\n    left: 10px;\n    height: 13px;\n}\n\n  input#search_input.public_search {\n    background-color: var(--zeta-green);\n    /*border-color: white;*/\n    /*border-color: #222;*/\n    border: none;\n  }\n\n  input#search_input.this_node_search {\n    /*background-color: var(--dmt-navy);*/\n    background-color: #BCCCCB;\n    /*border-color: white;*/\n    /*color: white;*/\n    border: none;\n  }\n\n  input#search_input.public_search::placeholder {\n    /*color: #11867F;*/\n    color: #0C615C;\n  }\n\n  input#search_input.this_node_search::placeholder {\n    /*color: #6A72FF;*/\n    color: #444;\n  }\n\n  input#search_input:disabled {\n    background-color: var(--dmt-warning-pink);\n  }\n\n  input#search_input:disabled, input#search_input:disabled::placeholder {\n    color: #A48CAC;\n  }\n\n  .search {\n    color: white;\n  }\n\n  .connection_status_help {\n    color: var(--dmt-warning-pink);\n    font-size: 1em;\n  }\n\n  .connection_status_help span {\n    color: var(--zeta-green);\n  }\n\n  @media only screen and (max-width: 768px) {\n    main {\n      padding-top: 30px;\n    }\n\n    .logo {\n      width: 300px;\n      font-size: 0.8em;\n    }\n\n    .logo img {\n      width: 150px;\n      margin-bottom: 10px;\n    }\n  }\n</style>\n","// we import dmtJS and connectome stores only here !\n// we pass dmtJS around in svelte context\nimport * as dmtJS from '../dmt-one'; // 'dmt/one' (named exports) does not work yet with rollup\n// do not import the whole connectome\n// svelte will produce the error: Error: UMD and IIFE output formats are not supported for code-splitting builds.\n// if we import only stores then tree shaking makes sure that dynamic imports in connectome contentServer are not a problem in build process\n// for dynamic imports in general we have to use 'esm' build in rollup.config.js ... this is already supported in major browsers\n// but was still a bit problematic for two reasons a) seemed to break css layout on immediate reload after compile b) unbounded growth of main-***.js files in public/build\nimport { concurrency } from 'connectome';\nimport { LogStore, makeConnectedStore } from 'connectome/stores';\n//import { stores, concurrency } from '../../../../connectome/src/client';\n\nimport { writable } from 'svelte/store';\n\nconst { metamask } = dmtJS;\n\n// using this pattern: https://stackoverflow.com/a/35443130/458177\n// reason: we want to import connectome stores (and all dmt deps) in a single place\n// import connectedStoreFactory from './connectedStore';\n// const ConnectedStore = connectedStoreFactory(stores.ConnectedStore);\n\nimport appHelper from './appHelper'; // our custom helper object\n\nappHelper.deps = { dmtJS };\n\nconst { metamaskInit } = metamask;\n\nimport App from './App.svelte';\n\n//const port = appHelper.ssl ? '/ws' : 7780; // hackish ?\n\nconst connectOpts = {};\n\nif (appHelper.ssl) {\n  connectOpts.endpoint = '/ws';\n} else {\n  connectOpts.port = 7780;\n}\n\nconst protocol = 'dmtapp';\nconst lane = 'search';\n\nconst logStore = new LogStore();\n\n// source: https://stackoverflow.com/a/9216488\nconst log = console.log.bind(console);\nconsole.log = (...args) => {\n  logStore.addToLog({ origConsoleLog: log, limit: 100 }, ...args);\n  log(...args);\n};\n\nconst verbose = false;\n//const address = window.location.hostname;\n\nconst rpcRequestTimeout = 5500; // 500ms more than default so that if any underlying request time outs, we still get that info to the frontent (otherwise this request would time-out as well)\n// todo: what if default changes ? we should somehow add 500ms to default... or specify hopNumber which decreases as we nest searches... current hop is multiplied by 500ms to allow for underlying timeouts\nconst { state: backend, connected } = makeConnectedStore({\n  ...connectOpts,\n  ...{\n    // address,\n    // port,\n    // ssl: appHelper.ssl, // IT IS USED!!! not used yet.. use this only if we connect directly to our process and not via lighttpd /ws proxy\n    protocol,\n    lane,\n    rpcRequestTimeout,\n    verbose\n  }\n});\n\nconst loginStore = writable({});\n\nconst metamaskConnect = metamaskInit(ethAddress => {\n  // main place where we get always current connected account!\n  // should be in sync with metamask state\n  console.log(`Connected ethereum address: ${ethAddress}`);\n\n  loginStore.set({ ethAddress });\n\n  //loginStore.login(ethAddress);\n  //old code\n  //this.emitProgramEvent('zeta::login', { ...identity, ...data });\n\n  // also reconnects are handled here\n  // this.on('connected', () => {\n  //   const { ethAddress } = this.loginStore.get();\n\n  //   if (ethAddress) {\n  //     //console.log(`AAAAA ${ethAddress}`);\n  //     this.loginAddress(ethAddress);\n  //   }\n  // });\n\n  // loginStore.on('metamask_login', ethAddress => {\n  //   if (this.connected) {\n  //     //console.log(`BBBBB ${ethAddress}`);\n  //     this.loginAddress(ethAddress);\n  //   }\n  // });\n});\n\nconst app = new App({\n  target: document.body,\n  props: {\n    backend,\n    connected,\n    loginStore,\n    concurrency,\n    appHelper,\n    metamaskConnect\n  }\n});\n\nexport default app;\n"],"names":["_slicedToArray","arr","i","Array","isArray","Symbol","iterator","Object","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","length","err","sliceIterator","TypeError","_createClass","defineProperties","target","props","descriptor","enumerable","configurable","writable","defineProperty","key","Constructor","protoProps","staticProps","prototype","_toConsumableArray","arr2","from","_classCallCheck","instance","O","colorCodes","colorCodesLight","styleCodes","asBright","red","green","yellow","blue","magenta","cyan","black","lightGray","types","0","2","3","9","4","10","subtypes","color","colorLight","bgColor","bgColorLight","style","unstyle","clean","obj","k","keys","Color","background","name","brightness","this","inverted","inverse","rgbName","Code","bright","prop","rgb","Colors","alpha","dim","concat","join","get","n","Number","Math","floor","type","noBrightness","x","str","assign","reset","noItalic","noUnderline","noInverse","noColor","noBgColor","wrap","openCode","closeCode","open","close","String","split","map","line","s","replace","denormalizeBrightness","a","b","camel","charAt","toUpperCase","slice","stringWrappingMethods","reduce","spans","state","buffer","text","code","codes","c","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","_code","return","rawParse","p","styles","Set","span","has","underline","italic","bold","foreColor","defaultBrightness","styledSpan","css","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","isBrightness","subtype","add","delete","filter","parsed","asChromeConsoleLogArguments","names","forEach","assignStringWrappingAPI","wrapBefore","arguments","memo","_ref","_ref2","_ref3","darkGray","white","lightRed","lightGreen","lightYellow","lightBlue","lightMagenta","lightCyan","constructTryer","accessor","current","nextKey","re","RegExp","matches","match","nextDict","_nextKey","listify","find","el","id","values","makeTryable","try","tryOnTheFly","[object Object]","wallpaperSubPath","startsWith","document","body","backgroundImage","className","getElementsByTagName","log","msg","console","Date","toLocaleString","pad","number","digits","max","write","dir","JSON","stringify","getDisplayTime","date","getHours","getMinutes","unique","items","setWallpaper","wallpaper","compareValues","order","hasOwnProperty","varA","varB","comparison","accessProperty","acc","def","mapTempToHUE","temp","percent","round","msIntoTimeSpan","timeInMs","index","result","times","totalSeconds","total","num","humanTime","ts","t","trim","songTime","hours","rem","min","colorJSON","json","cls","test","Utf8ArrayToStr","array","out","char2","char3","len","fromCharCode","isInputElementActive","activeElement","indexOf","tagName","toLowerCase","bufferToHex","Uint8Array","toString","padStart","hexToBuffer","hex","tokens","token","parseInt","includeModule","Module","module","func","getOwnPropertyNames","getAllFuncs","noop","RunnableLink","prev","fn","data","run","LinkedList","linkConstructor","head","tail","reg","link","splitter","gray","metaMaskInstalled","ethereum","isMetaMask","getFirstAccount","accounts","metamaskConnectWrapper","accountChangedCallback","Promise","success","reject","send","then","rpcResult","catch","Error","metamaskInit","retryCount","first","selectedAddress","setTimeout","on","normalizeQuery","query","prevSearchMode","executeQueryTimeout","prevQuery","timeTags","searchQuery","searchMode","remoteObject","remoteMethod","searchStatusCallback","searchDelay","force","searchMetadata","now","clearTimeout","searching","queryDifferentEnough","timeTag","call","searchResults","lastTimeTag","noHits","response","error","results","e","events","me","list","eev","_eev","insert","remove","args","off","evt","commonjsGlobal","globalThis","window","global","self","createCommonjsModule","basedir","path","exports","require","base","commonjsRequire","getAugmentedNamespace","__esModule","d","getOwnPropertyDescriptor","require$$0","freeze","__proto__","default","naclFast","nacl","gf","init","r","Float64Array","randombytes","_0","_9","gf0","gf1","_121665","D","D2","X","Y","I","ts64","h","l","vn","xi","y","yi","crypto_verify_16","crypto_verify_32","crypto_core_salsa20","inp","o","u","j0","j1","j2","j3","j4","j5","j6","j7","j8","j9","j10","j11","j12","j13","j14","j15","x0","x1","x2","x3","x4","x5","x6","x7","x8","x9","x10","x11","x12","x13","x14","x15","core_salsa20","crypto_core_hsalsa20","core_hsalsa20","sigma","crypto_stream_salsa20_xor","cpos","m","mpos","z","crypto_stream_salsa20","crypto_stream","sn","crypto_stream_xor","poly1305","t0","t1","t2","t3","t4","t5","t6","t7","Uint16Array","leftover","fin","crypto_onetimeauth","outpos","update","finish","crypto_onetimeauth_verify","hpos","crypto_secretbox","crypto_secretbox_open","set25519","car25519","v","sel25519","q","pack25519","j","neq25519","par25519","unpack25519","A","Z","M","t8","t9","t10","t11","t12","t13","t14","t15","t16","t17","t18","t19","t20","t21","t22","t23","t24","t25","t26","t27","t28","t29","t30","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","b10","b11","b12","b13","b14","b15","S","inv25519","pow2523","crypto_scalarmult","f","x32","subarray","x16","crypto_scalarmult_base","crypto_box_keypair","crypto_box_beforenm","blocks","bytes","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","hibit","h0","h1","h2","h3","h4","h5","h6","h7","h8","h9","r0","r1","r2","r3","r4","r5","r6","r7","r8","r9","mac","macpos","mask","g","want","crypto_box_afternm","crypto_box_open_afternm","K","crypto_hashblocks_hl","hh","hl","bh0","bh1","bh2","bh3","bh4","bh5","bh6","bh7","bl0","bl1","bl2","bl3","bl4","bl5","bl6","bl7","th","tl","wh","Int32Array","wl","ah0","ah1","ah2","ah3","ah4","ah5","ah6","ah7","al0","al1","al2","al3","al4","al5","al6","al7","pos","crypto_hash","cswap","pack","tx","ty","zi","scalarmult","scalarbase","crypto_sign_keypair","pk","sk","seeded","L","modL","carry","crypto_sign","sm","smlen","crypto_sign_open","chk","den","den2","den4","den6","unpackneg","crypto_secretbox_BOXZEROBYTES","crypto_sign_BYTES","crypto_sign_PUBLICKEYBYTES","crypto_sign_SECRETKEYBYTES","checkLengths","checkArrayTypes","cleanup","lowlevel","crypto_box","crypto_box_open","crypto_secretbox_KEYBYTES","crypto_secretbox_NONCEBYTES","crypto_secretbox_ZEROBYTES","crypto_scalarmult_BYTES","crypto_scalarmult_SCALARBYTES","crypto_box_PUBLICKEYBYTES","crypto_box_SECRETKEYBYTES","crypto_box_BEFORENMBYTES","crypto_box_NONCEBYTES","crypto_box_ZEROBYTES","crypto_box_BOXZEROBYTES","crypto_sign_SEEDBYTES","crypto_hash_BYTES","randomBytes","secretbox","nonce","box","keyLength","nonceLength","overheadLength","scalarMult","scalarLength","groupElementLength","publicKey","secretKey","before","checkBoxLengths","after","keyPair","fromSecretKey","publicKeyLength","secretKeyLength","sharedKeyLength","sign","signedMsg","tmp","mlen","detached","sig","verify","fromSeed","seed","seedLength","signatureLength","hash","hashLength","setPRNG","crypto","msCrypto","getRandomValues","naclUtil","root","util","validateBase64","decodeUTF8","unescape","encodeURIComponent","charCodeAt","encodeUTF8","decodeURIComponent","escape","atob","Buffer","encodeBase64","decodeBase64","btoa","ConditionsChecker","callback","counter","extendStatics","promiseTimeout","ms","promise","timeout","resolve","race","requireConditions","__extends","setPrototypeOf","__","constructor","create","_hasOwnProperty","_objectKeys","_deepClone","parse","isInteger","charCode","escapePathComponent","unescapePathComponent","hasUndefined","objKeys","objKeysLength","patchErrorMessageFormatter","message","messageParts","PatchError","_super","operation","tree","_newTarget","_this","JsonPatchError","deepClone","objOps","newDocument","removed","move","getValueByPointer","originalValue","applyOperation","op","copy","valueToCopy","_areEquals","_get","arrOps","splice","pointer","getOriginalDestination","validateOperation","mutateDocument","banPrototypeModifications","validator","returnValue","existingPathFragment","validateFunction","applyPatch","patch","length_1","pathLen","existingPathLen","validate","sequence","externalValidator","arrA","arrB","core","applyReducer","operationResult","beforeDict","WeakMap","Mirror","observers","Map","ObserverInfo","observer","generate","invertible","mirror","object","_generate","patches","toJSON","newKeys","oldKeys","deleted","oldVal","newVal","duplex","unobserve","observe","getMirror","observerInfo","getObserverFromMirror","set","dirtyCheck","fastCheck","addEventListener","removeObserverFromMirror","removeEventListener","compare","tree1","tree2","fastJsonPatch","Eev","__events_list","ReadableStore","initialState","super","subscriptions","handler","sub","WritableStore","announceStateChange","integerToByteArray","long","arrayLen","byteArray","fill","byte","getDefaultExportFromCjs","connector","sentCount","closed","flag","encodedMessage","_msg","header","addHeader","encryptedMessage","sharedSecret","verbose","address","connection","websocket","wireReceive","jsonData","encryptedData","rawMessage","wasEncrypted","lastMessageAt","receivedCount","jsonrpc","includes","isRpcCallResult","emit","rpcClient","jsonrpcMsgReceive","_decryptedMessage","decryptedMessage","decodedMessage","tag","sessionId","diff","signal","binaryData","byteOffset","binaryPayload","Channel","errorCodes","MoleServer","transports","transportsToRegister","methods","methodPrefix","transport","onData","_processRequest","bind","requestData","responseData","all","request","_callMethod","method","params","methodName","prefix","currentTransport","apply","stack","registerTransport","Base","ServerError","MethodNotFound","InvalidRequest","InvalidParams","RemoteInternalError","ParseError","RequestTimeout","MoleClient","requestTimeout","pendingRequest","initialized","_init","_makeRequestObject","_sendRequest","mode","sendData","calls","batchId","_generateId","onlyNotifications","batchRequest","_processResponse","sentObject","_processBatchResponse","_processSingleCallResponse","isSuccessfulResponse","isErrorResponse","resolvers","errorObject","_makeErrorObject","responses","responseById","errorsWithoutId","batchResults","errorIdx","errorData","errorBuilder","size","random","proxifyOwnMethod","ownMethod","Proxy","_","TransportServerChannel","channel","async","resData","reqData","mole","MoleClientProxified","moleClient","callMethodProxy","callMethod","notifyProxy","notify","setMethodPrefix","proxify","ClientTransport","ServerTransport","ConnectomeError","errorCode","MoleClient$1","SpecificRpcClient","connectorOrServersideChannel","moleChannel","client","stringMessage","RpcClient","remoteObjects","RPCTarget","serversideChannel","serverMethods","server","expose","newKeypair","publicKeyHex","privateKeyHex","privateKey","Connector","protocol","lane","keypair","rpcRequestTimeout","clientPrivateKey","clientPublicKey","clientPublicKeyHex","successfulConnectsCount","ready","connected","decommissioned","diffieHellman","sharedSecretHex","connectedAt","terminate","justDisconnected","handle","pubkey","remotePubkeyHex","_remotePubkeyHex","browser","browser$1","establishAndMaintainConnection","endpoint","port","remotePubkey","WebSocket","location","host","hostname","determineEndpoint","_removeAllCallbacks","connectStatus","checkTicker","tryReconnect","conn","connectionIdle","rand","socketConnected","checkConnection","currentlyTryingWS","readyState","_waitForConnectCounter","ws","binaryType","openCallback","errorCallback","closeCallback","messageCallback","addSocketListeners","applyJSONPatch","ConnectedStore","logStore","connect","wireStateReceived","Pointer","fromJSON","evaluate","parent","cursor","clone","objectType","source","arrayTarget","objectTarget","subtract","minuend","subtrahend","add_key","del_key","intersection","objects","appendArrayOperation","operations","cost","diffArrays","input","output","ptr","diffAny","0,0","input_length","isNaN","output_length","dist","memo_key","memoized","alternatives","remove_base","remove_operation","add_base","add_operation","replace_base","replace_operation","original","sort","_a","array_operation","padding","isArrayAdd","padded_index","index_token","isArrayRemove","replace_ptr","replace_operations","diffObjects","input_type","output_type","isDestructive","InvalidOperationError","TestError","MissingError","actual","expected","_add","_remove","from_endpoint","createTest","createTests","createPatch","patch$1","diff$1","wrappedDiff","custom_patch","wrapVoidableDiff","tests","pathTest","fromTest","blank_object","run_all","fns","is_function","thing","safe_not_equal","subscribe","store","callbacks","unsub","unsubscribe","component_subscribe","component","$$","on_destroy","append","node","appendChild","anchor","insertBefore","detach","parentNode","removeChild","destroy_each","iterations","detaching","element","createElement","svg_element","createElementNS","createTextNode","space","empty","listen","event","options","prevent_default","preventDefault","attr","attribute","removeAttribute","getAttribute","setAttribute","set_data","wholeText","set_input_value","set_style","important","setProperty","toggle_class","toggle","classList","current_component","set_current_component","get_current_component","createEventDispatcher","detail","createEvent","initCustomEvent","custom_event","getContext","context","dirty_components","binding_callbacks","render_callbacks","flush_callbacks","resolved_promise","update_scheduled","add_render_callback","flushing","seen_callbacks","flush","pop","clear","fragment","before_update","dirty","ctx","after_update","outroing","outros","group_outros","check_outros","transition_in","block","local","transition_out","create_component","mount_component","on_mount","new_on_destroy","destroy_component","make_dirty","create_fragment","not_equal","parent_component","prop_values","bound","skip_bound","ret","rest","hydrate","nodes","childNodes","children","intro","SvelteComponent","$destroy","$$props","$$set","subscriber_queue","start","stop","subscribers","new_value","run_queue","invalidate","subscriber","Emitter","dmtJS","isLocalhost","isLAN","isZetaSeek","isZetaSeekFamily","isDevMachine","nodeHasBlog","blogName","isMobile","screen","width","ssl","_typeof","Url","triggerPopStateCb","_onPopStateCbs","_isHash","queryString","notDecoded","regex","exec","search","encoded","parseQuery","iequ","queryObj","stringified","updateSearchParam","param","triggerPopState","searchParsed","newSearch","_updateAll","pathname","getLocation","newHash","substring","history","_pathname","onPopState","cb","removeHash","trigger","removeQuery","version","isCorePromoter","app","dmtVersion","displayVersion","ethAddress","displayName","isAdmin","metamaskConnect","login","backend","device","$backend","peerlist","loggedIn","searchResponse","dash","speed","thickness","gap","radius","PI","deviceName","isSearching","dispatch","setSearchMode","localStorage","setItem","operationalPeersCount","operational","mediaTypeIcon","mediaType","resultType","entryType","linkTag","loginStore","url","title","linkNote","score","linkTags","hiddenContext","githubReference","trackClick","clickMetadata","userIdentity","visit","href","$loginStore","userName","playableUrl","hasPlayer","play","deps","fileName","directory","directoryHandle","place","prevDirectory","fileSizePretty","fileUpdatedAtRelativePretty","fileNote","localResult","browsePlace","noteUrl","notePreview","noteTags","noSearchHits","contentId","providerTag","thisMachine","meta","colorsHTML","colors","providerResponse","page","noMorePages","resultCount","resultsFrom","resultsTo","searchTimePretty","networkTimePretty","time","isLastPage","resultsDescription","providerAddress","searchError","$searchResponse","volume","concurrency","appHelper","cssBridge","executeSearch","searchNodes","updateBrowserQuery","$searchMode","removeItem","getItem","firstMountAndConnect","_browsePlace","triggerSearch","searchInput","oneConditionFulfilled","onMount","focus","searchOriginHost","searchTriggerTimeout","userActivated","getElementById","goHome","doSearch","placeSearch","player","placeholderText","$connected","metamask","connectOpts","origConsoleLog","limit","addToLog","opts","action","sendJSON","api","makeConnectedStore"],"mappings":"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"}