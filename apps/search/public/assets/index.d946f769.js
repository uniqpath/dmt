var e=Object.defineProperty,t=Object.defineProperties,r=Object.getOwnPropertyDescriptors,n=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,a=(t,r,n)=>r in t?e(t,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[r]=n,c=(e,t)=>{for(var r in t||(t={}))s.call(t,r)&&a(e,r,t[r]);if(n)for(var r of n(t))o.call(t,r)&&a(e,r,t[r]);return e},i=(e,n)=>t(e,r(n));import{w as l,d as h,g as u,S as f,i as d,s as p,e as m,a as v,c as g,b as y,f as b,h as w,j as $,k as E,l as _,n as k,t as A,m as S,o as x,p as P,q as T,r as N,u as I,v as O,x as M,y as R,z as C,A as U,B as D,C as j,D as V,E as q,F as B,G as L,H as z,I as K,J as F,K as H,L as Y,M as W,N as G,O as J,P as Q,Q as Z,R as X,T as ee,U as te,V as re,W as ne,X as se,Y as oe,Z as ae,_ as ce,$ as ie,a0 as le,a1 as he}from"./vendor.53c7dfb2.js";var ue="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function fe(e,t,r){return e(r={path:t,exports:{},require:function(e,t){return pe(null==t&&r.path)}},r.exports),r.exports}function de(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach((function(r){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})})),t}function pe(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var me=de(Object.freeze({__proto__:null,default:{}})),ve=fe((function(e){!function(e){var t=function(e){var t,r=new Float64Array(16);if(e)for(t=0;t<e.length;t++)r[t]=e[t];return r},r=function(){throw new Error("no PRNG")},n=new Uint8Array(16),s=new Uint8Array(32);s[0]=9;var o=t(),a=t([1]),c=t([56129,1]),i=t([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),l=t([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),h=t([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),u=t([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),f=t([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function d(e,t,r,n){e[t]=r>>24&255,e[t+1]=r>>16&255,e[t+2]=r>>8&255,e[t+3]=255&r,e[t+4]=n>>24&255,e[t+5]=n>>16&255,e[t+6]=n>>8&255,e[t+7]=255&n}function p(e,t,r,n,s){var o,a=0;for(o=0;o<s;o++)a|=e[t+o]^r[n+o];return(1&a-1>>>8)-1}function m(e,t,r,n){return p(e,t,r,n,16)}function v(e,t,r,n){return p(e,t,r,n,32)}function g(e,t,r,n){!function(e,t,r,n){for(var s,o=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,a=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,c=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,i=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,l=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,h=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,u=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,f=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,d=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,p=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,m=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,v=255&r[16]|(255&r[17])<<8|(255&r[18])<<16|(255&r[19])<<24,g=255&r[20]|(255&r[21])<<8|(255&r[22])<<16|(255&r[23])<<24,y=255&r[24]|(255&r[25])<<8|(255&r[26])<<16|(255&r[27])<<24,b=255&r[28]|(255&r[29])<<8|(255&r[30])<<16|(255&r[31])<<24,w=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,$=o,E=a,_=c,k=i,A=l,S=h,x=u,P=f,T=d,N=p,I=m,O=v,M=g,R=y,C=b,U=w,D=0;D<20;D+=2)$^=(s=(M^=(s=(T^=(s=(A^=(s=$+M|0)<<7|s>>>25)+$|0)<<9|s>>>23)+A|0)<<13|s>>>19)+T|0)<<18|s>>>14,S^=(s=(E^=(s=(R^=(s=(N^=(s=S+E|0)<<7|s>>>25)+S|0)<<9|s>>>23)+N|0)<<13|s>>>19)+R|0)<<18|s>>>14,I^=(s=(x^=(s=(_^=(s=(C^=(s=I+x|0)<<7|s>>>25)+I|0)<<9|s>>>23)+C|0)<<13|s>>>19)+_|0)<<18|s>>>14,U^=(s=(O^=(s=(P^=(s=(k^=(s=U+O|0)<<7|s>>>25)+U|0)<<9|s>>>23)+k|0)<<13|s>>>19)+P|0)<<18|s>>>14,$^=(s=(k^=(s=(_^=(s=(E^=(s=$+k|0)<<7|s>>>25)+$|0)<<9|s>>>23)+E|0)<<13|s>>>19)+_|0)<<18|s>>>14,S^=(s=(A^=(s=(P^=(s=(x^=(s=S+A|0)<<7|s>>>25)+S|0)<<9|s>>>23)+x|0)<<13|s>>>19)+P|0)<<18|s>>>14,I^=(s=(N^=(s=(T^=(s=(O^=(s=I+N|0)<<7|s>>>25)+I|0)<<9|s>>>23)+O|0)<<13|s>>>19)+T|0)<<18|s>>>14,U^=(s=(C^=(s=(R^=(s=(M^=(s=U+C|0)<<7|s>>>25)+U|0)<<9|s>>>23)+M|0)<<13|s>>>19)+R|0)<<18|s>>>14;$=$+o|0,E=E+a|0,_=_+c|0,k=k+i|0,A=A+l|0,S=S+h|0,x=x+u|0,P=P+f|0,T=T+d|0,N=N+p|0,I=I+m|0,O=O+v|0,M=M+g|0,R=R+y|0,C=C+b|0,U=U+w|0,e[0]=$>>>0&255,e[1]=$>>>8&255,e[2]=$>>>16&255,e[3]=$>>>24&255,e[4]=E>>>0&255,e[5]=E>>>8&255,e[6]=E>>>16&255,e[7]=E>>>24&255,e[8]=_>>>0&255,e[9]=_>>>8&255,e[10]=_>>>16&255,e[11]=_>>>24&255,e[12]=k>>>0&255,e[13]=k>>>8&255,e[14]=k>>>16&255,e[15]=k>>>24&255,e[16]=A>>>0&255,e[17]=A>>>8&255,e[18]=A>>>16&255,e[19]=A>>>24&255,e[20]=S>>>0&255,e[21]=S>>>8&255,e[22]=S>>>16&255,e[23]=S>>>24&255,e[24]=x>>>0&255,e[25]=x>>>8&255,e[26]=x>>>16&255,e[27]=x>>>24&255,e[28]=P>>>0&255,e[29]=P>>>8&255,e[30]=P>>>16&255,e[31]=P>>>24&255,e[32]=T>>>0&255,e[33]=T>>>8&255,e[34]=T>>>16&255,e[35]=T>>>24&255,e[36]=N>>>0&255,e[37]=N>>>8&255,e[38]=N>>>16&255,e[39]=N>>>24&255,e[40]=I>>>0&255,e[41]=I>>>8&255,e[42]=I>>>16&255,e[43]=I>>>24&255,e[44]=O>>>0&255,e[45]=O>>>8&255,e[46]=O>>>16&255,e[47]=O>>>24&255,e[48]=M>>>0&255,e[49]=M>>>8&255,e[50]=M>>>16&255,e[51]=M>>>24&255,e[52]=R>>>0&255,e[53]=R>>>8&255,e[54]=R>>>16&255,e[55]=R>>>24&255,e[56]=C>>>0&255,e[57]=C>>>8&255,e[58]=C>>>16&255,e[59]=C>>>24&255,e[60]=U>>>0&255,e[61]=U>>>8&255,e[62]=U>>>16&255,e[63]=U>>>24&255}(e,t,r,n)}function y(e,t,r,n){!function(e,t,r,n){for(var s,o=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,a=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,c=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,i=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,l=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,h=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,u=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,f=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,d=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,p=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,m=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,v=255&r[16]|(255&r[17])<<8|(255&r[18])<<16|(255&r[19])<<24,g=255&r[20]|(255&r[21])<<8|(255&r[22])<<16|(255&r[23])<<24,y=255&r[24]|(255&r[25])<<8|(255&r[26])<<16|(255&r[27])<<24,b=255&r[28]|(255&r[29])<<8|(255&r[30])<<16|(255&r[31])<<24,w=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,$=0;$<20;$+=2)o^=(s=(g^=(s=(d^=(s=(l^=(s=o+g|0)<<7|s>>>25)+o|0)<<9|s>>>23)+l|0)<<13|s>>>19)+d|0)<<18|s>>>14,h^=(s=(a^=(s=(y^=(s=(p^=(s=h+a|0)<<7|s>>>25)+h|0)<<9|s>>>23)+p|0)<<13|s>>>19)+y|0)<<18|s>>>14,m^=(s=(u^=(s=(c^=(s=(b^=(s=m+u|0)<<7|s>>>25)+m|0)<<9|s>>>23)+b|0)<<13|s>>>19)+c|0)<<18|s>>>14,w^=(s=(v^=(s=(f^=(s=(i^=(s=w+v|0)<<7|s>>>25)+w|0)<<9|s>>>23)+i|0)<<13|s>>>19)+f|0)<<18|s>>>14,o^=(s=(i^=(s=(c^=(s=(a^=(s=o+i|0)<<7|s>>>25)+o|0)<<9|s>>>23)+a|0)<<13|s>>>19)+c|0)<<18|s>>>14,h^=(s=(l^=(s=(f^=(s=(u^=(s=h+l|0)<<7|s>>>25)+h|0)<<9|s>>>23)+u|0)<<13|s>>>19)+f|0)<<18|s>>>14,m^=(s=(p^=(s=(d^=(s=(v^=(s=m+p|0)<<7|s>>>25)+m|0)<<9|s>>>23)+v|0)<<13|s>>>19)+d|0)<<18|s>>>14,w^=(s=(b^=(s=(y^=(s=(g^=(s=w+b|0)<<7|s>>>25)+w|0)<<9|s>>>23)+g|0)<<13|s>>>19)+y|0)<<18|s>>>14;e[0]=o>>>0&255,e[1]=o>>>8&255,e[2]=o>>>16&255,e[3]=o>>>24&255,e[4]=h>>>0&255,e[5]=h>>>8&255,e[6]=h>>>16&255,e[7]=h>>>24&255,e[8]=m>>>0&255,e[9]=m>>>8&255,e[10]=m>>>16&255,e[11]=m>>>24&255,e[12]=w>>>0&255,e[13]=w>>>8&255,e[14]=w>>>16&255,e[15]=w>>>24&255,e[16]=u>>>0&255,e[17]=u>>>8&255,e[18]=u>>>16&255,e[19]=u>>>24&255,e[20]=f>>>0&255,e[21]=f>>>8&255,e[22]=f>>>16&255,e[23]=f>>>24&255,e[24]=d>>>0&255,e[25]=d>>>8&255,e[26]=d>>>16&255,e[27]=d>>>24&255,e[28]=p>>>0&255,e[29]=p>>>8&255,e[30]=p>>>16&255,e[31]=p>>>24&255}(e,t,r,n)}var b=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function w(e,t,r,n,s,o,a){var c,i,l=new Uint8Array(16),h=new Uint8Array(64);for(i=0;i<16;i++)l[i]=0;for(i=0;i<8;i++)l[i]=o[i];for(;s>=64;){for(g(h,l,a,b),i=0;i<64;i++)e[t+i]=r[n+i]^h[i];for(c=1,i=8;i<16;i++)c=c+(255&l[i])|0,l[i]=255&c,c>>>=8;s-=64,t+=64,n+=64}if(s>0)for(g(h,l,a,b),i=0;i<s;i++)e[t+i]=r[n+i]^h[i];return 0}function $(e,t,r,n,s){var o,a,c=new Uint8Array(16),i=new Uint8Array(64);for(a=0;a<16;a++)c[a]=0;for(a=0;a<8;a++)c[a]=n[a];for(;r>=64;){for(g(i,c,s,b),a=0;a<64;a++)e[t+a]=i[a];for(o=1,a=8;a<16;a++)o=o+(255&c[a])|0,c[a]=255&o,o>>>=8;r-=64,t+=64}if(r>0)for(g(i,c,s,b),a=0;a<r;a++)e[t+a]=i[a];return 0}function E(e,t,r,n,s){var o=new Uint8Array(32);y(o,n,s,b);for(var a=new Uint8Array(8),c=0;c<8;c++)a[c]=n[c+16];return $(e,t,r,a,o)}function _(e,t,r,n,s,o,a){var c=new Uint8Array(32);y(c,o,a,b);for(var i=new Uint8Array(8),l=0;l<8;l++)i[l]=o[l+16];return w(e,t,r,n,s,i,c)}var k=function(e){var t,r,n,s,o,a,c,i;this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0,t=255&e[0]|(255&e[1])<<8,this.r[0]=8191&t,r=255&e[2]|(255&e[3])<<8,this.r[1]=8191&(t>>>13|r<<3),n=255&e[4]|(255&e[5])<<8,this.r[2]=7939&(r>>>10|n<<6),s=255&e[6]|(255&e[7])<<8,this.r[3]=8191&(n>>>7|s<<9),o=255&e[8]|(255&e[9])<<8,this.r[4]=255&(s>>>4|o<<12),this.r[5]=o>>>1&8190,a=255&e[10]|(255&e[11])<<8,this.r[6]=8191&(o>>>14|a<<2),c=255&e[12]|(255&e[13])<<8,this.r[7]=8065&(a>>>11|c<<5),i=255&e[14]|(255&e[15])<<8,this.r[8]=8191&(c>>>8|i<<8),this.r[9]=i>>>5&127,this.pad[0]=255&e[16]|(255&e[17])<<8,this.pad[1]=255&e[18]|(255&e[19])<<8,this.pad[2]=255&e[20]|(255&e[21])<<8,this.pad[3]=255&e[22]|(255&e[23])<<8,this.pad[4]=255&e[24]|(255&e[25])<<8,this.pad[5]=255&e[26]|(255&e[27])<<8,this.pad[6]=255&e[28]|(255&e[29])<<8,this.pad[7]=255&e[30]|(255&e[31])<<8};function A(e,t,r,n,s,o){var a=new k(o);return a.update(r,n,s),a.finish(e,t),0}function S(e,t,r,n,s,o){var a=new Uint8Array(16);return A(a,0,r,n,s,o),m(e,t,a,0)}function x(e,t,r,n,s){var o;if(r<32)return-1;for(_(e,0,t,0,r,n,s),A(e,16,e,32,r-32,e),o=0;o<16;o++)e[o]=0;return 0}function P(e,t,r,n,s){var o,a=new Uint8Array(32);if(r<32)return-1;if(E(a,0,32,n,s),0!==S(t,16,t,32,r-32,a))return-1;for(_(e,0,t,0,r,n,s),o=0;o<32;o++)e[o]=0;return 0}function T(e,t){var r;for(r=0;r<16;r++)e[r]=0|t[r]}function N(e){var t,r,n=1;for(t=0;t<16;t++)r=e[t]+n+65535,n=Math.floor(r/65536),e[t]=r-65536*n;e[0]+=n-1+37*(n-1)}function I(e,t,r){for(var n,s=~(r-1),o=0;o<16;o++)n=s&(e[o]^t[o]),e[o]^=n,t[o]^=n}function O(e,r){var n,s,o,a=t(),c=t();for(n=0;n<16;n++)c[n]=r[n];for(N(c),N(c),N(c),s=0;s<2;s++){for(a[0]=c[0]-65517,n=1;n<15;n++)a[n]=c[n]-65535-(a[n-1]>>16&1),a[n-1]&=65535;a[15]=c[15]-32767-(a[14]>>16&1),o=a[15]>>16&1,a[14]&=65535,I(c,a,1-o)}for(n=0;n<16;n++)e[2*n]=255&c[n],e[2*n+1]=c[n]>>8}function M(e,t){var r=new Uint8Array(32),n=new Uint8Array(32);return O(r,e),O(n,t),v(r,0,n,0)}function R(e){var t=new Uint8Array(32);return O(t,e),1&t[0]}function C(e,t){var r;for(r=0;r<16;r++)e[r]=t[2*r]+(t[2*r+1]<<8);e[15]&=32767}function U(e,t,r){for(var n=0;n<16;n++)e[n]=t[n]+r[n]}function D(e,t,r){for(var n=0;n<16;n++)e[n]=t[n]-r[n]}function j(e,t,r){var n,s,o=0,a=0,c=0,i=0,l=0,h=0,u=0,f=0,d=0,p=0,m=0,v=0,g=0,y=0,b=0,w=0,$=0,E=0,_=0,k=0,A=0,S=0,x=0,P=0,T=0,N=0,I=0,O=0,M=0,R=0,C=0,U=r[0],D=r[1],j=r[2],V=r[3],q=r[4],B=r[5],L=r[6],z=r[7],K=r[8],F=r[9],H=r[10],Y=r[11],W=r[12],G=r[13],J=r[14],Q=r[15];o+=(n=t[0])*U,a+=n*D,c+=n*j,i+=n*V,l+=n*q,h+=n*B,u+=n*L,f+=n*z,d+=n*K,p+=n*F,m+=n*H,v+=n*Y,g+=n*W,y+=n*G,b+=n*J,w+=n*Q,a+=(n=t[1])*U,c+=n*D,i+=n*j,l+=n*V,h+=n*q,u+=n*B,f+=n*L,d+=n*z,p+=n*K,m+=n*F,v+=n*H,g+=n*Y,y+=n*W,b+=n*G,w+=n*J,$+=n*Q,c+=(n=t[2])*U,i+=n*D,l+=n*j,h+=n*V,u+=n*q,f+=n*B,d+=n*L,p+=n*z,m+=n*K,v+=n*F,g+=n*H,y+=n*Y,b+=n*W,w+=n*G,$+=n*J,E+=n*Q,i+=(n=t[3])*U,l+=n*D,h+=n*j,u+=n*V,f+=n*q,d+=n*B,p+=n*L,m+=n*z,v+=n*K,g+=n*F,y+=n*H,b+=n*Y,w+=n*W,$+=n*G,E+=n*J,_+=n*Q,l+=(n=t[4])*U,h+=n*D,u+=n*j,f+=n*V,d+=n*q,p+=n*B,m+=n*L,v+=n*z,g+=n*K,y+=n*F,b+=n*H,w+=n*Y,$+=n*W,E+=n*G,_+=n*J,k+=n*Q,h+=(n=t[5])*U,u+=n*D,f+=n*j,d+=n*V,p+=n*q,m+=n*B,v+=n*L,g+=n*z,y+=n*K,b+=n*F,w+=n*H,$+=n*Y,E+=n*W,_+=n*G,k+=n*J,A+=n*Q,u+=(n=t[6])*U,f+=n*D,d+=n*j,p+=n*V,m+=n*q,v+=n*B,g+=n*L,y+=n*z,b+=n*K,w+=n*F,$+=n*H,E+=n*Y,_+=n*W,k+=n*G,A+=n*J,S+=n*Q,f+=(n=t[7])*U,d+=n*D,p+=n*j,m+=n*V,v+=n*q,g+=n*B,y+=n*L,b+=n*z,w+=n*K,$+=n*F,E+=n*H,_+=n*Y,k+=n*W,A+=n*G,S+=n*J,x+=n*Q,d+=(n=t[8])*U,p+=n*D,m+=n*j,v+=n*V,g+=n*q,y+=n*B,b+=n*L,w+=n*z,$+=n*K,E+=n*F,_+=n*H,k+=n*Y,A+=n*W,S+=n*G,x+=n*J,P+=n*Q,p+=(n=t[9])*U,m+=n*D,v+=n*j,g+=n*V,y+=n*q,b+=n*B,w+=n*L,$+=n*z,E+=n*K,_+=n*F,k+=n*H,A+=n*Y,S+=n*W,x+=n*G,P+=n*J,T+=n*Q,m+=(n=t[10])*U,v+=n*D,g+=n*j,y+=n*V,b+=n*q,w+=n*B,$+=n*L,E+=n*z,_+=n*K,k+=n*F,A+=n*H,S+=n*Y,x+=n*W,P+=n*G,T+=n*J,N+=n*Q,v+=(n=t[11])*U,g+=n*D,y+=n*j,b+=n*V,w+=n*q,$+=n*B,E+=n*L,_+=n*z,k+=n*K,A+=n*F,S+=n*H,x+=n*Y,P+=n*W,T+=n*G,N+=n*J,I+=n*Q,g+=(n=t[12])*U,y+=n*D,b+=n*j,w+=n*V,$+=n*q,E+=n*B,_+=n*L,k+=n*z,A+=n*K,S+=n*F,x+=n*H,P+=n*Y,T+=n*W,N+=n*G,I+=n*J,O+=n*Q,y+=(n=t[13])*U,b+=n*D,w+=n*j,$+=n*V,E+=n*q,_+=n*B,k+=n*L,A+=n*z,S+=n*K,x+=n*F,P+=n*H,T+=n*Y,N+=n*W,I+=n*G,O+=n*J,M+=n*Q,b+=(n=t[14])*U,w+=n*D,$+=n*j,E+=n*V,_+=n*q,k+=n*B,A+=n*L,S+=n*z,x+=n*K,P+=n*F,T+=n*H,N+=n*Y,I+=n*W,O+=n*G,M+=n*J,R+=n*Q,w+=(n=t[15])*U,a+=38*(E+=n*j),c+=38*(_+=n*V),i+=38*(k+=n*q),l+=38*(A+=n*B),h+=38*(S+=n*L),u+=38*(x+=n*z),f+=38*(P+=n*K),d+=38*(T+=n*F),p+=38*(N+=n*H),m+=38*(I+=n*Y),v+=38*(O+=n*W),g+=38*(M+=n*G),y+=38*(R+=n*J),b+=38*(C+=n*Q),o=(n=(o+=38*($+=n*D))+(s=1)+65535)-65536*(s=Math.floor(n/65536)),a=(n=a+s+65535)-65536*(s=Math.floor(n/65536)),c=(n=c+s+65535)-65536*(s=Math.floor(n/65536)),i=(n=i+s+65535)-65536*(s=Math.floor(n/65536)),l=(n=l+s+65535)-65536*(s=Math.floor(n/65536)),h=(n=h+s+65535)-65536*(s=Math.floor(n/65536)),u=(n=u+s+65535)-65536*(s=Math.floor(n/65536)),f=(n=f+s+65535)-65536*(s=Math.floor(n/65536)),d=(n=d+s+65535)-65536*(s=Math.floor(n/65536)),p=(n=p+s+65535)-65536*(s=Math.floor(n/65536)),m=(n=m+s+65535)-65536*(s=Math.floor(n/65536)),v=(n=v+s+65535)-65536*(s=Math.floor(n/65536)),g=(n=g+s+65535)-65536*(s=Math.floor(n/65536)),y=(n=y+s+65535)-65536*(s=Math.floor(n/65536)),b=(n=b+s+65535)-65536*(s=Math.floor(n/65536)),w=(n=w+s+65535)-65536*(s=Math.floor(n/65536)),o=(n=(o+=s-1+37*(s-1))+(s=1)+65535)-65536*(s=Math.floor(n/65536)),a=(n=a+s+65535)-65536*(s=Math.floor(n/65536)),c=(n=c+s+65535)-65536*(s=Math.floor(n/65536)),i=(n=i+s+65535)-65536*(s=Math.floor(n/65536)),l=(n=l+s+65535)-65536*(s=Math.floor(n/65536)),h=(n=h+s+65535)-65536*(s=Math.floor(n/65536)),u=(n=u+s+65535)-65536*(s=Math.floor(n/65536)),f=(n=f+s+65535)-65536*(s=Math.floor(n/65536)),d=(n=d+s+65535)-65536*(s=Math.floor(n/65536)),p=(n=p+s+65535)-65536*(s=Math.floor(n/65536)),m=(n=m+s+65535)-65536*(s=Math.floor(n/65536)),v=(n=v+s+65535)-65536*(s=Math.floor(n/65536)),g=(n=g+s+65535)-65536*(s=Math.floor(n/65536)),y=(n=y+s+65535)-65536*(s=Math.floor(n/65536)),b=(n=b+s+65535)-65536*(s=Math.floor(n/65536)),w=(n=w+s+65535)-65536*(s=Math.floor(n/65536)),o+=s-1+37*(s-1),e[0]=o,e[1]=a,e[2]=c,e[3]=i,e[4]=l,e[5]=h,e[6]=u,e[7]=f,e[8]=d,e[9]=p,e[10]=m,e[11]=v,e[12]=g,e[13]=y,e[14]=b,e[15]=w}function V(e,t){j(e,t,t)}function q(e,r){var n,s=t();for(n=0;n<16;n++)s[n]=r[n];for(n=253;n>=0;n--)V(s,s),2!==n&&4!==n&&j(s,s,r);for(n=0;n<16;n++)e[n]=s[n]}function B(e,r){var n,s=t();for(n=0;n<16;n++)s[n]=r[n];for(n=250;n>=0;n--)V(s,s),1!==n&&j(s,s,r);for(n=0;n<16;n++)e[n]=s[n]}function L(e,r,n){var s,o,a=new Uint8Array(32),i=new Float64Array(80),l=t(),h=t(),u=t(),f=t(),d=t(),p=t();for(o=0;o<31;o++)a[o]=r[o];for(a[31]=127&r[31]|64,a[0]&=248,C(i,n),o=0;o<16;o++)h[o]=i[o],f[o]=l[o]=u[o]=0;for(l[0]=f[0]=1,o=254;o>=0;--o)I(l,h,s=a[o>>>3]>>>(7&o)&1),I(u,f,s),U(d,l,u),D(l,l,u),U(u,h,f),D(h,h,f),V(f,d),V(p,l),j(l,u,l),j(u,h,d),U(d,l,u),D(l,l,u),V(h,l),D(u,f,p),j(l,u,c),U(l,l,f),j(u,u,l),j(l,f,p),j(f,h,i),V(h,d),I(l,h,s),I(u,f,s);for(o=0;o<16;o++)i[o+16]=l[o],i[o+32]=u[o],i[o+48]=h[o],i[o+64]=f[o];var m=i.subarray(32),v=i.subarray(16);return q(m,m),j(v,v,m),O(e,v),0}function z(e,t){return L(e,t,s)}function K(e,t){return r(t,32),z(e,t)}function F(e,t,r){var s=new Uint8Array(32);return L(s,r,t),y(e,n,s,b)}k.prototype.blocks=function(e,t,r){for(var n,s,o,a,c,i,l,h,u,f,d,p,m,v,g,y,b,w,$,E=this.fin?0:2048,_=this.h[0],k=this.h[1],A=this.h[2],S=this.h[3],x=this.h[4],P=this.h[5],T=this.h[6],N=this.h[7],I=this.h[8],O=this.h[9],M=this.r[0],R=this.r[1],C=this.r[2],U=this.r[3],D=this.r[4],j=this.r[5],V=this.r[6],q=this.r[7],B=this.r[8],L=this.r[9];r>=16;)f=u=0,f+=(_+=8191&(n=255&e[t+0]|(255&e[t+1])<<8))*M,f+=(k+=8191&(n>>>13|(s=255&e[t+2]|(255&e[t+3])<<8)<<3))*(5*L),f+=(A+=8191&(s>>>10|(o=255&e[t+4]|(255&e[t+5])<<8)<<6))*(5*B),f+=(S+=8191&(o>>>7|(a=255&e[t+6]|(255&e[t+7])<<8)<<9))*(5*q),u=(f+=(x+=8191&(a>>>4|(c=255&e[t+8]|(255&e[t+9])<<8)<<12))*(5*V))>>>13,f&=8191,f+=(P+=c>>>1&8191)*(5*j),f+=(T+=8191&(c>>>14|(i=255&e[t+10]|(255&e[t+11])<<8)<<2))*(5*D),f+=(N+=8191&(i>>>11|(l=255&e[t+12]|(255&e[t+13])<<8)<<5))*(5*U),f+=(I+=8191&(l>>>8|(h=255&e[t+14]|(255&e[t+15])<<8)<<8))*(5*C),d=u+=(f+=(O+=h>>>5|E)*(5*R))>>>13,d+=_*R,d+=k*M,d+=A*(5*L),d+=S*(5*B),u=(d+=x*(5*q))>>>13,d&=8191,d+=P*(5*V),d+=T*(5*j),d+=N*(5*D),d+=I*(5*U),u+=(d+=O*(5*C))>>>13,d&=8191,p=u,p+=_*C,p+=k*R,p+=A*M,p+=S*(5*L),u=(p+=x*(5*B))>>>13,p&=8191,p+=P*(5*q),p+=T*(5*V),p+=N*(5*j),p+=I*(5*D),m=u+=(p+=O*(5*U))>>>13,m+=_*U,m+=k*C,m+=A*R,m+=S*M,u=(m+=x*(5*L))>>>13,m&=8191,m+=P*(5*B),m+=T*(5*q),m+=N*(5*V),m+=I*(5*j),v=u+=(m+=O*(5*D))>>>13,v+=_*D,v+=k*U,v+=A*C,v+=S*R,u=(v+=x*M)>>>13,v&=8191,v+=P*(5*L),v+=T*(5*B),v+=N*(5*q),v+=I*(5*V),g=u+=(v+=O*(5*j))>>>13,g+=_*j,g+=k*D,g+=A*U,g+=S*C,u=(g+=x*R)>>>13,g&=8191,g+=P*M,g+=T*(5*L),g+=N*(5*B),g+=I*(5*q),y=u+=(g+=O*(5*V))>>>13,y+=_*V,y+=k*j,y+=A*D,y+=S*U,u=(y+=x*C)>>>13,y&=8191,y+=P*R,y+=T*M,y+=N*(5*L),y+=I*(5*B),b=u+=(y+=O*(5*q))>>>13,b+=_*q,b+=k*V,b+=A*j,b+=S*D,u=(b+=x*U)>>>13,b&=8191,b+=P*C,b+=T*R,b+=N*M,b+=I*(5*L),w=u+=(b+=O*(5*B))>>>13,w+=_*B,w+=k*q,w+=A*V,w+=S*j,u=(w+=x*D)>>>13,w&=8191,w+=P*U,w+=T*C,w+=N*R,w+=I*M,$=u+=(w+=O*(5*L))>>>13,$+=_*L,$+=k*B,$+=A*q,$+=S*V,u=($+=x*j)>>>13,$&=8191,$+=P*D,$+=T*U,$+=N*C,$+=I*R,_=f=8191&(u=(u=((u+=($+=O*M)>>>13)<<2)+u|0)+(f&=8191)|0),k=d+=u>>>=13,A=p&=8191,S=m&=8191,x=v&=8191,P=g&=8191,T=y&=8191,N=b&=8191,I=w&=8191,O=$&=8191,t+=16,r-=16;this.h[0]=_,this.h[1]=k,this.h[2]=A,this.h[3]=S,this.h[4]=x,this.h[5]=P,this.h[6]=T,this.h[7]=N,this.h[8]=I,this.h[9]=O},k.prototype.finish=function(e,t){var r,n,s,o,a=new Uint16Array(10);if(this.leftover){for(o=this.leftover,this.buffer[o++]=1;o<16;o++)this.buffer[o]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(r=this.h[1]>>>13,this.h[1]&=8191,o=2;o<10;o++)this.h[o]+=r,r=this.h[o]>>>13,this.h[o]&=8191;for(this.h[0]+=5*r,r=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=r,r=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=r,a[0]=this.h[0]+5,r=a[0]>>>13,a[0]&=8191,o=1;o<10;o++)a[o]=this.h[o]+r,r=a[o]>>>13,a[o]&=8191;for(a[9]-=8192,n=(1^r)-1,o=0;o<10;o++)a[o]&=n;for(n=~n,o=0;o<10;o++)this.h[o]=this.h[o]&n|a[o];for(this.h[0]=65535&(this.h[0]|this.h[1]<<13),this.h[1]=65535&(this.h[1]>>>3|this.h[2]<<10),this.h[2]=65535&(this.h[2]>>>6|this.h[3]<<7),this.h[3]=65535&(this.h[3]>>>9|this.h[4]<<4),this.h[4]=65535&(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14),this.h[5]=65535&(this.h[6]>>>2|this.h[7]<<11),this.h[6]=65535&(this.h[7]>>>5|this.h[8]<<8),this.h[7]=65535&(this.h[8]>>>8|this.h[9]<<5),s=this.h[0]+this.pad[0],this.h[0]=65535&s,o=1;o<8;o++)s=(this.h[o]+this.pad[o]|0)+(s>>>16)|0,this.h[o]=65535&s;e[t+0]=this.h[0]>>>0&255,e[t+1]=this.h[0]>>>8&255,e[t+2]=this.h[1]>>>0&255,e[t+3]=this.h[1]>>>8&255,e[t+4]=this.h[2]>>>0&255,e[t+5]=this.h[2]>>>8&255,e[t+6]=this.h[3]>>>0&255,e[t+7]=this.h[3]>>>8&255,e[t+8]=this.h[4]>>>0&255,e[t+9]=this.h[4]>>>8&255,e[t+10]=this.h[5]>>>0&255,e[t+11]=this.h[5]>>>8&255,e[t+12]=this.h[6]>>>0&255,e[t+13]=this.h[6]>>>8&255,e[t+14]=this.h[7]>>>0&255,e[t+15]=this.h[7]>>>8&255},k.prototype.update=function(e,t,r){var n,s;if(this.leftover){for((s=16-this.leftover)>r&&(s=r),n=0;n<s;n++)this.buffer[this.leftover+n]=e[t+n];if(r-=s,t+=s,this.leftover+=s,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(r>=16&&(s=r-r%16,this.blocks(e,t,s),t+=s,r-=s),r){for(n=0;n<r;n++)this.buffer[this.leftover+n]=e[t+n];this.leftover+=r}};var H=x,Y=P;var W=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function G(e,t,r,n){for(var s,o,a,c,i,l,h,u,f,d,p,m,v,g,y,b,w,$,E,_,k,A,S,x,P,T,N=new Int32Array(16),I=new Int32Array(16),O=e[0],M=e[1],R=e[2],C=e[3],U=e[4],D=e[5],j=e[6],V=e[7],q=t[0],B=t[1],L=t[2],z=t[3],K=t[4],F=t[5],H=t[6],Y=t[7],G=0;n>=128;){for(E=0;E<16;E++)_=8*E+G,N[E]=r[_+0]<<24|r[_+1]<<16|r[_+2]<<8|r[_+3],I[E]=r[_+4]<<24|r[_+5]<<16|r[_+6]<<8|r[_+7];for(E=0;E<80;E++)if(s=O,o=M,a=R,c=C,i=U,l=D,h=j,V,f=q,d=B,p=L,m=z,v=K,g=F,y=H,Y,S=65535&(A=Y),x=A>>>16,P=65535&(k=V),T=k>>>16,S+=65535&(A=(K>>>14|U<<18)^(K>>>18|U<<14)^(U>>>9|K<<23)),x+=A>>>16,P+=65535&(k=(U>>>14|K<<18)^(U>>>18|K<<14)^(K>>>9|U<<23)),T+=k>>>16,S+=65535&(A=K&F^~K&H),x+=A>>>16,P+=65535&(k=U&D^~U&j),T+=k>>>16,S+=65535&(A=W[2*E+1]),x+=A>>>16,P+=65535&(k=W[2*E]),T+=k>>>16,k=N[E%16],x+=(A=I[E%16])>>>16,P+=65535&k,T+=k>>>16,P+=(x+=(S+=65535&A)>>>16)>>>16,S=65535&(A=$=65535&S|x<<16),x=A>>>16,P=65535&(k=w=65535&P|(T+=P>>>16)<<16),T=k>>>16,S+=65535&(A=(q>>>28|O<<4)^(O>>>2|q<<30)^(O>>>7|q<<25)),x+=A>>>16,P+=65535&(k=(O>>>28|q<<4)^(q>>>2|O<<30)^(q>>>7|O<<25)),T+=k>>>16,x+=(A=q&B^q&L^B&L)>>>16,P+=65535&(k=O&M^O&R^M&R),T+=k>>>16,u=65535&(P+=(x+=(S+=65535&A)>>>16)>>>16)|(T+=P>>>16)<<16,b=65535&S|x<<16,S=65535&(A=m),x=A>>>16,P=65535&(k=c),T=k>>>16,x+=(A=$)>>>16,P+=65535&(k=w),T+=k>>>16,M=s,R=o,C=a,U=c=65535&(P+=(x+=(S+=65535&A)>>>16)>>>16)|(T+=P>>>16)<<16,D=i,j=l,V=h,O=u,B=f,L=d,z=p,K=m=65535&S|x<<16,F=v,H=g,Y=y,q=b,E%16==15)for(_=0;_<16;_++)k=N[_],S=65535&(A=I[_]),x=A>>>16,P=65535&k,T=k>>>16,k=N[(_+9)%16],S+=65535&(A=I[(_+9)%16]),x+=A>>>16,P+=65535&k,T+=k>>>16,w=N[(_+1)%16],S+=65535&(A=(($=I[(_+1)%16])>>>1|w<<31)^($>>>8|w<<24)^($>>>7|w<<25)),x+=A>>>16,P+=65535&(k=(w>>>1|$<<31)^(w>>>8|$<<24)^w>>>7),T+=k>>>16,w=N[(_+14)%16],x+=(A=(($=I[(_+14)%16])>>>19|w<<13)^(w>>>29|$<<3)^($>>>6|w<<26))>>>16,P+=65535&(k=(w>>>19|$<<13)^($>>>29|w<<3)^w>>>6),T+=k>>>16,T+=(P+=(x+=(S+=65535&A)>>>16)>>>16)>>>16,N[_]=65535&P|T<<16,I[_]=65535&S|x<<16;S=65535&(A=q),x=A>>>16,P=65535&(k=O),T=k>>>16,k=e[0],x+=(A=t[0])>>>16,P+=65535&k,T+=k>>>16,T+=(P+=(x+=(S+=65535&A)>>>16)>>>16)>>>16,e[0]=O=65535&P|T<<16,t[0]=q=65535&S|x<<16,S=65535&(A=B),x=A>>>16,P=65535&(k=M),T=k>>>16,k=e[1],x+=(A=t[1])>>>16,P+=65535&k,T+=k>>>16,T+=(P+=(x+=(S+=65535&A)>>>16)>>>16)>>>16,e[1]=M=65535&P|T<<16,t[1]=B=65535&S|x<<16,S=65535&(A=L),x=A>>>16,P=65535&(k=R),T=k>>>16,k=e[2],x+=(A=t[2])>>>16,P+=65535&k,T+=k>>>16,T+=(P+=(x+=(S+=65535&A)>>>16)>>>16)>>>16,e[2]=R=65535&P|T<<16,t[2]=L=65535&S|x<<16,S=65535&(A=z),x=A>>>16,P=65535&(k=C),T=k>>>16,k=e[3],x+=(A=t[3])>>>16,P+=65535&k,T+=k>>>16,T+=(P+=(x+=(S+=65535&A)>>>16)>>>16)>>>16,e[3]=C=65535&P|T<<16,t[3]=z=65535&S|x<<16,S=65535&(A=K),x=A>>>16,P=65535&(k=U),T=k>>>16,k=e[4],x+=(A=t[4])>>>16,P+=65535&k,T+=k>>>16,T+=(P+=(x+=(S+=65535&A)>>>16)>>>16)>>>16,e[4]=U=65535&P|T<<16,t[4]=K=65535&S|x<<16,S=65535&(A=F),x=A>>>16,P=65535&(k=D),T=k>>>16,k=e[5],x+=(A=t[5])>>>16,P+=65535&k,T+=k>>>16,T+=(P+=(x+=(S+=65535&A)>>>16)>>>16)>>>16,e[5]=D=65535&P|T<<16,t[5]=F=65535&S|x<<16,S=65535&(A=H),x=A>>>16,P=65535&(k=j),T=k>>>16,k=e[6],x+=(A=t[6])>>>16,P+=65535&k,T+=k>>>16,T+=(P+=(x+=(S+=65535&A)>>>16)>>>16)>>>16,e[6]=j=65535&P|T<<16,t[6]=H=65535&S|x<<16,S=65535&(A=Y),x=A>>>16,P=65535&(k=V),T=k>>>16,k=e[7],x+=(A=t[7])>>>16,P+=65535&k,T+=k>>>16,T+=(P+=(x+=(S+=65535&A)>>>16)>>>16)>>>16,e[7]=V=65535&P|T<<16,t[7]=Y=65535&S|x<<16,G+=128,n-=128}return n}function J(e,t,r){var n,s=new Int32Array(8),o=new Int32Array(8),a=new Uint8Array(256),c=r;for(s[0]=1779033703,s[1]=3144134277,s[2]=1013904242,s[3]=2773480762,s[4]=1359893119,s[5]=2600822924,s[6]=528734635,s[7]=1541459225,o[0]=4089235720,o[1]=2227873595,o[2]=4271175723,o[3]=1595750129,o[4]=2917565137,o[5]=725511199,o[6]=4215389547,o[7]=327033209,G(s,o,t,r),r%=128,n=0;n<r;n++)a[n]=t[c-r+n];for(a[r]=128,a[(r=256-128*(r<112?1:0))-9]=0,d(a,r-8,c/536870912|0,c<<3),G(s,o,a,r),n=0;n<8;n++)d(e,8*n,s[n],o[n]);return 0}function Q(e,r){var n=t(),s=t(),o=t(),a=t(),c=t(),i=t(),h=t(),u=t(),f=t();D(n,e[1],e[0]),D(f,r[1],r[0]),j(n,n,f),U(s,e[0],e[1]),U(f,r[0],r[1]),j(s,s,f),j(o,e[3],r[3]),j(o,o,l),j(a,e[2],r[2]),U(a,a,a),D(c,s,n),D(i,a,o),U(h,a,o),U(u,s,n),j(e[0],c,i),j(e[1],u,h),j(e[2],h,i),j(e[3],c,u)}function Z(e,t,r){var n;for(n=0;n<4;n++)I(e[n],t[n],r)}function X(e,r){var n=t(),s=t(),o=t();q(o,r[2]),j(n,r[0],o),j(s,r[1],o),O(e,s),e[31]^=R(n)<<7}function ee(e,t,r){var n,s;for(T(e[0],o),T(e[1],a),T(e[2],a),T(e[3],o),s=255;s>=0;--s)Z(e,t,n=r[s/8|0]>>(7&s)&1),Q(t,e),Q(e,e),Z(e,t,n)}function te(e,r){var n=[t(),t(),t(),t()];T(n[0],h),T(n[1],u),T(n[2],a),j(n[3],h,u),ee(e,n,r)}function re(e,n,s){var o,a=new Uint8Array(64),c=[t(),t(),t(),t()];for(s||r(n,32),J(a,n,32),a[0]&=248,a[31]&=127,a[31]|=64,te(c,a),X(e,c),o=0;o<32;o++)n[o+32]=e[o];return 0}var ne=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function se(e,t){var r,n,s,o;for(n=63;n>=32;--n){for(r=0,s=n-32,o=n-12;s<o;++s)t[s]+=r-16*t[n]*ne[s-(n-32)],r=Math.floor((t[s]+128)/256),t[s]-=256*r;t[s]+=r,t[n]=0}for(r=0,s=0;s<32;s++)t[s]+=r-(t[31]>>4)*ne[s],r=t[s]>>8,t[s]&=255;for(s=0;s<32;s++)t[s]-=r*ne[s];for(n=0;n<32;n++)t[n+1]+=t[n]>>8,e[n]=255&t[n]}function oe(e){var t,r=new Float64Array(64);for(t=0;t<64;t++)r[t]=e[t];for(t=0;t<64;t++)e[t]=0;se(e,r)}function ae(e,r,n,s){var o,a,c=new Uint8Array(64),i=new Uint8Array(64),l=new Uint8Array(64),h=new Float64Array(64),u=[t(),t(),t(),t()];J(c,s,32),c[0]&=248,c[31]&=127,c[31]|=64;var f=n+64;for(o=0;o<n;o++)e[64+o]=r[o];for(o=0;o<32;o++)e[32+o]=c[32+o];for(J(l,e.subarray(32),n+32),oe(l),te(u,l),X(e,u),o=32;o<64;o++)e[o]=s[o];for(J(i,e,n+64),oe(i),o=0;o<64;o++)h[o]=0;for(o=0;o<32;o++)h[o]=l[o];for(o=0;o<32;o++)for(a=0;a<32;a++)h[o+a]+=i[o]*c[a];return se(e.subarray(32),h),f}function ce(e,r,n,s){var c,l=new Uint8Array(32),h=new Uint8Array(64),u=[t(),t(),t(),t()],d=[t(),t(),t(),t()];if(n<64)return-1;if(function(e,r){var n=t(),s=t(),c=t(),l=t(),h=t(),u=t(),d=t();return T(e[2],a),C(e[1],r),V(c,e[1]),j(l,c,i),D(c,c,e[2]),U(l,e[2],l),V(h,l),V(u,h),j(d,u,h),j(n,d,c),j(n,n,l),B(n,n),j(n,n,c),j(n,n,l),j(n,n,l),j(e[0],n,l),V(s,e[0]),j(s,s,l),M(s,c)&&j(e[0],e[0],f),V(s,e[0]),j(s,s,l),M(s,c)?-1:(R(e[0])===r[31]>>7&&D(e[0],o,e[0]),j(e[3],e[0],e[1]),0)}(d,s))return-1;for(c=0;c<n;c++)e[c]=r[c];for(c=0;c<32;c++)e[c+32]=s[c];if(J(h,e,n),oe(h),ee(u,d,h),te(d,r.subarray(32)),Q(u,d),X(l,u),n-=64,v(r,0,l,0)){for(c=0;c<n;c++)e[c]=0;return-1}for(c=0;c<n;c++)e[c]=r[c+64];return n}var ie=16,le=64,he=32,ue=64;function fe(e,t){if(32!==e.length)throw new Error("bad key size");if(24!==t.length)throw new Error("bad nonce size")}function de(){for(var e=0;e<arguments.length;e++)if(!(arguments[e]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function pe(e){for(var t=0;t<e.length;t++)e[t]=0}e.lowlevel={crypto_core_hsalsa20:y,crypto_stream_xor:_,crypto_stream:E,crypto_stream_salsa20_xor:w,crypto_stream_salsa20:$,crypto_onetimeauth:A,crypto_onetimeauth_verify:S,crypto_verify_16:m,crypto_verify_32:v,crypto_secretbox:x,crypto_secretbox_open:P,crypto_scalarmult:L,crypto_scalarmult_base:z,crypto_box_beforenm:F,crypto_box_afternm:H,crypto_box:function(e,t,r,n,s,o){var a=new Uint8Array(32);return F(a,s,o),H(e,t,r,n,a)},crypto_box_open:function(e,t,r,n,s,o){var a=new Uint8Array(32);return F(a,s,o),Y(e,t,r,n,a)},crypto_box_keypair:K,crypto_hash:J,crypto_sign:ae,crypto_sign_keypair:re,crypto_sign_open:ce,crypto_secretbox_KEYBYTES:32,crypto_secretbox_NONCEBYTES:24,crypto_secretbox_ZEROBYTES:32,crypto_secretbox_BOXZEROBYTES:ie,crypto_scalarmult_BYTES:32,crypto_scalarmult_SCALARBYTES:32,crypto_box_PUBLICKEYBYTES:32,crypto_box_SECRETKEYBYTES:32,crypto_box_BEFORENMBYTES:32,crypto_box_NONCEBYTES:24,crypto_box_ZEROBYTES:32,crypto_box_BOXZEROBYTES:16,crypto_sign_BYTES:le,crypto_sign_PUBLICKEYBYTES:he,crypto_sign_SECRETKEYBYTES:ue,crypto_sign_SEEDBYTES:32,crypto_hash_BYTES:64,gf:t,D:i,L:ne,pack25519:O,unpack25519:C,M:j,A:U,S:V,Z:D,pow2523:B,add:Q,set25519:T,modL:se,scalarmult:ee,scalarbase:te},e.randomBytes=function(e){var t=new Uint8Array(e);return r(t,e),t},e.secretbox=function(e,t,r){de(e,t,r),fe(r,t);for(var n=new Uint8Array(32+e.length),s=new Uint8Array(n.length),o=0;o<e.length;o++)n[o+32]=e[o];return x(s,n,n.length,t,r),s.subarray(ie)},e.secretbox.open=function(e,t,r){de(e,t,r),fe(r,t);for(var n=new Uint8Array(ie+e.length),s=new Uint8Array(n.length),o=0;o<e.length;o++)n[o+ie]=e[o];return n.length<32||0!==P(s,n,n.length,t,r)?null:s.subarray(32)},e.secretbox.keyLength=32,e.secretbox.nonceLength=24,e.secretbox.overheadLength=ie,e.scalarMult=function(e,t){if(de(e,t),32!==e.length)throw new Error("bad n size");if(32!==t.length)throw new Error("bad p size");var r=new Uint8Array(32);return L(r,e,t),r},e.scalarMult.base=function(e){if(de(e),32!==e.length)throw new Error("bad n size");var t=new Uint8Array(32);return z(t,e),t},e.scalarMult.scalarLength=32,e.scalarMult.groupElementLength=32,e.box=function(t,r,n,s){var o=e.box.before(n,s);return e.secretbox(t,r,o)},e.box.before=function(e,t){de(e,t),function(e,t){if(32!==e.length)throw new Error("bad public key size");if(32!==t.length)throw new Error("bad secret key size")}(e,t);var r=new Uint8Array(32);return F(r,e,t),r},e.box.after=e.secretbox,e.box.open=function(t,r,n,s){var o=e.box.before(n,s);return e.secretbox.open(t,r,o)},e.box.open.after=e.secretbox.open,e.box.keyPair=function(){var e=new Uint8Array(32),t=new Uint8Array(32);return K(e,t),{publicKey:e,secretKey:t}},e.box.keyPair.fromSecretKey=function(e){if(de(e),32!==e.length)throw new Error("bad secret key size");var t=new Uint8Array(32);return z(t,e),{publicKey:t,secretKey:new Uint8Array(e)}},e.box.publicKeyLength=32,e.box.secretKeyLength=32,e.box.sharedKeyLength=32,e.box.nonceLength=24,e.box.overheadLength=e.secretbox.overheadLength,e.sign=function(e,t){if(de(e,t),t.length!==ue)throw new Error("bad secret key size");var r=new Uint8Array(le+e.length);return ae(r,e,e.length,t),r},e.sign.open=function(e,t){if(de(e,t),t.length!==he)throw new Error("bad public key size");var r=new Uint8Array(e.length),n=ce(r,e,e.length,t);if(n<0)return null;for(var s=new Uint8Array(n),o=0;o<s.length;o++)s[o]=r[o];return s},e.sign.detached=function(t,r){for(var n=e.sign(t,r),s=new Uint8Array(le),o=0;o<s.length;o++)s[o]=n[o];return s},e.sign.detached.verify=function(e,t,r){if(de(e,t,r),t.length!==le)throw new Error("bad signature size");if(r.length!==he)throw new Error("bad public key size");var n,s=new Uint8Array(le+e.length),o=new Uint8Array(le+e.length);for(n=0;n<le;n++)s[n]=t[n];for(n=0;n<e.length;n++)s[n+le]=e[n];return ce(o,s,s.length,r)>=0},e.sign.keyPair=function(){var e=new Uint8Array(he),t=new Uint8Array(ue);return re(e,t),{publicKey:e,secretKey:t}},e.sign.keyPair.fromSecretKey=function(e){if(de(e),e.length!==ue)throw new Error("bad secret key size");for(var t=new Uint8Array(he),r=0;r<t.length;r++)t[r]=e[32+r];return{publicKey:t,secretKey:new Uint8Array(e)}},e.sign.keyPair.fromSeed=function(e){if(de(e),32!==e.length)throw new Error("bad seed size");for(var t=new Uint8Array(he),r=new Uint8Array(ue),n=0;n<32;n++)r[n]=e[n];return re(t,r,!0),{publicKey:t,secretKey:r}},e.sign.publicKeyLength=he,e.sign.secretKeyLength=ue,e.sign.seedLength=32,e.sign.signatureLength=le,e.hash=function(e){de(e);var t=new Uint8Array(64);return J(t,e,e.length),t},e.hash.hashLength=64,e.verify=function(e,t){return de(e,t),0!==e.length&&0!==t.length&&(e.length===t.length&&0===p(e,0,t,0,e.length))},e.setPRNG=function(e){r=e},function(){var t="undefined"!=typeof self?self.crypto||self.msCrypto:null;if(t&&t.getRandomValues){e.setPRNG((function(e,r){var n,s=new Uint8Array(r);for(n=0;n<r;n+=65536)t.getRandomValues(s.subarray(n,n+Math.min(r-n,65536)));for(n=0;n<r;n++)e[n]=s[n];pe(s)}))}else(t=me)&&t.randomBytes&&e.setPRNG((function(e,r){var n,s=t.randomBytes(r);for(n=0;n<r;n++)e[n]=s[n];pe(s)}))}()}(e.exports?e.exports:self.nacl=self.nacl||{})})),ge=fe((function(e){var t,r;t=ue,r=function(){var e={};function t(e){if(!/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/.test(e))throw new TypeError("invalid encoding")}return e.decodeUTF8=function(e){if("string"!=typeof e)throw new TypeError("expected string");var t,r=unescape(encodeURIComponent(e)),n=new Uint8Array(r.length);for(t=0;t<r.length;t++)n[t]=r.charCodeAt(t);return n},e.encodeUTF8=function(e){var t,r=[];for(t=0;t<e.length;t++)r.push(String.fromCharCode(e[t]));return decodeURIComponent(escape(r.join("")))},"undefined"==typeof atob?void 0!==Buffer.from?(e.encodeBase64=function(e){return Buffer.from(e).toString("base64")},e.decodeBase64=function(e){return t(e),new Uint8Array(Array.prototype.slice.call(Buffer.from(e,"base64"),0))}):(e.encodeBase64=function(e){return new Buffer(e).toString("base64")},e.decodeBase64=function(e){return t(e),new Uint8Array(Array.prototype.slice.call(new Buffer(e,"base64"),0))}):(e.encodeBase64=function(e){var t,r=[],n=e.length;for(t=0;t<n;t++)r.push(String.fromCharCode(e[t]));return btoa(r.join(""))},e.decodeBase64=function(e){t(e);var r,n=atob(e),s=new Uint8Array(n.length);for(r=0;r<n.length;r++)s[r]=n.charCodeAt(r);return s}),e},e.exports?e.exports=r():(t.nacl||(t.nacl={}),t.nacl.util=r())}));ve.util=ge,ve.util=ge,ve.util=ge,ve.util=ge,ve.util=ge;class ye{constructor(e,t){this.num=e,this.callback=t,this.counter=0}oneConditionFulfilled(){this.counter+=1,this.counter==this.num&&this.callback()}}var be,we=Object.freeze({__proto__:null,promiseTimeout:function(e,t){const r=new Promise(((t,r)=>{const n=setTimeout((()=>{clearTimeout(n),r(new Error(`Timed out in ${e} ms.`))}),e)}));return Promise.race([t,r])},requireConditions:function(e,t){return new ye(e,t)}}),$e=(be=function(e,t){return(be=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}be(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),Ee=Object.prototype.hasOwnProperty;
/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017 Joachim Wester
 * MIT license
 */function _e(e,t){return Ee.call(e,t)}function ke(e){if(Array.isArray(e)){for(var t=new Array(e.length),r=0;r<t.length;r++)t[r]=""+r;return t}if(Object.keys)return Object.keys(e);t=[];for(var n in e)_e(e,n)&&t.push(n);return t}function Ae(e){switch(typeof e){case"object":return JSON.parse(JSON.stringify(e));case"undefined":return null;default:return e}}function Se(e){for(var t,r=0,n=e.length;r<n;){if(!((t=e.charCodeAt(r))>=48&&t<=57))return!1;r++}return!0}function xe(e){return-1===e.indexOf("/")&&-1===e.indexOf("~")?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function Pe(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function Te(e){if(void 0===e)return!0;if(e)if(Array.isArray(e)){for(var t=0,r=e.length;t<r;t++)if(Te(e[t]))return!0}else if("object"==typeof e){var n=ke(e),s=n.length;for(t=0;t<s;t++)if(Te(e[n[t]]))return!0}return!1}function Ne(e,t){var r=[e];for(var n in t){var s="object"==typeof t[n]?JSON.stringify(t[n],null,2):t[n];void 0!==s&&r.push(n+": "+s)}return r.join("\n")}var Ie=function(e){function t(t,r,n,s,o){var a=this.constructor,c=e.call(this,Ne(t,{name:r,index:n,operation:s,tree:o}))||this;return c.name=r,c.index=n,c.operation=s,c.tree=o,Object.setPrototypeOf(c,a.prototype),c.message=Ne(t,{name:r,index:n,operation:s,tree:o}),c}return $e(t,e),t}(Error),Oe=Ie,Me=Ae,Re={add:function(e,t,r){return e[t]=this.value,{newDocument:r}},remove:function(e,t,r){var n=e[t];return delete e[t],{newDocument:r,removed:n}},replace:function(e,t,r){var n=e[t];return e[t]=this.value,{newDocument:r,removed:n}},move:function(e,t,r){var n=Ue(r,this.path);n&&(n=Ae(n));var s=De(r,{op:"remove",path:this.from}).removed;return De(r,{op:"add",path:this.path,value:s}),{newDocument:r,removed:n}},copy:function(e,t,r){var n=Ue(r,this.from);return De(r,{op:"add",path:this.path,value:Ae(n)}),{newDocument:r}},test:function(e,t,r){return{newDocument:r,test:Be(e[t],this.value)}},_get:function(e,t,r){return this.value=e[t],{newDocument:r}}},Ce={add:function(e,t,r){return Se(t)?e.splice(t,0,this.value):e[t]=this.value,{newDocument:r,index:t}},remove:function(e,t,r){return{newDocument:r,removed:e.splice(t,1)[0]}},replace:function(e,t,r){var n=e[t];return e[t]=this.value,{newDocument:r,removed:n}},move:Re.move,copy:Re.copy,test:Re.test,_get:Re._get};function Ue(e,t){if(""==t)return e;var r={op:"_get",path:t};return De(e,r),r.value}function De(e,t,r,n,s,o){if(void 0===r&&(r=!1),void 0===n&&(n=!0),void 0===s&&(s=!0),void 0===o&&(o=0),r&&("function"==typeof r?r(t,0,e,t.path):Ve(t,0)),""===t.path){var a={newDocument:e};if("add"===t.op)return a.newDocument=t.value,a;if("replace"===t.op)return a.newDocument=t.value,a.removed=e,a;if("move"===t.op||"copy"===t.op)return a.newDocument=Ue(e,t.from),"move"===t.op&&(a.removed=e),a;if("test"===t.op){if(a.test=Be(e,t.value),!1===a.test)throw new Oe("Test operation failed","TEST_OPERATION_FAILED",o,t,e);return a.newDocument=e,a}if("remove"===t.op)return a.removed=e,a.newDocument=null,a;if("_get"===t.op)return t.value=e,a;if(r)throw new Oe("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",o,t,e);return a}n||(e=Ae(e));var c=(t.path||"").split("/"),i=e,l=1,h=c.length,u=void 0,f=void 0,d=void 0;for(d="function"==typeof r?r:Ve;;){if(f=c[l],s&&"__proto__"==f)throw new TypeError("JSON-Patch: modifying `__proto__` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(r&&void 0===u&&(void 0===i[f]?u=c.slice(0,l).join("/"):l==h-1&&(u=t.path),void 0!==u&&d(t,0,e,u)),l++,Array.isArray(i)){if("-"===f)f=i.length;else{if(r&&!Se(f))throw new Oe("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",o,t,e);Se(f)&&(f=~~f)}if(l>=h){if(r&&"add"===t.op&&f>i.length)throw new Oe("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",o,t,e);if(!1===(a=Ce[t.op].call(t,i,f,e)).test)throw new Oe("Test operation failed","TEST_OPERATION_FAILED",o,t,e);return a}}else if(f&&-1!=f.indexOf("~")&&(f=Pe(f)),l>=h){if(!1===(a=Re[t.op].call(t,i,f,e)).test)throw new Oe("Test operation failed","TEST_OPERATION_FAILED",o,t,e);return a}i=i[f]}}function je(e,t,r,n,s){if(void 0===n&&(n=!0),void 0===s&&(s=!0),r&&!Array.isArray(t))throw new Oe("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");n||(e=Ae(e));for(var o=new Array(t.length),a=0,c=t.length;a<c;a++)o[a]=De(e,t[a],r,!0,s,a),e=o[a].newDocument;return o.newDocument=e,o}function Ve(e,t,r,n){if("object"!=typeof e||null===e||Array.isArray(e))throw new Oe("Operation is not an object","OPERATION_NOT_AN_OBJECT",t,e,r);if(!Re[e.op])throw new Oe("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",t,e,r);if("string"!=typeof e.path)throw new Oe("Operation `path` property is not a string","OPERATION_PATH_INVALID",t,e,r);if(0!==e.path.indexOf("/")&&e.path.length>0)throw new Oe('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",t,e,r);if(("move"===e.op||"copy"===e.op)&&"string"!=typeof e.from)throw new Oe("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",t,e,r);if(("add"===e.op||"replace"===e.op||"test"===e.op)&&void 0===e.value)throw new Oe("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",t,e,r);if(("add"===e.op||"replace"===e.op||"test"===e.op)&&Te(e.value))throw new Oe("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",t,e,r);if(r)if("add"==e.op){var s=e.path.split("/").length,o=n.split("/").length;if(s!==o+1&&s!==o)throw new Oe("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",t,e,r)}else if("replace"===e.op||"remove"===e.op||"_get"===e.op){if(e.path!==n)throw new Oe("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",t,e,r)}else if("move"===e.op||"copy"===e.op){var a=qe([{op:"_get",path:e.from,value:void 0}],r);if(a&&"OPERATION_PATH_UNRESOLVABLE"===a.name)throw new Oe("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",t,e,r)}}function qe(e,t,r){try{if(!Array.isArray(e))throw new Oe("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(t)je(Ae(t),Ae(e),r||!0);else{r=r||Ve;for(var n=0;n<e.length;n++)r(e[n],n,t,void 0)}}catch(s){if(s instanceof Oe)return s;throw s}}function Be(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){var r,n,s,o=Array.isArray(e),a=Array.isArray(t);if(o&&a){if((n=e.length)!=t.length)return!1;for(r=n;0!=r--;)if(!Be(e[r],t[r]))return!1;return!0}if(o!=a)return!1;var c=Object.keys(e);if((n=c.length)!==Object.keys(t).length)return!1;for(r=n;0!=r--;)if(!t.hasOwnProperty(c[r]))return!1;for(r=n;0!=r--;)if(!Be(e[s=c[r]],t[s]))return!1;return!0}return e!=e&&t!=t}var Le=Object.freeze({__proto__:null,JsonPatchError:Oe,deepClone:Me,getValueByPointer:Ue,applyOperation:De,applyPatch:je,applyReducer:function(e,t,r){var n=De(e,t);if(!1===n.test)throw new Oe("Test operation failed","TEST_OPERATION_FAILED",r,t,e);return n.newDocument},validator:Ve,validate:qe,_areEquals:Be}),ze=new WeakMap,Ke=function(e){this.observers=new Map,this.obj=e},Fe=function(e,t){this.callback=e,this.observer=t};
/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017 Joachim Wester
 * MIT license
 */function He(e,t){void 0===t&&(t=!1);var r=ze.get(e.object);Ye(r.value,e.object,e.patches,"",t),e.patches.length&&je(r.value,e.patches);var n=e.patches;return n.length>0&&(e.patches=[],e.callback&&e.callback(n)),n}function Ye(e,t,r,n,s){if(t!==e){"function"==typeof t.toJSON&&(t=t.toJSON());for(var o=ke(t),a=ke(e),c=!1,i=a.length-1;i>=0;i--){var l=e[u=a[i]];if(!_e(t,u)||void 0===t[u]&&void 0!==l&&!1===Array.isArray(t))Array.isArray(e)===Array.isArray(t)?(s&&r.push({op:"test",path:n+"/"+xe(u),value:Ae(l)}),r.push({op:"remove",path:n+"/"+xe(u)}),c=!0):(s&&r.push({op:"test",path:n,value:e}),r.push({op:"replace",path:n,value:t}));else{var h=t[u];"object"==typeof l&&null!=l&&"object"==typeof h&&null!=h?Ye(l,h,r,n+"/"+xe(u),s):l!==h&&(s&&r.push({op:"test",path:n+"/"+xe(u),value:Ae(l)}),r.push({op:"replace",path:n+"/"+xe(u),value:Ae(h)}))}}if(c||o.length!=a.length)for(i=0;i<o.length;i++){var u;_e(e,u=o[i])||void 0===t[u]||r.push({op:"add",path:n+"/"+xe(u),value:Ae(t[u])})}}}var We=Object.freeze({__proto__:null,unobserve:function(e,t){t.unobserve()},observe:function(e,t){var r,n=function(e){return ze.get(e)}(e);if(n){var s=function(e,t){return e.observers.get(t)}(n,t);r=s&&s.observer}else n=new Ke(e),ze.set(e,n);if(r)return r;if(r={},n.value=Ae(e),t){r.callback=t,r.next=null;var o=function(){He(r)},a=function(){clearTimeout(r.next),r.next=setTimeout(o)};"undefined"!=typeof window&&(window.addEventListener("mouseup",a),window.addEventListener("keyup",a),window.addEventListener("mousedown",a),window.addEventListener("keydown",a),window.addEventListener("change",a))}return r.patches=[],r.object=e,r.unobserve=function(){He(r),clearTimeout(r.next),function(e,t){e.observers.delete(t.callback)}(n,r),"undefined"!=typeof window&&(window.removeEventListener("mouseup",a),window.removeEventListener("keyup",a),window.removeEventListener("mousedown",a),window.removeEventListener("keydown",a),window.removeEventListener("change",a))},n.observers.set(t,new Fe(t,r)),r},generate:He,compare:function(e,t,r){void 0===r&&(r=!1);var n=[];return Ye(e,t,n,"",r),n}}),Ge=Object.assign({},Le,We,{JsonPatchError:Ie,deepClone:Ae,escapePathComponent:xe,unescapePathComponent:Pe});function Je(){}class Qe{constructor(e,t,r){this.prev=e,this.next=t,this.fn=r||Je}run(e){this.fn(e),this.next&&this.next.run(e)}}class Ze{constructor(e){this.head=new Qe,this.tail=new Qe(this.head),this.head.next=this.tail,this.linkConstructor=e,this.reg={}}insert(e){const t=new Qe(this.tail.prev,this.tail,e);return t.next.prev=t,t.prev.next=t,t}remove(e){e.prev.next=e.next,e.next.prev=e.prev}}let Xe=0;const et=/[\s,]+/g;class tt{constructor(){this.__events_list={}}on(e,t){e.split(et).forEach((e=>{const r=this.__events_list[e]||(this.__events_list[e]=new Ze),n=t._eev||(t._eev=++Xe);r.reg[n]||(r.reg[n]=r.insert(t))}))}off(e,t){t&&e.split(et).forEach((e=>{const r=this.__events_list[e];if(!r)return;const n=r.reg[t._eev];r.reg[t._eev]=void 0,r&&n&&r.remove(n)}))}removeListener(...e){this.off(...e)}emit(e,t){const r=this.__events_list[e];r&&r.head.run(t)}}class rt extends tt{constructor(e){super(),this.state=e,this.subscriptions=[]}get(){return this.state}subscribe(e){return this.subscriptions.push(e),e(this.state),()=>{this.subscriptions=this.subscriptions.filter((t=>t!==e))}}announceStateChange(){this.subscriptions.forEach((e=>e(this.state)))}}class nt extends rt{set(e){this.state=e,this.announceStateChange()}}function st(e){console.log(`${(new Date).toLocaleString()} → ${e}`)}function ot(e){return Array.from(new Uint8Array(e)).map((e=>e.toString(16).padStart(2,"0"))).join("")}function at(e){const t=e.match(/.{1,2}(?=(.{2})+(?!.))|.{1,2}$/g);return new Uint8Array(t.map((e=>parseInt(e,16))))}function ct(e,t=8){const r=new Array(t).fill(0);for(let n=0;n<r.length;n++){const t=255&e;r[n]=t,e=(e-t)/256}return r}var it="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function lt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function ht(e,t,r){return e(r={path:t,exports:{},require:function(e,t){return ft(null==t&&r.path)}},r.exports),r.exports}function ut(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach((function(r){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})})),t}function ft(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var dt=ut(Object.freeze({__proto__:null,default:{}})),pt=ht((function(e){!function(e){var t=function(e){var t,r=new Float64Array(16);if(e)for(t=0;t<e.length;t++)r[t]=e[t];return r},r=function(){throw new Error("no PRNG")},n=new Uint8Array(16),s=new Uint8Array(32);s[0]=9;var o=t(),a=t([1]),c=t([56129,1]),i=t([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),l=t([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),h=t([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),u=t([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),f=t([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function d(e,t,r,n){e[t]=r>>24&255,e[t+1]=r>>16&255,e[t+2]=r>>8&255,e[t+3]=255&r,e[t+4]=n>>24&255,e[t+5]=n>>16&255,e[t+6]=n>>8&255,e[t+7]=255&n}function p(e,t,r,n,s){var o,a=0;for(o=0;o<s;o++)a|=e[t+o]^r[n+o];return(1&a-1>>>8)-1}function m(e,t,r,n){return p(e,t,r,n,16)}function v(e,t,r,n){return p(e,t,r,n,32)}function g(e,t,r,n){!function(e,t,r,n){for(var s,o=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,a=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,c=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,i=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,l=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,h=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,u=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,f=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,d=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,p=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,m=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,v=255&r[16]|(255&r[17])<<8|(255&r[18])<<16|(255&r[19])<<24,g=255&r[20]|(255&r[21])<<8|(255&r[22])<<16|(255&r[23])<<24,y=255&r[24]|(255&r[25])<<8|(255&r[26])<<16|(255&r[27])<<24,b=255&r[28]|(255&r[29])<<8|(255&r[30])<<16|(255&r[31])<<24,w=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,$=o,E=a,_=c,k=i,A=l,S=h,x=u,P=f,T=d,N=p,I=m,O=v,M=g,R=y,C=b,U=w,D=0;D<20;D+=2)$^=(s=(M^=(s=(T^=(s=(A^=(s=$+M|0)<<7|s>>>25)+$|0)<<9|s>>>23)+A|0)<<13|s>>>19)+T|0)<<18|s>>>14,S^=(s=(E^=(s=(R^=(s=(N^=(s=S+E|0)<<7|s>>>25)+S|0)<<9|s>>>23)+N|0)<<13|s>>>19)+R|0)<<18|s>>>14,I^=(s=(x^=(s=(_^=(s=(C^=(s=I+x|0)<<7|s>>>25)+I|0)<<9|s>>>23)+C|0)<<13|s>>>19)+_|0)<<18|s>>>14,U^=(s=(O^=(s=(P^=(s=(k^=(s=U+O|0)<<7|s>>>25)+U|0)<<9|s>>>23)+k|0)<<13|s>>>19)+P|0)<<18|s>>>14,$^=(s=(k^=(s=(_^=(s=(E^=(s=$+k|0)<<7|s>>>25)+$|0)<<9|s>>>23)+E|0)<<13|s>>>19)+_|0)<<18|s>>>14,S^=(s=(A^=(s=(P^=(s=(x^=(s=S+A|0)<<7|s>>>25)+S|0)<<9|s>>>23)+x|0)<<13|s>>>19)+P|0)<<18|s>>>14,I^=(s=(N^=(s=(T^=(s=(O^=(s=I+N|0)<<7|s>>>25)+I|0)<<9|s>>>23)+O|0)<<13|s>>>19)+T|0)<<18|s>>>14,U^=(s=(C^=(s=(R^=(s=(M^=(s=U+C|0)<<7|s>>>25)+U|0)<<9|s>>>23)+M|0)<<13|s>>>19)+R|0)<<18|s>>>14;$=$+o|0,E=E+a|0,_=_+c|0,k=k+i|0,A=A+l|0,S=S+h|0,x=x+u|0,P=P+f|0,T=T+d|0,N=N+p|0,I=I+m|0,O=O+v|0,M=M+g|0,R=R+y|0,C=C+b|0,U=U+w|0,e[0]=$>>>0&255,e[1]=$>>>8&255,e[2]=$>>>16&255,e[3]=$>>>24&255,e[4]=E>>>0&255,e[5]=E>>>8&255,e[6]=E>>>16&255,e[7]=E>>>24&255,e[8]=_>>>0&255,e[9]=_>>>8&255,e[10]=_>>>16&255,e[11]=_>>>24&255,e[12]=k>>>0&255,e[13]=k>>>8&255,e[14]=k>>>16&255,e[15]=k>>>24&255,e[16]=A>>>0&255,e[17]=A>>>8&255,e[18]=A>>>16&255,e[19]=A>>>24&255,e[20]=S>>>0&255,e[21]=S>>>8&255,e[22]=S>>>16&255,e[23]=S>>>24&255,e[24]=x>>>0&255,e[25]=x>>>8&255,e[26]=x>>>16&255,e[27]=x>>>24&255,e[28]=P>>>0&255,e[29]=P>>>8&255,e[30]=P>>>16&255,e[31]=P>>>24&255,e[32]=T>>>0&255,e[33]=T>>>8&255,e[34]=T>>>16&255,e[35]=T>>>24&255,e[36]=N>>>0&255,e[37]=N>>>8&255,e[38]=N>>>16&255,e[39]=N>>>24&255,e[40]=I>>>0&255,e[41]=I>>>8&255,e[42]=I>>>16&255,e[43]=I>>>24&255,e[44]=O>>>0&255,e[45]=O>>>8&255,e[46]=O>>>16&255,e[47]=O>>>24&255,e[48]=M>>>0&255,e[49]=M>>>8&255,e[50]=M>>>16&255,e[51]=M>>>24&255,e[52]=R>>>0&255,e[53]=R>>>8&255,e[54]=R>>>16&255,e[55]=R>>>24&255,e[56]=C>>>0&255,e[57]=C>>>8&255,e[58]=C>>>16&255,e[59]=C>>>24&255,e[60]=U>>>0&255,e[61]=U>>>8&255,e[62]=U>>>16&255,e[63]=U>>>24&255}(e,t,r,n)}function y(e,t,r,n){!function(e,t,r,n){for(var s,o=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,a=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,c=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,i=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,l=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,h=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,u=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,f=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,d=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,p=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,m=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,v=255&r[16]|(255&r[17])<<8|(255&r[18])<<16|(255&r[19])<<24,g=255&r[20]|(255&r[21])<<8|(255&r[22])<<16|(255&r[23])<<24,y=255&r[24]|(255&r[25])<<8|(255&r[26])<<16|(255&r[27])<<24,b=255&r[28]|(255&r[29])<<8|(255&r[30])<<16|(255&r[31])<<24,w=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,$=0;$<20;$+=2)o^=(s=(g^=(s=(d^=(s=(l^=(s=o+g|0)<<7|s>>>25)+o|0)<<9|s>>>23)+l|0)<<13|s>>>19)+d|0)<<18|s>>>14,h^=(s=(a^=(s=(y^=(s=(p^=(s=h+a|0)<<7|s>>>25)+h|0)<<9|s>>>23)+p|0)<<13|s>>>19)+y|0)<<18|s>>>14,m^=(s=(u^=(s=(c^=(s=(b^=(s=m+u|0)<<7|s>>>25)+m|0)<<9|s>>>23)+b|0)<<13|s>>>19)+c|0)<<18|s>>>14,w^=(s=(v^=(s=(f^=(s=(i^=(s=w+v|0)<<7|s>>>25)+w|0)<<9|s>>>23)+i|0)<<13|s>>>19)+f|0)<<18|s>>>14,o^=(s=(i^=(s=(c^=(s=(a^=(s=o+i|0)<<7|s>>>25)+o|0)<<9|s>>>23)+a|0)<<13|s>>>19)+c|0)<<18|s>>>14,h^=(s=(l^=(s=(f^=(s=(u^=(s=h+l|0)<<7|s>>>25)+h|0)<<9|s>>>23)+u|0)<<13|s>>>19)+f|0)<<18|s>>>14,m^=(s=(p^=(s=(d^=(s=(v^=(s=m+p|0)<<7|s>>>25)+m|0)<<9|s>>>23)+v|0)<<13|s>>>19)+d|0)<<18|s>>>14,w^=(s=(b^=(s=(y^=(s=(g^=(s=w+b|0)<<7|s>>>25)+w|0)<<9|s>>>23)+g|0)<<13|s>>>19)+y|0)<<18|s>>>14;e[0]=o>>>0&255,e[1]=o>>>8&255,e[2]=o>>>16&255,e[3]=o>>>24&255,e[4]=h>>>0&255,e[5]=h>>>8&255,e[6]=h>>>16&255,e[7]=h>>>24&255,e[8]=m>>>0&255,e[9]=m>>>8&255,e[10]=m>>>16&255,e[11]=m>>>24&255,e[12]=w>>>0&255,e[13]=w>>>8&255,e[14]=w>>>16&255,e[15]=w>>>24&255,e[16]=u>>>0&255,e[17]=u>>>8&255,e[18]=u>>>16&255,e[19]=u>>>24&255,e[20]=f>>>0&255,e[21]=f>>>8&255,e[22]=f>>>16&255,e[23]=f>>>24&255,e[24]=d>>>0&255,e[25]=d>>>8&255,e[26]=d>>>16&255,e[27]=d>>>24&255,e[28]=p>>>0&255,e[29]=p>>>8&255,e[30]=p>>>16&255,e[31]=p>>>24&255}(e,t,r,n)}var b=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function w(e,t,r,n,s,o,a){var c,i,l=new Uint8Array(16),h=new Uint8Array(64);for(i=0;i<16;i++)l[i]=0;for(i=0;i<8;i++)l[i]=o[i];for(;s>=64;){for(g(h,l,a,b),i=0;i<64;i++)e[t+i]=r[n+i]^h[i];for(c=1,i=8;i<16;i++)c=c+(255&l[i])|0,l[i]=255&c,c>>>=8;s-=64,t+=64,n+=64}if(s>0)for(g(h,l,a,b),i=0;i<s;i++)e[t+i]=r[n+i]^h[i];return 0}function $(e,t,r,n,s){var o,a,c=new Uint8Array(16),i=new Uint8Array(64);for(a=0;a<16;a++)c[a]=0;for(a=0;a<8;a++)c[a]=n[a];for(;r>=64;){for(g(i,c,s,b),a=0;a<64;a++)e[t+a]=i[a];for(o=1,a=8;a<16;a++)o=o+(255&c[a])|0,c[a]=255&o,o>>>=8;r-=64,t+=64}if(r>0)for(g(i,c,s,b),a=0;a<r;a++)e[t+a]=i[a];return 0}function E(e,t,r,n,s){var o=new Uint8Array(32);y(o,n,s,b);for(var a=new Uint8Array(8),c=0;c<8;c++)a[c]=n[c+16];return $(e,t,r,a,o)}function _(e,t,r,n,s,o,a){var c=new Uint8Array(32);y(c,o,a,b);for(var i=new Uint8Array(8),l=0;l<8;l++)i[l]=o[l+16];return w(e,t,r,n,s,i,c)}var k=function(e){var t,r,n,s,o,a,c,i;this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0,t=255&e[0]|(255&e[1])<<8,this.r[0]=8191&t,r=255&e[2]|(255&e[3])<<8,this.r[1]=8191&(t>>>13|r<<3),n=255&e[4]|(255&e[5])<<8,this.r[2]=7939&(r>>>10|n<<6),s=255&e[6]|(255&e[7])<<8,this.r[3]=8191&(n>>>7|s<<9),o=255&e[8]|(255&e[9])<<8,this.r[4]=255&(s>>>4|o<<12),this.r[5]=o>>>1&8190,a=255&e[10]|(255&e[11])<<8,this.r[6]=8191&(o>>>14|a<<2),c=255&e[12]|(255&e[13])<<8,this.r[7]=8065&(a>>>11|c<<5),i=255&e[14]|(255&e[15])<<8,this.r[8]=8191&(c>>>8|i<<8),this.r[9]=i>>>5&127,this.pad[0]=255&e[16]|(255&e[17])<<8,this.pad[1]=255&e[18]|(255&e[19])<<8,this.pad[2]=255&e[20]|(255&e[21])<<8,this.pad[3]=255&e[22]|(255&e[23])<<8,this.pad[4]=255&e[24]|(255&e[25])<<8,this.pad[5]=255&e[26]|(255&e[27])<<8,this.pad[6]=255&e[28]|(255&e[29])<<8,this.pad[7]=255&e[30]|(255&e[31])<<8};function A(e,t,r,n,s,o){var a=new k(o);return a.update(r,n,s),a.finish(e,t),0}function S(e,t,r,n,s,o){var a=new Uint8Array(16);return A(a,0,r,n,s,o),m(e,t,a,0)}function x(e,t,r,n,s){var o;if(r<32)return-1;for(_(e,0,t,0,r,n,s),A(e,16,e,32,r-32,e),o=0;o<16;o++)e[o]=0;return 0}function P(e,t,r,n,s){var o,a=new Uint8Array(32);if(r<32)return-1;if(E(a,0,32,n,s),0!==S(t,16,t,32,r-32,a))return-1;for(_(e,0,t,0,r,n,s),o=0;o<32;o++)e[o]=0;return 0}function T(e,t){var r;for(r=0;r<16;r++)e[r]=0|t[r]}function N(e){var t,r,n=1;for(t=0;t<16;t++)r=e[t]+n+65535,n=Math.floor(r/65536),e[t]=r-65536*n;e[0]+=n-1+37*(n-1)}function I(e,t,r){for(var n,s=~(r-1),o=0;o<16;o++)n=s&(e[o]^t[o]),e[o]^=n,t[o]^=n}function O(e,r){var n,s,o,a=t(),c=t();for(n=0;n<16;n++)c[n]=r[n];for(N(c),N(c),N(c),s=0;s<2;s++){for(a[0]=c[0]-65517,n=1;n<15;n++)a[n]=c[n]-65535-(a[n-1]>>16&1),a[n-1]&=65535;a[15]=c[15]-32767-(a[14]>>16&1),o=a[15]>>16&1,a[14]&=65535,I(c,a,1-o)}for(n=0;n<16;n++)e[2*n]=255&c[n],e[2*n+1]=c[n]>>8}function M(e,t){var r=new Uint8Array(32),n=new Uint8Array(32);return O(r,e),O(n,t),v(r,0,n,0)}function R(e){var t=new Uint8Array(32);return O(t,e),1&t[0]}function C(e,t){var r;for(r=0;r<16;r++)e[r]=t[2*r]+(t[2*r+1]<<8);e[15]&=32767}function U(e,t,r){for(var n=0;n<16;n++)e[n]=t[n]+r[n]}function D(e,t,r){for(var n=0;n<16;n++)e[n]=t[n]-r[n]}function j(e,t,r){var n,s,o=0,a=0,c=0,i=0,l=0,h=0,u=0,f=0,d=0,p=0,m=0,v=0,g=0,y=0,b=0,w=0,$=0,E=0,_=0,k=0,A=0,S=0,x=0,P=0,T=0,N=0,I=0,O=0,M=0,R=0,C=0,U=r[0],D=r[1],j=r[2],V=r[3],q=r[4],B=r[5],L=r[6],z=r[7],K=r[8],F=r[9],H=r[10],Y=r[11],W=r[12],G=r[13],J=r[14],Q=r[15];o+=(n=t[0])*U,a+=n*D,c+=n*j,i+=n*V,l+=n*q,h+=n*B,u+=n*L,f+=n*z,d+=n*K,p+=n*F,m+=n*H,v+=n*Y,g+=n*W,y+=n*G,b+=n*J,w+=n*Q,a+=(n=t[1])*U,c+=n*D,i+=n*j,l+=n*V,h+=n*q,u+=n*B,f+=n*L,d+=n*z,p+=n*K,m+=n*F,v+=n*H,g+=n*Y,y+=n*W,b+=n*G,w+=n*J,$+=n*Q,c+=(n=t[2])*U,i+=n*D,l+=n*j,h+=n*V,u+=n*q,f+=n*B,d+=n*L,p+=n*z,m+=n*K,v+=n*F,g+=n*H,y+=n*Y,b+=n*W,w+=n*G,$+=n*J,E+=n*Q,i+=(n=t[3])*U,l+=n*D,h+=n*j,u+=n*V,f+=n*q,d+=n*B,p+=n*L,m+=n*z,v+=n*K,g+=n*F,y+=n*H,b+=n*Y,w+=n*W,$+=n*G,E+=n*J,_+=n*Q,l+=(n=t[4])*U,h+=n*D,u+=n*j,f+=n*V,d+=n*q,p+=n*B,m+=n*L,v+=n*z,g+=n*K,y+=n*F,b+=n*H,w+=n*Y,$+=n*W,E+=n*G,_+=n*J,k+=n*Q,h+=(n=t[5])*U,u+=n*D,f+=n*j,d+=n*V,p+=n*q,m+=n*B,v+=n*L,g+=n*z,y+=n*K,b+=n*F,w+=n*H,$+=n*Y,E+=n*W,_+=n*G,k+=n*J,A+=n*Q,u+=(n=t[6])*U,f+=n*D,d+=n*j,p+=n*V,m+=n*q,v+=n*B,g+=n*L,y+=n*z,b+=n*K,w+=n*F,$+=n*H,E+=n*Y,_+=n*W,k+=n*G,A+=n*J,S+=n*Q,f+=(n=t[7])*U,d+=n*D,p+=n*j,m+=n*V,v+=n*q,g+=n*B,y+=n*L,b+=n*z,w+=n*K,$+=n*F,E+=n*H,_+=n*Y,k+=n*W,A+=n*G,S+=n*J,x+=n*Q,d+=(n=t[8])*U,p+=n*D,m+=n*j,v+=n*V,g+=n*q,y+=n*B,b+=n*L,w+=n*z,$+=n*K,E+=n*F,_+=n*H,k+=n*Y,A+=n*W,S+=n*G,x+=n*J,P+=n*Q,p+=(n=t[9])*U,m+=n*D,v+=n*j,g+=n*V,y+=n*q,b+=n*B,w+=n*L,$+=n*z,E+=n*K,_+=n*F,k+=n*H,A+=n*Y,S+=n*W,x+=n*G,P+=n*J,T+=n*Q,m+=(n=t[10])*U,v+=n*D,g+=n*j,y+=n*V,b+=n*q,w+=n*B,$+=n*L,E+=n*z,_+=n*K,k+=n*F,A+=n*H,S+=n*Y,x+=n*W,P+=n*G,T+=n*J,N+=n*Q,v+=(n=t[11])*U,g+=n*D,y+=n*j,b+=n*V,w+=n*q,$+=n*B,E+=n*L,_+=n*z,k+=n*K,A+=n*F,S+=n*H,x+=n*Y,P+=n*W,T+=n*G,N+=n*J,I+=n*Q,g+=(n=t[12])*U,y+=n*D,b+=n*j,w+=n*V,$+=n*q,E+=n*B,_+=n*L,k+=n*z,A+=n*K,S+=n*F,x+=n*H,P+=n*Y,T+=n*W,N+=n*G,I+=n*J,O+=n*Q,y+=(n=t[13])*U,b+=n*D,w+=n*j,$+=n*V,E+=n*q,_+=n*B,k+=n*L,A+=n*z,S+=n*K,x+=n*F,P+=n*H,T+=n*Y,N+=n*W,I+=n*G,O+=n*J,M+=n*Q,b+=(n=t[14])*U,w+=n*D,$+=n*j,E+=n*V,_+=n*q,k+=n*B,A+=n*L,S+=n*z,x+=n*K,P+=n*F,T+=n*H,N+=n*Y,I+=n*W,O+=n*G,M+=n*J,R+=n*Q,w+=(n=t[15])*U,a+=38*(E+=n*j),c+=38*(_+=n*V),i+=38*(k+=n*q),l+=38*(A+=n*B),h+=38*(S+=n*L),u+=38*(x+=n*z),f+=38*(P+=n*K),d+=38*(T+=n*F),p+=38*(N+=n*H),m+=38*(I+=n*Y),v+=38*(O+=n*W),g+=38*(M+=n*G),y+=38*(R+=n*J),b+=38*(C+=n*Q),o=(n=(o+=38*($+=n*D))+(s=1)+65535)-65536*(s=Math.floor(n/65536)),a=(n=a+s+65535)-65536*(s=Math.floor(n/65536)),c=(n=c+s+65535)-65536*(s=Math.floor(n/65536)),i=(n=i+s+65535)-65536*(s=Math.floor(n/65536)),l=(n=l+s+65535)-65536*(s=Math.floor(n/65536)),h=(n=h+s+65535)-65536*(s=Math.floor(n/65536)),u=(n=u+s+65535)-65536*(s=Math.floor(n/65536)),f=(n=f+s+65535)-65536*(s=Math.floor(n/65536)),d=(n=d+s+65535)-65536*(s=Math.floor(n/65536)),p=(n=p+s+65535)-65536*(s=Math.floor(n/65536)),m=(n=m+s+65535)-65536*(s=Math.floor(n/65536)),v=(n=v+s+65535)-65536*(s=Math.floor(n/65536)),g=(n=g+s+65535)-65536*(s=Math.floor(n/65536)),y=(n=y+s+65535)-65536*(s=Math.floor(n/65536)),b=(n=b+s+65535)-65536*(s=Math.floor(n/65536)),w=(n=w+s+65535)-65536*(s=Math.floor(n/65536)),o=(n=(o+=s-1+37*(s-1))+(s=1)+65535)-65536*(s=Math.floor(n/65536)),a=(n=a+s+65535)-65536*(s=Math.floor(n/65536)),c=(n=c+s+65535)-65536*(s=Math.floor(n/65536)),i=(n=i+s+65535)-65536*(s=Math.floor(n/65536)),l=(n=l+s+65535)-65536*(s=Math.floor(n/65536)),h=(n=h+s+65535)-65536*(s=Math.floor(n/65536)),u=(n=u+s+65535)-65536*(s=Math.floor(n/65536)),f=(n=f+s+65535)-65536*(s=Math.floor(n/65536)),d=(n=d+s+65535)-65536*(s=Math.floor(n/65536)),p=(n=p+s+65535)-65536*(s=Math.floor(n/65536)),m=(n=m+s+65535)-65536*(s=Math.floor(n/65536)),v=(n=v+s+65535)-65536*(s=Math.floor(n/65536)),g=(n=g+s+65535)-65536*(s=Math.floor(n/65536)),y=(n=y+s+65535)-65536*(s=Math.floor(n/65536)),b=(n=b+s+65535)-65536*(s=Math.floor(n/65536)),w=(n=w+s+65535)-65536*(s=Math.floor(n/65536)),o+=s-1+37*(s-1),e[0]=o,e[1]=a,e[2]=c,e[3]=i,e[4]=l,e[5]=h,e[6]=u,e[7]=f,e[8]=d,e[9]=p,e[10]=m,e[11]=v,e[12]=g,e[13]=y,e[14]=b,e[15]=w}function V(e,t){j(e,t,t)}function q(e,r){var n,s=t();for(n=0;n<16;n++)s[n]=r[n];for(n=253;n>=0;n--)V(s,s),2!==n&&4!==n&&j(s,s,r);for(n=0;n<16;n++)e[n]=s[n]}function B(e,r){var n,s=t();for(n=0;n<16;n++)s[n]=r[n];for(n=250;n>=0;n--)V(s,s),1!==n&&j(s,s,r);for(n=0;n<16;n++)e[n]=s[n]}function L(e,r,n){var s,o,a=new Uint8Array(32),i=new Float64Array(80),l=t(),h=t(),u=t(),f=t(),d=t(),p=t();for(o=0;o<31;o++)a[o]=r[o];for(a[31]=127&r[31]|64,a[0]&=248,C(i,n),o=0;o<16;o++)h[o]=i[o],f[o]=l[o]=u[o]=0;for(l[0]=f[0]=1,o=254;o>=0;--o)I(l,h,s=a[o>>>3]>>>(7&o)&1),I(u,f,s),U(d,l,u),D(l,l,u),U(u,h,f),D(h,h,f),V(f,d),V(p,l),j(l,u,l),j(u,h,d),U(d,l,u),D(l,l,u),V(h,l),D(u,f,p),j(l,u,c),U(l,l,f),j(u,u,l),j(l,f,p),j(f,h,i),V(h,d),I(l,h,s),I(u,f,s);for(o=0;o<16;o++)i[o+16]=l[o],i[o+32]=u[o],i[o+48]=h[o],i[o+64]=f[o];var m=i.subarray(32),v=i.subarray(16);return q(m,m),j(v,v,m),O(e,v),0}function z(e,t){return L(e,t,s)}function K(e,t){return r(t,32),z(e,t)}function F(e,t,r){var s=new Uint8Array(32);return L(s,r,t),y(e,n,s,b)}k.prototype.blocks=function(e,t,r){for(var n,s,o,a,c,i,l,h,u,f,d,p,m,v,g,y,b,w,$,E=this.fin?0:2048,_=this.h[0],k=this.h[1],A=this.h[2],S=this.h[3],x=this.h[4],P=this.h[5],T=this.h[6],N=this.h[7],I=this.h[8],O=this.h[9],M=this.r[0],R=this.r[1],C=this.r[2],U=this.r[3],D=this.r[4],j=this.r[5],V=this.r[6],q=this.r[7],B=this.r[8],L=this.r[9];r>=16;)f=u=0,f+=(_+=8191&(n=255&e[t+0]|(255&e[t+1])<<8))*M,f+=(k+=8191&(n>>>13|(s=255&e[t+2]|(255&e[t+3])<<8)<<3))*(5*L),f+=(A+=8191&(s>>>10|(o=255&e[t+4]|(255&e[t+5])<<8)<<6))*(5*B),f+=(S+=8191&(o>>>7|(a=255&e[t+6]|(255&e[t+7])<<8)<<9))*(5*q),u=(f+=(x+=8191&(a>>>4|(c=255&e[t+8]|(255&e[t+9])<<8)<<12))*(5*V))>>>13,f&=8191,f+=(P+=c>>>1&8191)*(5*j),f+=(T+=8191&(c>>>14|(i=255&e[t+10]|(255&e[t+11])<<8)<<2))*(5*D),f+=(N+=8191&(i>>>11|(l=255&e[t+12]|(255&e[t+13])<<8)<<5))*(5*U),f+=(I+=8191&(l>>>8|(h=255&e[t+14]|(255&e[t+15])<<8)<<8))*(5*C),d=u+=(f+=(O+=h>>>5|E)*(5*R))>>>13,d+=_*R,d+=k*M,d+=A*(5*L),d+=S*(5*B),u=(d+=x*(5*q))>>>13,d&=8191,d+=P*(5*V),d+=T*(5*j),d+=N*(5*D),d+=I*(5*U),u+=(d+=O*(5*C))>>>13,d&=8191,p=u,p+=_*C,p+=k*R,p+=A*M,p+=S*(5*L),u=(p+=x*(5*B))>>>13,p&=8191,p+=P*(5*q),p+=T*(5*V),p+=N*(5*j),p+=I*(5*D),m=u+=(p+=O*(5*U))>>>13,m+=_*U,m+=k*C,m+=A*R,m+=S*M,u=(m+=x*(5*L))>>>13,m&=8191,m+=P*(5*B),m+=T*(5*q),m+=N*(5*V),m+=I*(5*j),v=u+=(m+=O*(5*D))>>>13,v+=_*D,v+=k*U,v+=A*C,v+=S*R,u=(v+=x*M)>>>13,v&=8191,v+=P*(5*L),v+=T*(5*B),v+=N*(5*q),v+=I*(5*V),g=u+=(v+=O*(5*j))>>>13,g+=_*j,g+=k*D,g+=A*U,g+=S*C,u=(g+=x*R)>>>13,g&=8191,g+=P*M,g+=T*(5*L),g+=N*(5*B),g+=I*(5*q),y=u+=(g+=O*(5*V))>>>13,y+=_*V,y+=k*j,y+=A*D,y+=S*U,u=(y+=x*C)>>>13,y&=8191,y+=P*R,y+=T*M,y+=N*(5*L),y+=I*(5*B),b=u+=(y+=O*(5*q))>>>13,b+=_*q,b+=k*V,b+=A*j,b+=S*D,u=(b+=x*U)>>>13,b&=8191,b+=P*C,b+=T*R,b+=N*M,b+=I*(5*L),w=u+=(b+=O*(5*B))>>>13,w+=_*B,w+=k*q,w+=A*V,w+=S*j,u=(w+=x*D)>>>13,w&=8191,w+=P*U,w+=T*C,w+=N*R,w+=I*M,$=u+=(w+=O*(5*L))>>>13,$+=_*L,$+=k*B,$+=A*q,$+=S*V,u=($+=x*j)>>>13,$&=8191,$+=P*D,$+=T*U,$+=N*C,$+=I*R,_=f=8191&(u=(u=((u+=($+=O*M)>>>13)<<2)+u|0)+(f&=8191)|0),k=d+=u>>>=13,A=p&=8191,S=m&=8191,x=v&=8191,P=g&=8191,T=y&=8191,N=b&=8191,I=w&=8191,O=$&=8191,t+=16,r-=16;this.h[0]=_,this.h[1]=k,this.h[2]=A,this.h[3]=S,this.h[4]=x,this.h[5]=P,this.h[6]=T,this.h[7]=N,this.h[8]=I,this.h[9]=O},k.prototype.finish=function(e,t){var r,n,s,o,a=new Uint16Array(10);if(this.leftover){for(o=this.leftover,this.buffer[o++]=1;o<16;o++)this.buffer[o]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(r=this.h[1]>>>13,this.h[1]&=8191,o=2;o<10;o++)this.h[o]+=r,r=this.h[o]>>>13,this.h[o]&=8191;for(this.h[0]+=5*r,r=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=r,r=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=r,a[0]=this.h[0]+5,r=a[0]>>>13,a[0]&=8191,o=1;o<10;o++)a[o]=this.h[o]+r,r=a[o]>>>13,a[o]&=8191;for(a[9]-=8192,n=(1^r)-1,o=0;o<10;o++)a[o]&=n;for(n=~n,o=0;o<10;o++)this.h[o]=this.h[o]&n|a[o];for(this.h[0]=65535&(this.h[0]|this.h[1]<<13),this.h[1]=65535&(this.h[1]>>>3|this.h[2]<<10),this.h[2]=65535&(this.h[2]>>>6|this.h[3]<<7),this.h[3]=65535&(this.h[3]>>>9|this.h[4]<<4),this.h[4]=65535&(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14),this.h[5]=65535&(this.h[6]>>>2|this.h[7]<<11),this.h[6]=65535&(this.h[7]>>>5|this.h[8]<<8),this.h[7]=65535&(this.h[8]>>>8|this.h[9]<<5),s=this.h[0]+this.pad[0],this.h[0]=65535&s,o=1;o<8;o++)s=(this.h[o]+this.pad[o]|0)+(s>>>16)|0,this.h[o]=65535&s;e[t+0]=this.h[0]>>>0&255,e[t+1]=this.h[0]>>>8&255,e[t+2]=this.h[1]>>>0&255,e[t+3]=this.h[1]>>>8&255,e[t+4]=this.h[2]>>>0&255,e[t+5]=this.h[2]>>>8&255,e[t+6]=this.h[3]>>>0&255,e[t+7]=this.h[3]>>>8&255,e[t+8]=this.h[4]>>>0&255,e[t+9]=this.h[4]>>>8&255,e[t+10]=this.h[5]>>>0&255,e[t+11]=this.h[5]>>>8&255,e[t+12]=this.h[6]>>>0&255,e[t+13]=this.h[6]>>>8&255,e[t+14]=this.h[7]>>>0&255,e[t+15]=this.h[7]>>>8&255},k.prototype.update=function(e,t,r){var n,s;if(this.leftover){for((s=16-this.leftover)>r&&(s=r),n=0;n<s;n++)this.buffer[this.leftover+n]=e[t+n];if(r-=s,t+=s,this.leftover+=s,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(r>=16&&(s=r-r%16,this.blocks(e,t,s),t+=s,r-=s),r){for(n=0;n<r;n++)this.buffer[this.leftover+n]=e[t+n];this.leftover+=r}};var H=x,Y=P;var W=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function G(e,t,r,n){for(var s,o,a,c,i,l,h,u,f,d,p,m,v,g,y,b,w,$,E,_,k,A,S,x,P,T,N=new Int32Array(16),I=new Int32Array(16),O=e[0],M=e[1],R=e[2],C=e[3],U=e[4],D=e[5],j=e[6],V=e[7],q=t[0],B=t[1],L=t[2],z=t[3],K=t[4],F=t[5],H=t[6],Y=t[7],G=0;n>=128;){for(E=0;E<16;E++)_=8*E+G,N[E]=r[_+0]<<24|r[_+1]<<16|r[_+2]<<8|r[_+3],I[E]=r[_+4]<<24|r[_+5]<<16|r[_+6]<<8|r[_+7];for(E=0;E<80;E++)if(s=O,o=M,a=R,c=C,i=U,l=D,h=j,V,f=q,d=B,p=L,m=z,v=K,g=F,y=H,Y,S=65535&(A=Y),x=A>>>16,P=65535&(k=V),T=k>>>16,S+=65535&(A=(K>>>14|U<<18)^(K>>>18|U<<14)^(U>>>9|K<<23)),x+=A>>>16,P+=65535&(k=(U>>>14|K<<18)^(U>>>18|K<<14)^(K>>>9|U<<23)),T+=k>>>16,S+=65535&(A=K&F^~K&H),x+=A>>>16,P+=65535&(k=U&D^~U&j),T+=k>>>16,S+=65535&(A=W[2*E+1]),x+=A>>>16,P+=65535&(k=W[2*E]),T+=k>>>16,k=N[E%16],x+=(A=I[E%16])>>>16,P+=65535&k,T+=k>>>16,P+=(x+=(S+=65535&A)>>>16)>>>16,S=65535&(A=$=65535&S|x<<16),x=A>>>16,P=65535&(k=w=65535&P|(T+=P>>>16)<<16),T=k>>>16,S+=65535&(A=(q>>>28|O<<4)^(O>>>2|q<<30)^(O>>>7|q<<25)),x+=A>>>16,P+=65535&(k=(O>>>28|q<<4)^(q>>>2|O<<30)^(q>>>7|O<<25)),T+=k>>>16,x+=(A=q&B^q&L^B&L)>>>16,P+=65535&(k=O&M^O&R^M&R),T+=k>>>16,u=65535&(P+=(x+=(S+=65535&A)>>>16)>>>16)|(T+=P>>>16)<<16,b=65535&S|x<<16,S=65535&(A=m),x=A>>>16,P=65535&(k=c),T=k>>>16,x+=(A=$)>>>16,P+=65535&(k=w),T+=k>>>16,M=s,R=o,C=a,U=c=65535&(P+=(x+=(S+=65535&A)>>>16)>>>16)|(T+=P>>>16)<<16,D=i,j=l,V=h,O=u,B=f,L=d,z=p,K=m=65535&S|x<<16,F=v,H=g,Y=y,q=b,E%16==15)for(_=0;_<16;_++)k=N[_],S=65535&(A=I[_]),x=A>>>16,P=65535&k,T=k>>>16,k=N[(_+9)%16],S+=65535&(A=I[(_+9)%16]),x+=A>>>16,P+=65535&k,T+=k>>>16,w=N[(_+1)%16],S+=65535&(A=(($=I[(_+1)%16])>>>1|w<<31)^($>>>8|w<<24)^($>>>7|w<<25)),x+=A>>>16,P+=65535&(k=(w>>>1|$<<31)^(w>>>8|$<<24)^w>>>7),T+=k>>>16,w=N[(_+14)%16],x+=(A=(($=I[(_+14)%16])>>>19|w<<13)^(w>>>29|$<<3)^($>>>6|w<<26))>>>16,P+=65535&(k=(w>>>19|$<<13)^($>>>29|w<<3)^w>>>6),T+=k>>>16,T+=(P+=(x+=(S+=65535&A)>>>16)>>>16)>>>16,N[_]=65535&P|T<<16,I[_]=65535&S|x<<16;S=65535&(A=q),x=A>>>16,P=65535&(k=O),T=k>>>16,k=e[0],x+=(A=t[0])>>>16,P+=65535&k,T+=k>>>16,T+=(P+=(x+=(S+=65535&A)>>>16)>>>16)>>>16,e[0]=O=65535&P|T<<16,t[0]=q=65535&S|x<<16,S=65535&(A=B),x=A>>>16,P=65535&(k=M),T=k>>>16,k=e[1],x+=(A=t[1])>>>16,P+=65535&k,T+=k>>>16,T+=(P+=(x+=(S+=65535&A)>>>16)>>>16)>>>16,e[1]=M=65535&P|T<<16,t[1]=B=65535&S|x<<16,S=65535&(A=L),x=A>>>16,P=65535&(k=R),T=k>>>16,k=e[2],x+=(A=t[2])>>>16,P+=65535&k,T+=k>>>16,T+=(P+=(x+=(S+=65535&A)>>>16)>>>16)>>>16,e[2]=R=65535&P|T<<16,t[2]=L=65535&S|x<<16,S=65535&(A=z),x=A>>>16,P=65535&(k=C),T=k>>>16,k=e[3],x+=(A=t[3])>>>16,P+=65535&k,T+=k>>>16,T+=(P+=(x+=(S+=65535&A)>>>16)>>>16)>>>16,e[3]=C=65535&P|T<<16,t[3]=z=65535&S|x<<16,S=65535&(A=K),x=A>>>16,P=65535&(k=U),T=k>>>16,k=e[4],x+=(A=t[4])>>>16,P+=65535&k,T+=k>>>16,T+=(P+=(x+=(S+=65535&A)>>>16)>>>16)>>>16,e[4]=U=65535&P|T<<16,t[4]=K=65535&S|x<<16,S=65535&(A=F),x=A>>>16,P=65535&(k=D),T=k>>>16,k=e[5],x+=(A=t[5])>>>16,P+=65535&k,T+=k>>>16,T+=(P+=(x+=(S+=65535&A)>>>16)>>>16)>>>16,e[5]=D=65535&P|T<<16,t[5]=F=65535&S|x<<16,S=65535&(A=H),x=A>>>16,P=65535&(k=j),T=k>>>16,k=e[6],x+=(A=t[6])>>>16,P+=65535&k,T+=k>>>16,T+=(P+=(x+=(S+=65535&A)>>>16)>>>16)>>>16,e[6]=j=65535&P|T<<16,t[6]=H=65535&S|x<<16,S=65535&(A=Y),x=A>>>16,P=65535&(k=V),T=k>>>16,k=e[7],x+=(A=t[7])>>>16,P+=65535&k,T+=k>>>16,T+=(P+=(x+=(S+=65535&A)>>>16)>>>16)>>>16,e[7]=V=65535&P|T<<16,t[7]=Y=65535&S|x<<16,G+=128,n-=128}return n}function J(e,t,r){var n,s=new Int32Array(8),o=new Int32Array(8),a=new Uint8Array(256),c=r;for(s[0]=1779033703,s[1]=3144134277,s[2]=1013904242,s[3]=2773480762,s[4]=1359893119,s[5]=2600822924,s[6]=528734635,s[7]=1541459225,o[0]=4089235720,o[1]=2227873595,o[2]=4271175723,o[3]=1595750129,o[4]=2917565137,o[5]=725511199,o[6]=4215389547,o[7]=327033209,G(s,o,t,r),r%=128,n=0;n<r;n++)a[n]=t[c-r+n];for(a[r]=128,a[(r=256-128*(r<112?1:0))-9]=0,d(a,r-8,c/536870912|0,c<<3),G(s,o,a,r),n=0;n<8;n++)d(e,8*n,s[n],o[n]);return 0}function Q(e,r){var n=t(),s=t(),o=t(),a=t(),c=t(),i=t(),h=t(),u=t(),f=t();D(n,e[1],e[0]),D(f,r[1],r[0]),j(n,n,f),U(s,e[0],e[1]),U(f,r[0],r[1]),j(s,s,f),j(o,e[3],r[3]),j(o,o,l),j(a,e[2],r[2]),U(a,a,a),D(c,s,n),D(i,a,o),U(h,a,o),U(u,s,n),j(e[0],c,i),j(e[1],u,h),j(e[2],h,i),j(e[3],c,u)}function Z(e,t,r){var n;for(n=0;n<4;n++)I(e[n],t[n],r)}function X(e,r){var n=t(),s=t(),o=t();q(o,r[2]),j(n,r[0],o),j(s,r[1],o),O(e,s),e[31]^=R(n)<<7}function ee(e,t,r){var n,s;for(T(e[0],o),T(e[1],a),T(e[2],a),T(e[3],o),s=255;s>=0;--s)Z(e,t,n=r[s/8|0]>>(7&s)&1),Q(t,e),Q(e,e),Z(e,t,n)}function te(e,r){var n=[t(),t(),t(),t()];T(n[0],h),T(n[1],u),T(n[2],a),j(n[3],h,u),ee(e,n,r)}function re(e,n,s){var o,a=new Uint8Array(64),c=[t(),t(),t(),t()];for(s||r(n,32),J(a,n,32),a[0]&=248,a[31]&=127,a[31]|=64,te(c,a),X(e,c),o=0;o<32;o++)n[o+32]=e[o];return 0}var ne=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function se(e,t){var r,n,s,o;for(n=63;n>=32;--n){for(r=0,s=n-32,o=n-12;s<o;++s)t[s]+=r-16*t[n]*ne[s-(n-32)],r=Math.floor((t[s]+128)/256),t[s]-=256*r;t[s]+=r,t[n]=0}for(r=0,s=0;s<32;s++)t[s]+=r-(t[31]>>4)*ne[s],r=t[s]>>8,t[s]&=255;for(s=0;s<32;s++)t[s]-=r*ne[s];for(n=0;n<32;n++)t[n+1]+=t[n]>>8,e[n]=255&t[n]}function oe(e){var t,r=new Float64Array(64);for(t=0;t<64;t++)r[t]=e[t];for(t=0;t<64;t++)e[t]=0;se(e,r)}function ae(e,r,n,s){var o,a,c=new Uint8Array(64),i=new Uint8Array(64),l=new Uint8Array(64),h=new Float64Array(64),u=[t(),t(),t(),t()];J(c,s,32),c[0]&=248,c[31]&=127,c[31]|=64;var f=n+64;for(o=0;o<n;o++)e[64+o]=r[o];for(o=0;o<32;o++)e[32+o]=c[32+o];for(J(l,e.subarray(32),n+32),oe(l),te(u,l),X(e,u),o=32;o<64;o++)e[o]=s[o];for(J(i,e,n+64),oe(i),o=0;o<64;o++)h[o]=0;for(o=0;o<32;o++)h[o]=l[o];for(o=0;o<32;o++)for(a=0;a<32;a++)h[o+a]+=i[o]*c[a];return se(e.subarray(32),h),f}function ce(e,r,n,s){var c,l=new Uint8Array(32),h=new Uint8Array(64),u=[t(),t(),t(),t()],d=[t(),t(),t(),t()];if(n<64)return-1;if(function(e,r){var n=t(),s=t(),c=t(),l=t(),h=t(),u=t(),d=t();return T(e[2],a),C(e[1],r),V(c,e[1]),j(l,c,i),D(c,c,e[2]),U(l,e[2],l),V(h,l),V(u,h),j(d,u,h),j(n,d,c),j(n,n,l),B(n,n),j(n,n,c),j(n,n,l),j(n,n,l),j(e[0],n,l),V(s,e[0]),j(s,s,l),M(s,c)&&j(e[0],e[0],f),V(s,e[0]),j(s,s,l),M(s,c)?-1:(R(e[0])===r[31]>>7&&D(e[0],o,e[0]),j(e[3],e[0],e[1]),0)}(d,s))return-1;for(c=0;c<n;c++)e[c]=r[c];for(c=0;c<32;c++)e[c+32]=s[c];if(J(h,e,n),oe(h),ee(u,d,h),te(d,r.subarray(32)),Q(u,d),X(l,u),n-=64,v(r,0,l,0)){for(c=0;c<n;c++)e[c]=0;return-1}for(c=0;c<n;c++)e[c]=r[c+64];return n}var ie=16,le=64,he=32,ue=64;function fe(e,t){if(32!==e.length)throw new Error("bad key size");if(24!==t.length)throw new Error("bad nonce size")}function de(){for(var e=0;e<arguments.length;e++)if(!(arguments[e]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function pe(e){for(var t=0;t<e.length;t++)e[t]=0}e.lowlevel={crypto_core_hsalsa20:y,crypto_stream_xor:_,crypto_stream:E,crypto_stream_salsa20_xor:w,crypto_stream_salsa20:$,crypto_onetimeauth:A,crypto_onetimeauth_verify:S,crypto_verify_16:m,crypto_verify_32:v,crypto_secretbox:x,crypto_secretbox_open:P,crypto_scalarmult:L,crypto_scalarmult_base:z,crypto_box_beforenm:F,crypto_box_afternm:H,crypto_box:function(e,t,r,n,s,o){var a=new Uint8Array(32);return F(a,s,o),H(e,t,r,n,a)},crypto_box_open:function(e,t,r,n,s,o){var a=new Uint8Array(32);return F(a,s,o),Y(e,t,r,n,a)},crypto_box_keypair:K,crypto_hash:J,crypto_sign:ae,crypto_sign_keypair:re,crypto_sign_open:ce,crypto_secretbox_KEYBYTES:32,crypto_secretbox_NONCEBYTES:24,crypto_secretbox_ZEROBYTES:32,crypto_secretbox_BOXZEROBYTES:ie,crypto_scalarmult_BYTES:32,crypto_scalarmult_SCALARBYTES:32,crypto_box_PUBLICKEYBYTES:32,crypto_box_SECRETKEYBYTES:32,crypto_box_BEFORENMBYTES:32,crypto_box_NONCEBYTES:24,crypto_box_ZEROBYTES:32,crypto_box_BOXZEROBYTES:16,crypto_sign_BYTES:le,crypto_sign_PUBLICKEYBYTES:he,crypto_sign_SECRETKEYBYTES:ue,crypto_sign_SEEDBYTES:32,crypto_hash_BYTES:64,gf:t,D:i,L:ne,pack25519:O,unpack25519:C,M:j,A:U,S:V,Z:D,pow2523:B,add:Q,set25519:T,modL:se,scalarmult:ee,scalarbase:te},e.randomBytes=function(e){var t=new Uint8Array(e);return r(t,e),t},e.secretbox=function(e,t,r){de(e,t,r),fe(r,t);for(var n=new Uint8Array(32+e.length),s=new Uint8Array(n.length),o=0;o<e.length;o++)n[o+32]=e[o];return x(s,n,n.length,t,r),s.subarray(ie)},e.secretbox.open=function(e,t,r){de(e,t,r),fe(r,t);for(var n=new Uint8Array(ie+e.length),s=new Uint8Array(n.length),o=0;o<e.length;o++)n[o+ie]=e[o];return n.length<32||0!==P(s,n,n.length,t,r)?null:s.subarray(32)},e.secretbox.keyLength=32,e.secretbox.nonceLength=24,e.secretbox.overheadLength=ie,e.scalarMult=function(e,t){if(de(e,t),32!==e.length)throw new Error("bad n size");if(32!==t.length)throw new Error("bad p size");var r=new Uint8Array(32);return L(r,e,t),r},e.scalarMult.base=function(e){if(de(e),32!==e.length)throw new Error("bad n size");var t=new Uint8Array(32);return z(t,e),t},e.scalarMult.scalarLength=32,e.scalarMult.groupElementLength=32,e.box=function(t,r,n,s){var o=e.box.before(n,s);return e.secretbox(t,r,o)},e.box.before=function(e,t){de(e,t),function(e,t){if(32!==e.length)throw new Error("bad public key size");if(32!==t.length)throw new Error("bad secret key size")}(e,t);var r=new Uint8Array(32);return F(r,e,t),r},e.box.after=e.secretbox,e.box.open=function(t,r,n,s){var o=e.box.before(n,s);return e.secretbox.open(t,r,o)},e.box.open.after=e.secretbox.open,e.box.keyPair=function(){var e=new Uint8Array(32),t=new Uint8Array(32);return K(e,t),{publicKey:e,secretKey:t}},e.box.keyPair.fromSecretKey=function(e){if(de(e),32!==e.length)throw new Error("bad secret key size");var t=new Uint8Array(32);return z(t,e),{publicKey:t,secretKey:new Uint8Array(e)}},e.box.publicKeyLength=32,e.box.secretKeyLength=32,e.box.sharedKeyLength=32,e.box.nonceLength=24,e.box.overheadLength=e.secretbox.overheadLength,e.sign=function(e,t){if(de(e,t),t.length!==ue)throw new Error("bad secret key size");var r=new Uint8Array(le+e.length);return ae(r,e,e.length,t),r},e.sign.open=function(e,t){if(de(e,t),t.length!==he)throw new Error("bad public key size");var r=new Uint8Array(e.length),n=ce(r,e,e.length,t);if(n<0)return null;for(var s=new Uint8Array(n),o=0;o<s.length;o++)s[o]=r[o];return s},e.sign.detached=function(t,r){for(var n=e.sign(t,r),s=new Uint8Array(le),o=0;o<s.length;o++)s[o]=n[o];return s},e.sign.detached.verify=function(e,t,r){if(de(e,t,r),t.length!==le)throw new Error("bad signature size");if(r.length!==he)throw new Error("bad public key size");var n,s=new Uint8Array(le+e.length),o=new Uint8Array(le+e.length);for(n=0;n<le;n++)s[n]=t[n];for(n=0;n<e.length;n++)s[n+le]=e[n];return ce(o,s,s.length,r)>=0},e.sign.keyPair=function(){var e=new Uint8Array(he),t=new Uint8Array(ue);return re(e,t),{publicKey:e,secretKey:t}},e.sign.keyPair.fromSecretKey=function(e){if(de(e),e.length!==ue)throw new Error("bad secret key size");for(var t=new Uint8Array(he),r=0;r<t.length;r++)t[r]=e[32+r];return{publicKey:t,secretKey:new Uint8Array(e)}},e.sign.keyPair.fromSeed=function(e){if(de(e),32!==e.length)throw new Error("bad seed size");for(var t=new Uint8Array(he),r=new Uint8Array(ue),n=0;n<32;n++)r[n]=e[n];return re(t,r,!0),{publicKey:t,secretKey:r}},e.sign.publicKeyLength=he,e.sign.secretKeyLength=ue,e.sign.seedLength=32,e.sign.signatureLength=le,e.hash=function(e){de(e);var t=new Uint8Array(64);return J(t,e,e.length),t},e.hash.hashLength=64,e.verify=function(e,t){return de(e,t),0!==e.length&&0!==t.length&&(e.length===t.length&&0===p(e,0,t,0,e.length))},e.setPRNG=function(e){r=e},function(){var t="undefined"!=typeof self?self.crypto||self.msCrypto:null;if(t&&t.getRandomValues){e.setPRNG((function(e,r){var n,s=new Uint8Array(r);for(n=0;n<r;n+=65536)t.getRandomValues(s.subarray(n,n+Math.min(r-n,65536)));for(n=0;n<r;n++)e[n]=s[n];pe(s)}))}else(t=dt)&&t.randomBytes&&e.setPRNG((function(e,r){var n,s=t.randomBytes(r);for(n=0;n<r;n++)e[n]=s[n];pe(s)}))}()}(e.exports?e.exports:self.nacl=self.nacl||{})})),mt=ht((function(e){var t,r;t=it,r=function(){var e={};function t(e){if(!/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/.test(e))throw new TypeError("invalid encoding")}return e.decodeUTF8=function(e){if("string"!=typeof e)throw new TypeError("expected string");var t,r=unescape(encodeURIComponent(e)),n=new Uint8Array(r.length);for(t=0;t<r.length;t++)n[t]=r.charCodeAt(t);return n},e.encodeUTF8=function(e){var t,r=[];for(t=0;t<e.length;t++)r.push(String.fromCharCode(e[t]));return decodeURIComponent(escape(r.join("")))},"undefined"==typeof atob?void 0!==Buffer.from?(e.encodeBase64=function(e){return Buffer.from(e).toString("base64")},e.decodeBase64=function(e){return t(e),new Uint8Array(Array.prototype.slice.call(Buffer.from(e,"base64"),0))}):(e.encodeBase64=function(e){return new Buffer(e).toString("base64")},e.decodeBase64=function(e){return t(e),new Uint8Array(Array.prototype.slice.call(new Buffer(e,"base64"),0))}):(e.encodeBase64=function(e){var t,r=[],n=e.length;for(t=0;t<n;t++)r.push(String.fromCharCode(e[t]));return btoa(r.join(""))},e.decodeBase64=function(e){t(e);var r,n=atob(e),s=new Uint8Array(n.length);for(r=0;r<n.length;r++)s[r]=n.charCodeAt(r);return s}),e},e.exports?e.exports=r():(t.nacl||(t.nacl={}),t.nacl.util=r())}));function vt({data:e,connector:t}){var r;null!=(r=e)&&r.constructor==Object&&(e=JSON.stringify(e));const n=new Uint8Array(ct(2*t.sentCount,24));if(t.closed())console.log(`⚠️ Warning: "${e}" was not sent because connector is not ready`);else if(t.sentCount>1){let r=0;"string"==typeof e&&(r=1);const s=function(e,t){const r=new Uint8Array(e.length+1),n=new Uint8Array(1);return n[0]=t,r.set(n),r.set(e,n.length),r}(1==r?pt.util.decodeUTF8(e):e,r),o=pt.secretbox(s,n,t.sharedSecret);t.verbose&&(console.log(),console.log(`Connector → Sending encrypted message #${t.sentCount} @ ${t.address}:`),console.log(e)),t.connection.websocket.send(o)}else t.verbose&&(console.log(),console.log(`Connector → Sending message #${t.sentCount} @ ${t.address}:`),console.log(e)),t.connection.websocket.send(e)}function gt({jsonData:e,encryptedData:t,rawMessage:r,wasEncrypted:n,connector:s}){s.lastMessageAt=Date.now();const o=new Uint8Array(ct(2*s.receivedCount+1,24));if(s.verbose&&!n&&(console.log(),console.log(`Connector → Received message #${s.receivedCount} @ ${s.address}:`)),e)e.jsonrpc?!function(e){return Object.keys(e).includes("result")||Object.keys(e).includes("error")}(e)?s.emit("json_rpc",r):(s.verbose&&!n&&(console.log("Received plain-text rpc result"),console.log(e)),s.rpcClient.jsonrpcMsgReceive(r)):s.emit("receive",{jsonData:e,rawMessage:r});else if(t){"extra"==s.verbose&&(console.log("Received bytes:"),console.log(t),console.log(`Decrypting with shared secret ${s.sharedSecret}...`));const e=pt.secretbox.open(t,o,s.sharedSecret),r=e[0],n=e.subarray(1);if(1==r){const e=pt.util.encodeUTF8(n);try{const t=JSON.parse(e);t.jsonrpc?(s.verbose&&(console.log("Received and decrypted rpc result:"),console.log(t)),gt({jsonData:t,rawMessage:e,wasEncrypted:!0,connector:s})):t.state?s.emit("receive_state",t.state):t.diff?s.emit("receive_diff",t.diff):t.signal?s.emit(t.signal,t.data):t.shape?s.emit("receive_shape",t.shape):s.emit("receive",{jsonData:t,rawMessage:e})}catch(a){throw console.log("Couldn't parse json message although the flag was for string ..."),a}}else s.emit("receive_binary",n)}}pt.util=mt,pt.util=mt;class yt extends tt{constructor(e){super(),this.connector=e}send(...e){this.connector.send(...e)}}var bt=-32700,wt=-32600,$t=-32601,Et=-32602,_t=-32603;class kt{constructor({transports:e}){if(!e)throw new Error("TRANSPORT_REQUIRED");this.transportsToRegister=e,this.methods={}}setMethodPrefix(e){this.methodPrefix=e}expose(e){this.methods=e}registerTransport(e){e.onData(this._processRequest.bind(this,e))}async _processRequest(e,t){const r=JSON.parse(t);let n;return n=Array.isArray(r)?await Promise.all(r.map((t=>this._callMethod(t,e)))):await this._callMethod(r,e),JSON.stringify(n)}async _callMethod(e,t){if(!e.hasOwnProperty("method"))return;const{method:r,params:n=[],id:s}=e;let o=r;if(o.includes("::")){const[e,t]=o.split("::");if(o=t,this.methodPrefix&&e!=this.methodPrefix)return}let a={};if(!this.methods[o]||"function"!=typeof this.methods[o]||"constructor"===o||o.startsWith("_")||this.methods[o]===Object.prototype[o])a={jsonrpc:"2.0",id:s,error:{code:$t,message:`Method [${o}] not found on remote target object`}};else{this.currentTransport=t;try{const e=await this.methods[o].apply(this.methods,n);if(!s)return;a={jsonrpc:"2.0",result:void 0===e?null:e,id:s}}catch(c){console.log(`Exposed RPC method ${r} internal error:`),console.log(c),console.log("Sending this error as a result to calling client ..."),a={jsonrpc:"2.0",error:{code:_t,message:`Method [${r}] internal error: ${c.stack}`},id:s}}}return a}run(){for(const e of this.transportsToRegister)this.registerTransport(e);this.transportsToRegister=[]}}class At extends Error{constructor(e={}){if(super(),!e.code)throw new Error("Code required");if(!e.message)throw new Error("Message required");this.code=e.code,this.message=e.message}}class St extends At{}var xt={Base:At,MethodNotFound:class extends At{constructor(e){super({code:$t,message:e||"Method not found"})}},InvalidRequest:class extends At{constructor(){super({code:wt,message:"Invalid request"})}},InvalidParams:class extends At{constructor(){super({code:Et,message:"Invalid params"})}},RemoteInternalError:class extends At{constructor(e){super({code:_t,message:`Error originating at remote endpoint: ${e}`||"Remote Internal error"})}},ServerError:St,ParseError:class extends At{constructor(){super({code:bt,message:"Parse error"})}},RequestTimeout:class extends St{constructor(e,t){super({code:-32001,message:`Request exceeded maximum execution time (${t}ms): ${e}`})}}};class Pt{constructor({transport:e,requestTimeout:t=2e4}){if(!e)throw new Error("TRANSPORT_REQUIRED");this.transport=e,this.requestTimeout=t,this.pendingRequest={},this.initialized=!1}setMethodPrefix(e){this.methodPrefix=e}async callMethod(e,t){this._init();const r=this.methodPrefix?`${this.methodPrefix}::${e}`:e,n=this._makeRequestObject({method:r,params:t});return this._sendRequest({object:n,id:n.id})}notify(e,t){this._init();const r=this._makeRequestObject({method:e,params:t,mode:"notify"});return this.transport.sendData(JSON.stringify(r)),!0}async runBatch(e){const t=this._generateId();let r=!0;const n=[];for(const[s,o,a]of e){const e=this._makeRequestObject({method:s,params:o,mode:a,batchId:t});e.id&&(r=!1),n.push(e)}return r?this.transport.sendData(JSON.stringify(n)):this._sendRequest({object:n,id:t})}_init(){this.initialized||(this.transport.onData(this._processResponse.bind(this)),this.initialized=!0)}_sendRequest({object:e,id:t}){const r=JSON.stringify(e);return new Promise(((n,s)=>{this.pendingRequest[t]={resolve:n,reject:s,sentObject:e},setTimeout((()=>{this.pendingRequest[t]&&(delete this.pendingRequest[t],s(new xt.RequestTimeout(r,this.requestTimeout)))}),this.requestTimeout);try{this.transport.sendData(r)}catch(o){delete this.pendingRequest[t],s(o)}}))}_processResponse(e){const t=JSON.parse(e);Array.isArray(t)?this._processBatchResponse(t):this._processSingleCallResponse(t)}_processSingleCallResponse(e){const t=e.hasOwnProperty("result")||!1,r=e.hasOwnProperty("error");if(!t&&!r)return;const n=this.pendingRequest[e.id];if(delete this.pendingRequest[e.id],n)if(t)n.resolve(e.result);else if(r){const t=this._makeErrorObject(e.error);n.reject(t)}}_processBatchResponse(e){let t;const r={},n=[];for(const i of e)i.id?(t||(t=i.id.split("|")[0]),r[i.id]=i):i.error&&n.push(i.error);if(!this.pendingRequest[t])return;const{sentObject:s,resolve:o}=this.pendingRequest[t];delete this.pendingRequest[t];const a=[];let c=0;for(const i of s){if(!i.id){a.push(null);continue}const e=r[i.id];if(e){e.hasOwnProperty("result")||!1?a.push({success:!0,result:e.result}):a.push({success:!1,result:this._makeErrorObject(e.error)})}else a.push({success:!1,error:this._makeErrorObject(n[c])}),c++}o(a)}_makeRequestObject({method:e,params:t,mode:r,batchId:n}){const s={jsonrpc:"2.0",method:e};return t&&t.length&&(s.params=t),"notify"!==r&&(s.id=n?`${n}|${this._generateId()}`:this._generateId()),s}_makeErrorObject(e){return(0,{[$t]:()=>new xt.MethodNotFound(e.message),[_t]:()=>new xt.RemoteInternalError(e.message)}[e.code])()}_generateId(){let e=10,t="";for(;0<e--;)t+="bjectSymhasOwnProp-0123456789ABCDEFGHIJKLMNQRTUVWXYZ_dfgiklquvxz"[64*Math.random()|0];return t}}function Tt(e){return new Proxy(e,{get:(e,t)=>(...r)=>e.call(null,t,r),apply:(e,t,r)=>e.apply(null,r)})}class Nt{constructor(e){this.channel=e}onData(e){this.channel.on("json_rpc",(async t=>{const r=await e(t);r&&this.channel.send(r)}))}}var It=Object.freeze({__proto__:null,MoleServer:kt,MoleClient:Pt,MoleClientProxified:class extends Pt{constructor(...e){return super(...e),function(e){const t=Tt(e.callMethod.bind(e)),r=Tt(e.notify.bind(e));return new Proxy(e,{get:(n,s)=>"notify"===s?r:"callMethod"===s?t:"then"!==s?"setMethodPrefix"===s?(...t)=>e.setMethodPrefix(t):(...e)=>n.callMethod.call(n,s,e):void 0})}(this)}},ClientTransport:class{constructor(e){this.channel=e}onData(e){this.channel.on("json_rpc",e)}sendData(e){this.channel.send(e)}},ServerTransport:Nt});class Ot extends Error{constructor(e,t){super(e),this.name=this.constructor.name,this.errorCode=t}errorCode(){return this.errorCode}}const{MoleClient:Mt,ClientTransport:Rt}=It;class Ct{constructor(e,t,r){this.moleChannel=new yt(e),this.methodPrefix=t,this.connectorOrServersideChannel=e,this.client=new Mt({requestTimeout:r,transport:new Rt(this.moleChannel)})}jsonrpcMsgReceive(e){this.moleChannel.emit("json_rpc",e)}call(e,t){return this.connectorOrServersideChannel.closed()?new Promise(((t,r)=>{r(new Ot(`Method call [${this.methodPrefix}::${e}] on closed channel or connector ignored. Please add a check for closed channel in your code.`,"CLOSED_CHANNEL"))})):this.client.callMethod(`${this.methodPrefix}::${e}`,t)}}class Ut{constructor(e,t){this.connectorOrServersideChannel=e,this.remoteObjects={},this.requestTimeout=t||55e3}remoteObject(e){return this.remoteObjects[e]||(this.remoteObjects[e]=new Ct(this.connectorOrServersideChannel,e,this.requestTimeout)),this.remoteObjects[e]}jsonrpcMsgReceive(e){for(const t of Object.values(this.remoteObjects))t.jsonrpcMsgReceive(e)}}class Dt{constructor({serversideChannel:e,serverMethods:t,methodPrefix:r}){const n=[new Nt(e)];this.server=new kt({transports:n}),this.server.expose(t),this.server.setMethodPrefix(r),this.server.run()}}function jt(){const e=pt.box.keyPair(),t=ot(e.publicKey),r=ot(e.secretKey);return{privateKey:e.secretKey,publicKey:e.publicKey,privateKeyHex:r,publicKeyHex:t}}function Vt(e){return e.publicKeyHex&&!e.publicKey&&(e.publicKey=at(e.publicKeyHex)),e.privateKeyHex&&!e.privateKey&&(e.privateKey=at(e.privateKeyHex)),e}pt.util=mt,pt.util=mt,pt.util=mt;class qt extends tt{constructor({address:e,protocol:t,lane:r,keypair:n=jt(),rpcRequestTimeout:s,verbose:o=!1,tag:a}={}){super(),this.protocol=t,this.lane=r;const{privateKey:c,publicKey:i}=Vt(n);this.clientPrivateKey=c,this.clientPublicKey=i,this.clientPublicKeyHex=ot(i),this.rpcClient=new Ut(this,s),this.address=e,this.verbose=o,this.tag=a,this.sentCount=0,this.receivedCount=0,this.successfulConnectsCount=0}send(e){vt({data:e,connector:this}),this.sentCount+=1}signal(e,t){this.send({signal:e,data:t})}wireReceive({jsonData:e,encryptedData:t,rawMessage:r}){gt({jsonData:e,encryptedData:t,rawMessage:r,connector:this}),this.receivedCount+=1}isReady(){return this.ready}closed(){return!this.connected}decommission(){this.decommissioned=!0}connectStatus(e){if(e){this.sentCount=0,this.receivedCount=0,this.connected=!0,this.successfulConnectsCount+=1;const e=this.successfulConnectsCount;this.diffieHellman({clientPrivateKey:this.clientPrivateKey,clientPublicKey:this.clientPublicKey,lane:this.lane}).then((({sharedSecret:e,sharedSecretHex:t})=>{this.ready=!0,this.connectedAt=Date.now(),this.emit("ready",{sharedSecret:e,sharedSecretHex:t});const r=this.tag?` (${this.tag})`:"";console.log(`✓ Secure channel ready [ ${this.address}${r} · Protocol ${this.protocol} · Negotiating lane: ${this.lane} ]`)})).catch((t=>{e==this.successfulConnectsCount&&(console.log(t),console.log("dropping connection and retrying again"),this.connection.terminate())}))}else{let e;if(this.connected&&(e=!0),null==this.connected){const e=this.tag?` (${this.tag})`:"";console.log(`Connector ${this.address}${e} was not able to connect at first try, setting READY to false`)}this.connected=!1,this.ready=!1,delete this.connectedAt,e&&this.emit("disconnect")}}remoteObject(e){return{call:(t,r=[])=>{return this.rpcClient.remoteObject(e).call(t,void 0===(n=r)||null==n?[]:Array.isArray(n)?n:[n]);var n}}}attachObject(e,t){new Dt({serversideChannel:this,serverMethods:t,methodPrefix:e})}diffieHellman({clientPrivateKey:e,clientPublicKey:t,lane:r}){return new Promise(((t,n)=>{this.remoteObject("Auth").call("exchangePubkeys",{pubkey:this.clientPublicKeyHex}).then((s=>{const o=pt.box.before(at(s),e),a=ot(o);this.sharedSecret=o,this._remotePubkeyHex=s,t({sharedSecret:o,sharedSecretHex:a}),this.verbose&&(console.log("Established shared secret through diffie-hellman exchange:"),console.log(a)),this.remoteObject("Auth").call("finalizeHandshake",{lane:r}).then((()=>{})).catch((e=>{console.log(`x Lane ${this.lane} error or not available`),n(e)}))})).catch(n)}))}clientPubkey(){return this.clientPublicKeyHex}remotePubkeyHex(){return this._remotePubkeyHex}remoteAddress(){return this.address}}const Bt="undefined"!=typeof window;const Lt="undefined"!=typeof window;function zt({endpoint:e,address:t,port:r,protocol:n,lane:s,keypair:o,remotePubkey:a,rpcRequestTimeout:c,verbose:i,tag:l},{WebSocket:h,log:u}){e=function({endpoint:e,address:t,port:r}){Bt&&e&&e.startsWith("/")&&(e=`${window.location.protocol.includes("s")?"wss":"ws"}://${window.location.host}${e}`);e||(Bt?(t=t||window.location.hostname,e=`${window.location.protocol.includes("s")?"wss":"ws"}://${t}`,r?e=`${e}:${r}`:window.location.port&&(e=`${e}:${window.location.port}`)):e=`ws://${t}:${r}`);return e}({endpoint:e,address:t,port:r});const f=new qt({address:e,protocol:n,lane:s,rpcRequestTimeout:c,keypair:o,verbose:i,tag:l});if(f.connection)return f;f.connection={terminate(){this.websocket._removeAllCallbacks(),this.websocket.close(),f.connectStatus(!1)},endpoint:e,checkTicker:0},setTimeout((()=>Kt({connector:f,endpoint:e,protocol:n},{WebSocket:h,log:u})),10);const d=()=>{f.decommissioned||(!function({connector:e,endpoint:t,protocol:r},{WebSocket:n,log:s}){const o=e.connection;if(Ht(o)||e.decommissioned)return Ht(o)?s(`Connection ${e.connection.endpoint} became idle, closing websocket ${o.websocket.rand}`):s(`Connection ${e.connection.endpoint} decommisioned, closing websocket ${o.websocket.rand}, will not retry again `),void o.terminate();Ft(o)?o.websocket.send("ping"):(null==e.connected&&(s("Setting connector status to FALSE because connector.connected is undefined"),e.connectStatus(!1)),Kt({connector:e,endpoint:t,protocol:r},{WebSocket:n,log:s}));o.checkTicker+=1}({connector:f,endpoint:e,protocol:n},{WebSocket:h,log:u}),setTimeout(d,1500))};return setTimeout(d,1500),f}function Kt({connector:e,endpoint:t,protocol:r},{WebSocket:n,log:s}){const o=e.connection;if(o.currentlyTryingWS&&0==o.currentlyTryingWS.readyState){if(3!=o.currentlyTryingWS._waitForConnectCounter)return void(o.currentlyTryingWS._waitForConnectCounter+=1);o.currentlyTryingWS._removeAllCallbacks(),o.currentlyTryingWS.close()}const a=new n(t,r);o.currentlyTryingWS=a,o.currentlyTryingWS._waitForConnectCounter=0,a.rand=Math.random(),Lt&&(a.binaryType="arraybuffer"),Lt||a.on("error",(e=>{}));const c=t=>{o.currentlyTryingWS=null,o.checkTicker=0,function({ws:e,connector:t,openCallback:r},{log:n}){const s=t.connection,o=r=>{n(`websocket ${e.rand} conn ${t.connection.endpoint} error`),n(r)},a=e=>{t.connectStatus(!1)},c=e=>{s.checkTicker=0;const r=Lt?e.data:e;if("pong"==r)return;let n;try{n=JSON.parse(r)}catch(o){}if(n)t.wireReceive({jsonData:n,rawMessage:r});else{const e=Lt?new Uint8Array(r):r;t.wireReceive({encryptedData:e})}};e._removeAllCallbacks=()=>{e.removeEventListener("error",o),e.removeEventListener("close",a),e.removeEventListener("message",c),e.removeEventListener("open",r)},Lt?(e.addEventListener("error",o),e.addEventListener("close",a),e.addEventListener("message",c)):(e.on("error",o),e.on("close",a),e.on("message",c))}({ws:a,connector:e,openCallback:c},{log:s}),o.websocket=a,e.connectStatus(!0)};a._removeAllCallbacks=()=>{a.removeEventListener("open",c)},Lt?a.addEventListener("open",c):a.on("open",c)}function Ft(e){return e.websocket&&1==e.websocket.readyState}function Ht(e){return Ft(e)&&e.checkTicker>5}const{applyPatch:Yt}=Ge;class Wt extends nt{constructor({endpoint:e,address:t,port:r,protocol:n,lane:s,keypair:o=jt(),logStore:a,rpcRequestTimeout:c,verbose:i}={}){super({}),this.protocol=n,this.lane=s,this.logStore=a,this.verbose=i,this.rpcRequestTimeout=c,this.connected=new nt,this.connect(e,t,r,Vt(o)),this.shapes={}}signal(e,t){this.connector.connected?(console.log(`Sending signal '${e}' over connector ${this.connector.address}`),this.connector.signal(e,t)):console.log("Warning: trying to send signal over disconnected connector, this should be prevented by GUI (to disable any backend state-change when disconnected)")}shape(e){return this.shapes[e]||(this.shapes[e]=new nt),this.shapes[e]}remoteObject(e){return this.connector.remoteObject(e)}connect(e,t,r,n){this.connector=zt({endpoint:e,address:t,port:r,protocol:this.protocol,lane:this.lane,keypair:n,rpcRequestTimeout:this.rpcRequestTimeout,verbose:this.verbose},{WebSocket:WebSocket,log:st}),this.connector.on("ready",(({sharedSecret:e,sharedSecretHex:t})=>{this.connected.set(!0),this.emit("ready")})),setTimeout((()=>{null==this.connected.get()&&this.connected.set(!1)}),300),this.connector.on("disconnect",(()=>{this.connected.set(!1)})),this.connector.on("receive_state",(e=>{this.wireStateReceived=!0,this.verbose&&(console.log(`New store ${t} / ${this.protocol} / ${this.lane} state:`),console.log(e)),this.set(e)})),this.connector.on("receive_diff",(e=>{this.wireStateReceived&&(Yt(this.state,e),this.announceStateChange())})),this.connector.on("receive_shape",(({name:e,state:t})=>{this.shape(e).set(t)}))}}function Gt(e){const t=new Wt(e),{connected:r,action:n,remoteObject:s,connector:o}=t,a=t.shape.bind(t);return{state:t,shape:a,connected:r,api:s.bind(t),connector:o}}var Jt=ht((function(e,t){function r(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function n(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}Object.defineProperty(t,"__esModule",{value:!0}),t.Pointer=void 0;var s=function(){function e(e){void 0===e&&(e=[""]),this.tokens=e}return e.fromJSON=function(t){var n=t.split("/").map(r);if(""!==n[0])throw new Error("Invalid JSON Pointer: "+t);return new e(n)},e.prototype.toString=function(){return this.tokens.map(n).join("/")},e.prototype.evaluate=function(e){for(var t=null,r="",n=e,s=1,o=this.tokens.length;s<o;s++)n=((t=n)||{})[r=this.tokens[s]];return{parent:t,key:r,value:n}},e.prototype.get=function(e){return this.evaluate(e).value},e.prototype.set=function(e,t){for(var r=e,n=1,s=this.tokens.length-1,o=this.tokens[n];n<s;n++)r=(r||{})[o];r&&(r[this.tokens[this.tokens.length-1]]=t)},e.prototype.push=function(e){this.tokens.push(e)},e.prototype.add=function(t){return new e(this.tokens.concat(String(t)))},e}();t.Pointer=s})),Qt=ht((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.clone=t.objectType=t.hasOwnProperty=void 0,t.hasOwnProperty=Object.prototype.hasOwnProperty,t.objectType=function(e){return void 0===e?"undefined":null===e?"null":Array.isArray(e)?"array":typeof e},t.clone=function e(r){if(null==(n=r)||"object"!=typeof n)return r;var n;if(r.constructor==Array){for(var s=r.length,o=new Array(s),a=0;a<s;a++)o[a]=e(r[a]);return o}var c={};for(var i in r)t.hasOwnProperty.call(r,i)&&(c[i]=e(r[i]));return c}})),Zt=ht((function(e,t){function r(e,t){var r={};for(var n in e)Qt.hasOwnProperty.call(e,n)&&void 0!==e[n]&&(r[n]=1);for(var s in t)Qt.hasOwnProperty.call(t,s)&&void 0!==t[s]&&delete r[s];return Object.keys(r)}function n(e){for(var t=e.length,r={},n=0;n<t;n++){var s=e[n];for(var o in s)Qt.hasOwnProperty.call(s,o)&&void 0!==s[o]&&(r[o]=(r[o]||0)+1)}for(var o in r)r[o]<t&&delete r[o];return Object.keys(r)}function s(e,t){return{operations:e.operations.concat(t),cost:e.cost+1}}function o(e,t,r,n){void 0===n&&(n=c);var o={"0,0":{operations:[],cost:0}};var a=isNaN(e.length)||e.length<=0?0:e.length,i=isNaN(t.length)||t.length<=0?0:t.length;return function r(a,c){var i=a+","+c,l=o[i];if(void 0===l){if(a>0&&c>0&&!n(e[a-1],t[c-1],new Jt.Pointer).length)l=r(a-1,c-1);else{var h=[];if(a>0){var u=r(a-1,c),f={op:"remove",index:a-1};h.push(s(u,f))}if(c>0){var d=r(a,c-1),p={op:"add",index:a-1,value:t[c-1]};h.push(s(d,p))}if(a>0&&c>0){var m=r(a-1,c-1),v={op:"replace",index:a-1,original:e[a-1],value:t[c-1]};h.push(s(m,v))}l=h.sort((function(e,t){return e.cost-t.cost}))[0]}o[i]=l}return l}(a,i).operations.reduce((function(e,t){var s=e[0],o=e[1];if(function(e){return"add"===e.op}(t)){var c=t.index+1+o,i=c<a+o?String(c):"-",l={op:t.op,path:r.add(i).toString(),value:t.value};return[s.concat(l),o+1]}if(function(e){return"remove"===e.op}(t)){l={op:t.op,path:r.add(String(t.index+o)).toString()};return[s.concat(l),o-1]}var h=r.add(String(t.index+o)),u=n(t.original,t.value,h);return[s.concat.apply(s,u),o]}),[[],0])[0]}function a(e,t,s,o){void 0===o&&(o=c);var a=[];return r(e,t).forEach((function(e){a.push({op:"remove",path:s.add(e).toString()})})),r(t,e).forEach((function(e){a.push({op:"add",path:s.add(e).toString(),value:t[e]})})),n([e,t]).forEach((function(r){a.push.apply(a,o(e[r],t[r],s.add(r)))})),a}function c(e,t,r,n){if(void 0===n&&(n=c),e===t)return[];var s=Qt.objectType(e),i=Qt.objectType(t);return"array"==s&&"array"==i?o(e,t,r,n):"object"==s&&"object"==i?a(e,t,r,n):[{op:"replace",path:r.toString(),value:t}]}Object.defineProperty(t,"__esModule",{value:!0}),t.diffAny=t.diffObjects=t.diffArrays=t.intersection=t.subtract=t.isDestructive=void 0,t.isDestructive=function(e){var t=e.op;return"remove"===t||"replace"===t||"copy"===t||"move"===t},t.subtract=r,t.intersection=n,t.diffArrays=o,t.diffObjects=a,t.diffAny=c})),Xt=ht((function(e,t){var r=it&&it.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.apply=t.InvalidOperationError=t.test=t.copy=t.move=t.replace=t.remove=t.add=t.TestError=t.MissingError=void 0;var n=function(e){function t(t){var r=e.call(this,"Value required at path: "+t)||this;return r.path=t,r.name="MissingError",r}return r(t,e),t}(Error);t.MissingError=n;var s=function(e){function t(t,r){var n=e.call(this,"Test failed: "+t+" != "+r)||this;return n.actual=t,n.expected=r,n.name="TestError",n}return r(t,e),t}(Error);function o(e,t,r){if(Array.isArray(e))if("-"==t)e.push(r);else{var n=parseInt(t,10);e.splice(n,0,r)}else e[t]=r}function a(e,t){if(Array.isArray(e)){var r=parseInt(t,10);e.splice(r,1)}else delete e[t]}function c(e,t){var r=Jt.Pointer.fromJSON(t.path).evaluate(e);return void 0===r.parent?new n(t.path):(o(r.parent,r.key,Qt.clone(t.value)),null)}function i(e,t){var r=Jt.Pointer.fromJSON(t.path).evaluate(e);return void 0===r.value?new n(t.path):(a(r.parent,r.key),null)}function l(e,t){var r=Jt.Pointer.fromJSON(t.path).evaluate(e);if(null===r.parent)return new n(t.path);if(Array.isArray(r.parent)){if(parseInt(r.key,10)>=r.parent.length)return new n(t.path)}else if(void 0===r.value)return new n(t.path);return r.parent[r.key]=t.value,null}function h(e,t){var r=Jt.Pointer.fromJSON(t.from).evaluate(e);if(void 0===r.value)return new n(t.from);var s=Jt.Pointer.fromJSON(t.path).evaluate(e);return void 0===s.parent?new n(t.path):(a(r.parent,r.key),o(s.parent,s.key,r.value),null)}function u(e,t){var r=Jt.Pointer.fromJSON(t.from).evaluate(e);if(void 0===r.value)return new n(t.from);var s=Jt.Pointer.fromJSON(t.path).evaluate(e);return void 0===s.parent?new n(t.path):(o(s.parent,s.key,Qt.clone(r.value)),null)}function f(e,t){var r=Jt.Pointer.fromJSON(t.path).evaluate(e);return Zt.diffAny(r.value,t.value,new Jt.Pointer).length?new s(r.value,t.value):null}t.TestError=s,t.add=c,t.remove=i,t.replace=l,t.move=h,t.copy=u,t.test=f;var d=function(e){function t(t){var r=e.call(this,"Invalid operation: "+t.op)||this;return r.operation=t,r.name="InvalidOperationError",r}return r(t,e),t}(Error);t.InvalidOperationError=d,t.apply=function(e,t){switch(t.op){case"add":return c(e,t);case"remove":return i(e,t);case"replace":return l(e,t);case"move":return h(e,t);case"copy":return u(e,t);case"test":return f(e,t)}return new d(t)}}));lt(ht((function(e,t){function r(e,t){var r=Jt.Pointer.fromJSON(t).evaluate(e);if(void 0!==r)return{op:"test",path:t,value:r.value}}Object.defineProperty(t,"__esModule",{value:!0}),t.createTests=t.createPatch=t.applyPatch=void 0,t.applyPatch=function(e,t){return t.map((function(t){return Xt.apply(e,t)}))},t.createPatch=function(e,t,r){var n=new Jt.Pointer;return(r?function(e){return function t(r,n,s){var o=e(r,n,s);return Array.isArray(o)?o:Zt.diffAny(r,n,s,t)}}(r):Zt.diffAny)(e,t,n)},t.createTests=function(e,t){var n=new Array;return t.filter(Zt.isDestructive).forEach((function(t){var s=r(e,t.path);if(s&&n.push(s),"from"in t){var o=r(e,t.from);o&&n.push(o)}})),n}}))).createPatch;const er=l(),tr=l(),rr=l(),nr=l(),sr="localhost"==window.location.hostname||"127.0.0.1"==window.location.hostname,or=sr||window.location.hostname.startsWith("192.168."),ar="zetaseek.com"==window.location.hostname,cr=h(rr,(e=>sr&&"eclipse"==e)),ir=h(cr,(e=>e||ar)),lr=h(tr,(e=>sr||e)),hr=h(ir,(e=>e||"guest.zetaseek.com"==window.location.hostname)),ur="https:"==window.location.protocol,fr=h(er,(e=>e<768));function dr(e,t){return`<span style="color: ${t};">${e}</span>`}var pr={white:function(e){return dr(e,"white")},red:function(e){return dr(e,"#E34042")},green:function(e){return dr(e,"#5FE02A")},gray:function(e){return dr(e,"#C3C6C6")},yellow:function(e){return dr(e,"#E5AE34")},cyan:function(e){return dr(e,"#29B3BF")},magenta:function(e){return dr(e,"#A144E9")}};function mr(){return"undefined"!=typeof ethereum&&ethereum.isMetaMask}function vr(e){if(e.length>0)return e[0]}function gr(e){return()=>new Promise(((t,r)=>{new Promise(((e,t)=>{mr()?ethereum.send("eth_requestAccounts").then((t=>{e(t.result)})).catch((e=>{4001===e.code?t(new Error("Please connect to MetaMask.")):t(e)})):t(new Error("Metamask not installed! Why was the connect button shown ?"))})).then((t=>{const r=vr(t);r?e(r):(console.log("WARNING: received this from eth_requestAccounts, could not parse out a single account:"),console.log(t),console.log("--------------------"))})).catch(r)}))}var yr=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",metamaskInit:function e(t=(()=>{}),{retryCount:r=20}={}){const n=20==r;return mr()?(ethereum.selectedAddress?t(ethereum.selectedAddress):r>0&&setTimeout((()=>e(t,{retryCount:r-1})),100),n&&ethereum.on("accountsChanged",(e=>{const r=vr(e);r&&t(r)})),gr(t)):(console.log("METAMASK INIT FAILED: not installed"),!1)}});function br(e){return e?e.trim().replace(/\s+/g," "):e}let wr,$r,Er,_r="";const kr=[];function Ar({searchQuery:e="",page:t,searchMode:r,selectedTags:n,keepSelectedTags:s,remoteObject:o,remoteMethod:a,searchStatusCallback:c=(()=>{}),searchDelay:i=1300,force:l,searchMetadata:h,timezone:f}){return new Promise(((d,p)=>{if(""==e.trim())return kr.push(Date.now()),s||n.set({}),(""!=_r||l)&&(clearTimeout(Er),c({searching:!1}),d(l?null:[])),_r=e,wr=t,void($r=r);try{(l||function({searchQuery:e,prevQuery:t,searchMode:r,prevSearchMode:n,page:s,prevPage:o}){return br(e)!=br(t)||r!=n||s!=o}({searchQuery:e,prevQuery:_r,searchMode:r,prevSearchMode:$r,page:t,prevPage:wr}))&&(s||n.set({}),clearTimeout(Er),c({searching:!0}),_r=e,wr=t,$r=r,Er=setTimeout((()=>{const s=Date.now();kr.push(s),console.log(`Search executed on remote object: ${e}`),o.call(a,{query:br(e),page:t,searchMode:r,selectedTags:Object.keys(u(n)),searchMetadata:h,timezone:f}).then((e=>{const t=kr[kr.length-1];if(s==t){const t=e.filter((e=>e.error||0==e.results.length)).length==e.length,r=e.filter((e=>{var t;return null==(t=e.results)?void 0:t.length})),n=r.filter((e=>e.meta.noMorePages)).length==r.length;c({searching:!1,noHits:t,noMorePages:n}),d(e)}else console.log("Discarding search result which came out of order because a more recent result is due ...")})).catch((e=>{c({searching:!1}),console.log("executeSearch ERROR:"),console.log(e),p(e)}))}),i))}catch(m){console.log("This error should not happen: bug in dmt-js"),c({searching:!1}),p(m)}}))}const Sr=l(),xr=l(1),Pr=l(),Tr=l(0),Nr=l({}),Ir=l(!1),Or=l(!1),Mr=l(!1),Rr=l({});function Cr(e){let t,r,n,s,o,a,c,i,l,h,u,f,d,p,A,S;return{c(){t=m("div"),r=m("a"),n=m("img"),o=v(),a=m("a"),c=m("img"),l=v(),h=m("a"),u=m("img"),d=v(),p=m("a"),A=m("img"),this.h()},l(e){t=g(e,"DIV",{class:!0});var s=y(t);r=g(s,"A",{href:!0,class:!0});var i=y(r);n=g(i,"IMG",{class:!0,src:!0}),i.forEach(b),o=w(s),a=g(s,"A",{href:!0,class:!0});var f=y(a);c=g(f,"IMG",{class:!0,src:!0}),f.forEach(b),l=w(s),h=g(s,"A",{href:!0,class:!0});var m=y(h);u=g(m,"IMG",{class:!0,src:!0}),m.forEach(b),d=w(s),p=g(s,"A",{href:!0,class:!0});var v=y(p);A=g(v,"IMG",{class:!0,src:!0}),v.forEach(b),s.forEach(b),this.h()},h(){$(n,"class","icon svelte-1873t78"),n.src!==(s="assets/twitter.c5b1edb0.png")&&$(n,"src","assets/twitter.c5b1edb0.png"),$(r,"href","https://twitter.com/zetaseek"),$(r,"class","svelte-1873t78"),$(c,"class","icon discord svelte-1873t78"),c.src!==(i="assets/discord_black.6817c341.svg")&&$(c,"src","assets/discord_black.6817c341.svg"),$(a,"href","https://discord.gg/wBpKWepJra"),$(a,"class","svelte-1873t78"),$(u,"class","icon github svelte-1873t78"),u.src!==(f="assets/github.7c0295c7.svg")&&$(u,"src","assets/github.7c0295c7.svg"),$(h,"href","https://github.com/uniqpath/dmt"),$(h,"class","svelte-1873t78"),$(A,"class","icon email svelte-1873t78"),A.src!==(S="assets/email.38bdebdd.svg")&&$(A,"src","assets/email.38bdebdd.svg"),$(p,"href","mailto:hello@uniqpath.com"),$(p,"class","svelte-1873t78"),$(t,"class","social svelte-1873t78")},m(e,s){E(e,t,s),_(t,r),_(r,n),_(t,o),_(t,a),_(a,c),_(t,l),_(t,h),_(h,u),_(t,d),_(t,p),_(p,A)},p:k,d(e){e&&b(t)}}}function Ur(e){let t,r,n,s,o,a,c,i,l=e[1]&&Cr();return{c(){t=m("div"),r=m("div"),n=m("a"),s=A("DMT SYSTEM"),o=v(),a=m("span"),c=A(e[0]),i=v(),l&&l.c(),this.h()},l(h){t=g(h,"DIV",{class:!0});var u=y(t);r=g(u,"DIV",{class:!0});var f=y(r);n=g(f,"A",{href:!0,class:!0});var d=y(n);s=S(d,"DMT SYSTEM"),d.forEach(b),f.forEach(b),o=w(u),a=g(u,"SPAN",{class:!0});var p=y(a);c=S(p,e[0]),p.forEach(b),i=w(u),l&&l.l(u),u.forEach(b),this.h()},h(){$(n,"href","https://dmt-system.com"),$(n,"class","svelte-1873t78"),$(r,"class","tagline svelte-1873t78"),$(a,"class","version svelte-1873t78"),$(t,"class","about svelte-1873t78")},m(e,h){E(e,t,h),_(t,r),_(r,n),_(n,s),_(t,o),_(t,a),_(a,c),_(t,i),l&&l.m(t,null)},p(e,[r]){1&r&&x(c,e[0]),e[1]?l?l.p(e,r):(l=Cr(),l.c(),l.m(t,null)):l&&(l.d(1),l=null)},i:k,o:k,d(e){e&&b(t),l&&l.d()}}}function Dr(e,t,r){let n,s;P(e,ir,(e=>r(1,s=e)));let{dmtVersion:o}=t;return e.$$set=e=>{"dmtVersion"in e&&r(2,o=e.dmtVersion)},e.$$.update=()=>{4&e.$$.dirty&&r(0,n=o||"")},[n,s,o]}class jr extends f{constructor(e){super(),d(this,e,Dr,Ur,p,{dmtVersion:2})}}function Vr(e){let t,r,n,s,o,a,c,i,l,h;return{c(){t=m("div"),r=m("h3"),n=A(e[0]),s=v(),o=m("div"),a=m("a"),c=m("img"),l=v(),h=m("br"),this.h()},l(i){t=g(i,"DIV",{class:!0});var u=y(t);r=g(u,"H3",{class:!0});var f=y(r);n=S(f,e[0]),f.forEach(b),s=w(u),o=g(u,"DIV",{class:!0});var d=y(o);a=g(d,"A",{href:!0,class:!0});var p=y(a);c=g(p,"IMG",{class:!0,src:!0}),l=w(p),h=g(p,"BR",{}),p.forEach(b),d.forEach(b),u.forEach(b),this.h()},h(){$(r,"class","svelte-2me3vz"),$(c,"class","banner svelte-2me3vz"),c.src!==(i=e[2])&&$(c,"src",i),$(a,"href",e[1]),$(a,"class","svelte-2me3vz"),$(o,"class","inner"),$(t,"class","promo svelte-2me3vz"),T(t,"visible",!e[3])},m(e,i){E(e,t,i),_(t,r),_(r,n),_(t,s),_(t,o),_(o,a),_(a,c),_(a,l),_(a,h)},p(e,[r]){1&r&&x(n,e[0]),4&r&&c.src!==(i=e[2])&&$(c,"src",i),2&r&&$(a,"href",e[1]),8&r&&T(t,"visible",!e[3])},i:k,o:k,d(e){e&&b(t)}}}function qr(e,t,r){let{title:n}=t,{fileUrl:s}=t,{img:o}=t;return e.$$set=e=>{"title"in e&&r(0,n=e.title),"fileUrl"in e&&r(1,s=e.fileUrl),"img"in e&&r(2,o=e.img)},[n,s,o,undefined]}class Br extends f{constructor(e){super(),d(this,e,qr,Vr,p,{title:0,fileUrl:1,img:2})}}function Lr(e,t,r){const n=e.slice();return n[7]=t[r].deviceTag,n[8]=t[r].operational,n[9]=t[r].versionCompareSymbol,n[10]=t[r].peerState,n}function zr(e){let t,r;function n(e,t){return e[1]&&e[1].length>0?Fr:Kr}let s=n(e),o=s(e),a=e[1]&&Hr(e);return{c(){o.c(),t=v(),a&&a.c(),r=N()},l(e){o.l(e),t=w(e),a&&a.l(e),r=N()},m(e,n){o.m(e,n),E(e,t,n),a&&a.m(e,n),E(e,r,n)},p(e,c){s!==(s=n(e))&&(o.d(1),o=s(e),o&&(o.c(),o.m(t.parentNode,t))),e[1]?a?a.p(e,c):(a=Hr(e),a.c(),a.m(r.parentNode,r)):a&&(a.d(1),a=null)},d(e){o.d(e),e&&b(t),a&&a.d(e),e&&b(r)}}}function Kr(e){let t,r,n,s;return{c(){t=m("span"),r=A("Peers → "),n=m("span"),s=A("Not following anyone yet."),this.h()},l(e){t=g(e,"SPAN",{class:!0});var o=y(t);r=S(o,"Peers → "),n=g(o,"SPAN",{class:!0});var a=y(n);s=S(a,"Not following anyone yet."),a.forEach(b),o.forEach(b),this.h()},h(){$(n,"class","white svelte-13gawhg"),$(t,"class","title svelte-13gawhg")},m(e,o){E(e,t,o),_(t,r),_(t,n),_(n,s)},d(e){e&&b(t)}}}function Fr(e){let t,r;return{c(){t=m("span"),r=A("— Following Peers —"),this.h()},l(e){t=g(e,"SPAN",{class:!0});var n=y(t);r=S(n,"— Following Peers —"),n.forEach(b),this.h()},h(){$(t,"class","title svelte-13gawhg")},m(e,n){E(e,t,n),_(t,r)},d(e){e&&b(t)}}}function Hr(e){let t,r=e[1],n=[];for(let s=0;s<r.length;s+=1)n[s]=Jr(Lr(e,r,s));return{c(){for(let e=0;e<n.length;e+=1)n[e].c();t=N()},l(e){for(let t=0;t<n.length;t+=1)n[t].l(e);t=N()},m(e,r){for(let t=0;t<n.length;t+=1)n[t].m(e,r);E(e,t,r)},p(e,s){if(2&s){let o;for(r=e[1],o=0;o<r.length;o+=1){const a=Lr(e,r,o);n[o]?n[o].p(a,s):(n[o]=Jr(a),n[o].c(),n[o].m(t.parentNode,t))}for(;o<n.length;o+=1)n[o].d(1);n.length=r.length}},d(e){I(n,e),e&&b(t)}}}function Yr(e){let t,r=e[10].dmtVersion&&Wr(e);return{c(){r&&r.c(),t=N()},l(e){r&&r.l(e),t=N()},m(e,n){r&&r.m(e,n),E(e,t,n)},p(e,n){e[10].dmtVersion?r?r.p(e,n):(r=Wr(e),r.c(),r.m(t.parentNode,t)):r&&(r.d(1),r=null)},d(e){r&&r.d(e),e&&b(t)}}}function Wr(e){let t,r,n,s=e[10].dmtVersion+"",o=e[9]&&Gr(e);return{c(){t=m("span"),o&&o.c(),r=v(),n=A(s),this.h()},l(e){t=g(e,"SPAN",{class:!0});var a=y(t);o&&o.l(a),r=w(a),n=S(a,s),a.forEach(b),this.h()},h(){$(t,"class","dmt_version svelte-13gawhg")},m(e,s){E(e,t,s),o&&o.m(t,null),_(t,r),_(t,n)},p(e,a){e[9]?o?o.p(e,a):(o=Gr(e),o.c(),o.m(t,r)):o&&(o.d(1),o=null),2&a&&s!==(s=e[10].dmtVersion+"")&&x(n,s)},d(e){e&&b(t),o&&o.d()}}}function Gr(e){let t,r,n=e[9]+"";return{c(){t=m("span"),r=A(n),this.h()},l(e){t=g(e,"SPAN",{class:!0});var s=y(t);r=S(s,n),s.forEach(b),this.h()},h(){$(t,"class","compare svelte-13gawhg")},m(e,n){E(e,t,n),_(t,r)},p(e,t){2&t&&n!==(n=e[9]+"")&&x(r,n)},d(e){e&&b(t)}}}function Jr(e){let t,r,n,s,o,a,c,i,l,h,u=e[7]+"",f=e[10]&&Yr(e);return{c(){t=m("div"),r=m("span"),n=A("ok"),s=v(),o=m("span"),a=A("✖"),c=v(),i=A(u),l=v(),f&&f.c(),h=v(),this.h()},l(e){t=g(e,"DIV",{class:!0});var d=y(t);r=g(d,"SPAN",{class:!0});var p=y(r);n=S(p,"ok"),p.forEach(b),s=w(d),o=g(d,"SPAN",{class:!0});var m=y(o);a=S(m,"✖"),m.forEach(b),c=w(d),i=S(d,u),l=w(d),f&&f.l(d),h=w(d),d.forEach(b),this.h()},h(){$(r,"class","ok svelte-13gawhg"),$(o,"class","cross svelte-13gawhg"),$(t,"class","peer svelte-13gawhg"),T(t,"operational",1==e[8])},m(e,u){E(e,t,u),_(t,r),_(r,n),_(t,s),_(t,o),_(o,a),_(t,c),_(t,i),_(t,l),f&&f.m(t,null),_(t,h)},p(e,r){2&r&&u!==(u=e[7]+"")&&x(i,u),e[10]?f?f.p(e,r):(f=Yr(e),f.c(),f.m(t,h)):f&&(f.d(1),f=null),2&r&&T(t,"operational",1==e[8])},d(e){e&&b(t),f&&f.d()}}}function Qr(e){let t,r=e[2]&&zr(e);return{c(){t=m("div"),r&&r.c(),this.h()},l(e){t=g(e,"DIV",{class:!0});var n=y(t);r&&r.l(n),n.forEach(b),this.h()},h(){$(t,"class","peerlist svelte-13gawhg")},m(e,n){E(e,t,n),r&&r.m(t,null)},p(e,[n]){e[2]?r?r.p(e,n):(r=zr(e),r.c(),r.m(t,null)):r&&(r.d(1),r=null)},i:k,o:k,d(e){e&&b(t),r&&r.d()}}}function Zr(e,t,r){let n,s,o,a,c=k,i=()=>(c(),c=O(l,(e=>r(5,o=e))),l);e.$$.on_destroy.push((()=>c()));let{backend:l}=t;i();const{connected:h}=l;return P(e,h,(e=>r(2,a=e))),e.$$set=e=>{"backend"in e&&i(r(0,l=e.backend))},e.$$.update=()=>{32&e.$$.dirty&&r(4,n=o.device),16&e.$$.dirty&&n&&n.dmtVersion,32&e.$$.dirty&&r(1,s=o.peerlist)},[l,s,a,h,n,o]}class Xr extends f{constructor(e){super(),d(this,e,Zr,Qr,p,{backend:0})}}function en(e){let t,r;return t=new Xr({props:{backend:e[1]}}),{c(){M(t.$$.fragment)},l(e){R(t.$$.fragment,e)},m(e,n){C(t,e,n),r=!0},p(e,r){const n={};2&r&&(n.backend=e[1]),t.$set(n)},i(e){r||(U(t.$$.fragment,e),r=!0)},o(e){D(t.$$.fragment,e),r=!1},d(e){j(t,e)}}}function tn(e){let t,r,n,s,o,a,c,i,l,h,u,f,d;t=new Br({props:{fileUrl:"http://zetaseek.com/file/uniqpath%20DMT%20ENGINE.pdf?place=localhost-2f686f6d652f7a6574612f46696c65732f444d542d53595354454d2f50726573656e746174696f6e73",title:"Check out the DMT ENGINE intro presentation",img:"assets/dmt_engine_intro.62f27191.jpg"}}),n=new Br({props:{fileUrl:"https://github.com/uniqpath/dmt/blob/main/help/TRY_DMT_SEARCH.md",title:"Tutorial → Try DMT SEARCH on your own machines",img:"assets/dmt_search_engine.9bc10bb3.jpg"}});let p=e[7]&&rn(e);return{c(){M(t.$$.fragment),r=v(),M(n.$$.fragment),s=v(),o=m("div"),a=m("span"),c=A("↑ 100% private search."),i=A("\n      Try connecting MetaMask to"),l=m("br"),h=A(" see search queries on this instance."),u=v(),p&&p.c(),f=N(),this.h()},l(e){R(t.$$.fragment,e),r=w(e),R(n.$$.fragment,e),s=w(e),o=g(e,"DIV",{class:!0});var d=y(o);a=g(d,"SPAN",{class:!0});var m=y(a);c=S(m,"↑ 100% private search."),m.forEach(b),i=S(d,"\n      Try connecting MetaMask to"),l=g(d,"BR",{}),h=S(d," see search queries on this instance."),d.forEach(b),u=w(e),p&&p.l(e),f=N(),this.h()},h(){$(a,"class","svelte-1fmv5sa"),$(o,"class","next_feature svelte-1fmv5sa")},m(e,m){C(t,e,m),E(e,r,m),C(n,e,m),E(e,s,m),E(e,o,m),_(o,a),_(a,c),_(o,i),_(o,l),_(o,h),E(e,u,m),p&&p.m(e,m),E(e,f,m),d=!0},p(e,t){e[7]?p?(p.p(e,t),128&t&&U(p,1)):(p=rn(e),p.c(),U(p,1),p.m(f.parentNode,f)):p&&(L(),D(p,1,1,(()=>{p=null})),z())},i(e){d||(U(t.$$.fragment,e),U(n.$$.fragment,e),U(p),d=!0)},o(e){D(t.$$.fragment,e),D(n.$$.fragment,e),D(p),d=!1},d(e){j(t,e),e&&b(r),j(n,e),e&&b(s),e&&b(o),e&&b(u),p&&p.d(e),e&&b(f)}}}function rn(e){let t,r,n,s=e[3]&&nn(e),o=!e[2]&&e[4]&&sn();return{c(){s&&s.c(),t=v(),o&&o.c(),r=N()},l(e){s&&s.l(e),t=w(e),o&&o.l(e),r=N()},m(e,a){s&&s.m(e,a),E(e,t,a),o&&o.m(e,a),E(e,r,a),n=!0},p(e,n){e[3]?s?(s.p(e,n),8&n&&U(s,1)):(s=nn(e),s.c(),U(s,1),s.m(t.parentNode,t)):s&&(L(),D(s,1,1,(()=>{s=null})),z()),!e[2]&&e[4]?o?20&n&&U(o,1):(o=sn(),o.c(),U(o,1),o.m(r.parentNode,r)):o&&(L(),D(o,1,1,(()=>{o=null})),z())},i(e){n||(U(s),U(o),n=!0)},o(e){D(s),D(o),n=!1},d(e){s&&s.d(e),e&&b(t),o&&o.d(e),e&&b(r)}}}function nn(e){let t,r,n,s,o,a,c,i,l,h,u;return{c(){t=m("div"),r=m("b"),n=m("a"),s=A("DMT MEETUP"),o=v(),a=m("br"),c=v(),i=A(e[3]),this.h()},l(l){t=g(l,"DIV",{class:!0});var h=y(t);r=g(h,"B",{});var u=y(r);n=g(u,"A",{href:!0});var f=y(n);s=S(f,"DMT MEETUP"),f.forEach(b),u.forEach(b),o=w(h),a=g(h,"BR",{}),c=w(h),i=S(h,e[3]),h.forEach(b),this.h()},h(){$(n,"href","https://dmt-system.com"),$(t,"class","dmt_meetup svelte-1fmv5sa")},m(e,l){E(e,t,l),_(t,r),_(r,n),_(n,s),_(t,o),_(t,a),_(t,c),_(t,i),u=!0},p(e,t){(!u||8&t)&&x(i,e[3])},i(e){u||(V((()=>{h&&h.end(1),l||(l=q(t,F,{duration:1500,delay:0})),l.start()})),u=!0)},o(e){l&&l.invalidate(),h=B(t,F,{}),u=!1},d(e){e&&b(t),e&&h&&h.end()}}}function sn(e){let t,r,n,s,o,a,c,i,l,h,u;return{c(){t=m("div"),r=m("b"),n=m("a"),s=A("DMT SYSTEM"),o=A(" development resumes in Q4 — we are "),a=m("br"),c=A("\n          currently mostly researching, planning or on vacation."),i=m("br"),this.h()},l(e){t=g(e,"DIV",{class:!0});var l=y(t);r=g(l,"B",{});var h=y(r);n=g(h,"A",{href:!0});var u=y(n);s=S(u,"DMT SYSTEM"),u.forEach(b),h.forEach(b),o=S(l," development resumes in Q4 — we are "),a=g(l,"BR",{}),c=S(l,"\n          currently mostly researching, planning or on vacation."),i=g(l,"BR",{}),l.forEach(b),this.h()},h(){$(n,"href","https://dmt-system.com"),$(t,"class","development_style svelte-1fmv5sa")},m(e,l){E(e,t,l),_(t,r),_(r,n),_(n,s),_(t,o),_(t,a),_(t,c),_(t,i),u=!0},i(e){u||(V((()=>{h&&h.end(1),l||(l=q(t,F,{duration:1500,delay:0})),l.start()})),u=!0)},o(e){l&&l.invalidate(),h=B(t,F,{}),u=!1},d(e){e&&b(t),e&&h&&h.end()}}}function on(e){let t,r,n,s=e[5]&&en(e),o=e[6]&&tn(e);return{c(){t=m("div"),s&&s.c(),r=v(),o&&o.c(),this.h()},l(e){t=g(e,"DIV",{class:!0});var n=y(t);s&&s.l(n),r=w(n),o&&o.l(n),n.forEach(b),this.h()},h(){$(t,"class","leftbar svelte-1fmv5sa")},m(e,a){E(e,t,a),s&&s.m(t,null),_(t,r),o&&o.m(t,null),n=!0},p(e,[n]){e[5]?s?(s.p(e,n),32&n&&U(s,1)):(s=en(e),s.c(),U(s,1),s.m(t,r)):s&&(L(),D(s,1,1,(()=>{s=null})),z()),e[6]?o?(o.p(e,n),64&n&&U(o,1)):(o=tn(e),o.c(),U(o,1),o.m(t,null)):o&&(L(),D(o,1,1,(()=>{o=null})),z())},i(e){n||(U(s),U(o),n=!0)},o(e){D(s),D(o),n=!1},d(e){e&&b(t),s&&s.d(),o&&o.d()}}}function an(e,t,r){let n,s,o,a=k,c=()=>(a(),a=O(i,(e=>r(7,o=e))),i);P(e,lr,(e=>r(5,n=e))),P(e,ir,(e=>r(6,s=e))),e.$$.on_destroy.push((()=>a()));let{connected:i}=t;c();let l,h,u,{backend:f}=t,{backend2:d}=t;return d&&d.subscribe((({meetup:e})=>{r(2,l=null==e?void 0:e.meetupScheduled),r(3,h=null==e?void 0:e.meetupStatus)})),K((()=>{setTimeout((()=>{r(4,u=!0)}),1e3)})),e.$$set=e=>{"connected"in e&&c(r(0,i=e.connected)),"backend"in e&&r(1,f=e.backend),"backend2"in e&&r(8,d=e.backend2)},[i,f,l,h,u,n,s,o,d]}class cn extends f{constructor(e){super(),d(this,e,an,on,p,{connected:0,backend:1,backend2:8})}}function ln(e){let t,r,n;return{c(){t=A("Account\n    "),r=m("span"),n=A(e[0]),this.h()},l(s){t=S(s,"Account\n    "),r=g(s,"SPAN",{class:!0});var o=y(r);n=S(o,e[0]),o.forEach(b),this.h()},h(){$(r,"class","svelte-5ldsa5")},m(e,s){E(e,t,s),E(e,r,s),_(r,n)},p(e,t){1&t&&x(n,e[0])},d(e){e&&b(t),e&&b(r)}}}function hn(e){let t,r,n,s,o,a;return{c(){t=m("br"),r=v(),n=m("p"),s=A("There will be more features coming here in Q4 2021."),o=m("br"),a=A("\n      For now you can check out:")},l(e){t=g(e,"BR",{}),r=w(e),n=g(e,"P",{});var c=y(n);s=S(c,"There will be more features coming here in Q4 2021."),o=g(c,"BR",{}),a=S(c,"\n      For now you can check out:"),c.forEach(b)},m(e,c){E(e,t,c),E(e,r,c),E(e,n,c),_(n,s),_(n,o),_(n,a)},d(e){e&&b(t),e&&b(r),e&&b(n)}}}function un(e){let t,r;let n=ln(e),s=e[1]&&hn();return{c(){t=m("div"),n.c(),r=v(),s&&s.c(),this.h()},l(e){t=g(e,"DIV",{id:!0,class:!0});var o=y(t);n.l(o),r=w(o),s&&s.l(o),o.forEach(b),this.h()},h(){$(t,"id","eth_identity"),$(t,"class","svelte-5ldsa5")},m(e,o){E(e,t,o),n.m(t,null),_(t,r),s&&s.m(t,null)},p(e,[r]){n.p(e,r),e[1]?s||(s=hn(),s.c(),s.m(t,null)):s&&(s.d(1),s=null)},i:k,o:k,d(e){e&&b(t),n.d(),s&&s.d()}}}function fn(e,t,r){let n,s;return P(e,tr,(e=>r(0,n=e))),P(e,ir,(e=>r(1,s=e))),[n,s]}class dn extends f{constructor(e){super(),d(this,e,fn,un,p,{})}}function pn(e){let t,r,n,s,o,a,c,i,l,h,u,f,d,p,x;return{c(){t=m("div"),r=A("Install "),n=m("a"),s=A("MetaMask"),o=A(" extension to login.\n  \n\n  "),a=m("div"),c=m("span"),i=A("[ "),l=m("a"),h=A("Watch MetaMask explainer video"),u=A(" ]"),f=v(),d=m("a"),p=m("img"),this.h()},l(e){t=g(e,"DIV",{class:!0});var m=y(t);r=S(m,"Install "),n=g(m,"A",{href:!0,class:!0});var v=y(n);s=S(v,"MetaMask"),v.forEach(b),o=S(m," extension to login.\n  \n\n  "),a=g(m,"DIV",{class:!0});var $=y(a);c=g($,"SPAN",{class:!0});var E=y(c);i=S(E,"[ "),l=g(E,"A",{href:!0,class:!0});var _=y(l);h=S(_,"Watch MetaMask explainer video"),_.forEach(b),u=S(E," ]"),E.forEach(b),$.forEach(b),f=w(m),d=g(m,"A",{href:!0,class:!0});var k=y(d);p=g(k,"IMG",{src:!0,alt:!0,class:!0}),k.forEach(b),m.forEach(b),this.h()},h(){$(n,"href","https://metamask.io"),$(n,"class","svelte-hnu6pi"),$(l,"href","https://www.youtube.com/watch?v=YVgfHZMFFFQ"),$(l,"class","svelte-hnu6pi"),$(c,"class","green"),$(a,"class","explain"),p.src!==(x="/search/img/metamask.png")&&$(p,"src","/search/img/metamask.png"),$(p,"alt","metamask"),$(p,"class","svelte-hnu6pi"),$(d,"href","https://metamask.io"),$(d,"class","svelte-hnu6pi"),$(t,"class","metamask_missing svelte-hnu6pi")},m(e,m){E(e,t,m),_(t,r),_(t,n),_(n,s),_(t,o),_(t,a),_(a,c),_(c,i),_(c,l),_(l,h),_(c,u),_(t,f),_(t,d),_(d,p)},p:k,i:k,o:k,d(e){e&&b(t)}}}class mn extends f{constructor(e){super(),d(this,e,null,pn,p,{})}}function vn(e){let t,r;return t=new mn({}),{c(){M(t.$$.fragment)},l(e){R(t.$$.fragment,e)},m(e,n){C(t,e,n),r=!0},p:k,i(e){r||(U(t.$$.fragment,e),r=!0)},o(e){D(t.$$.fragment,e),r=!1},d(e){j(t,e)}}}function gn(e){let t,r,n,s,o,a,c,i,l,h,u,f,d=e[2]&&bn();return{c(){t=m("div"),r=m("a"),n=m("img"),o=v(),a=m("br"),c=v(),i=m("b"),l=A("CONNECT"),h=v(),d&&d.c(),this.h()},l(e){t=g(e,"DIV",{class:!0,"tinro-ignore":!0});var s=y(t);r=g(s,"A",{href:!0,"tinro-ignore":!0});var u=y(r);n=g(u,"IMG",{src:!0,alt:!0,class:!0}),u.forEach(b),o=w(s),a=g(s,"BR",{}),c=w(s),i=g(s,"B",{});var f=y(i);l=S(f,"CONNECT"),f.forEach(b),h=w(s),d&&d.l(s),s.forEach(b),this.h()},h(){n.src!==(s="/search/img/metamask.png")&&$(n,"src","/search/img/metamask.png"),$(n,"alt","metamask "),$(n,"class","svelte-qeuqof"),$(r,"href","#"),$(r,"tinro-ignore",""),$(t,"class","login svelte-qeuqof"),$(t,"tinro-ignore","")},m(s,p){E(s,t,p),_(t,r),_(r,n),_(t,o),_(t,a),_(t,c),_(t,i),_(i,l),_(t,h),d&&d.m(t,null),u||(f=[H(n,"click",Y(W(e[5]))),H(t,"click",Y(W(e[6])))],u=!0)},p(e,r){e[2]?d||(d=bn(),d.c(),d.m(t,null)):d&&(d.d(1),d=null)},i:k,o:k,d(e){e&&b(t),d&&d.d(),u=!1,G(f)}}}function yn(e){let t,r;return t=new dn({props:{metamaskConnect:e[0]}}),{c(){M(t.$$.fragment)},l(e){R(t.$$.fragment,e)},m(e,n){C(t,e,n),r=!0},p(e,r){const n={};1&r&&(n.metamaskConnect=e[0]),t.$set(n)},i(e){r||(U(t.$$.fragment,e),r=!0)},o(e){D(t.$$.fragment,e),r=!1},d(e){j(t,e)}}}function bn(e){let t,r,n,s,o,a,c,i;return{c(){t=m("br"),r=v(),n=m("span"),s=A("Peek behind the scenes"),o=v(),a=m("div"),c=m("span"),i=A("We invite you to the path of enjoyable exploration and collaborative innovation."),this.h()},l(e){t=g(e,"BR",{}),r=w(e),n=g(e,"SPAN",{class:!0});var l=y(n);s=S(l,"Peek behind the scenes"),l.forEach(b),o=w(e),a=g(e,"DIV",{class:!0});var h=y(a);c=g(h,"SPAN",{class:!0});var u=y(c);i=S(u,"We invite you to the path of enjoyable exploration and collaborative innovation."),u.forEach(b),h.forEach(b),this.h()},h(){$(n,"class","deemph"),$(c,"class","svelte-qeuqof"),$(a,"class","explain svelte-qeuqof")},m(e,l){E(e,t,l),E(e,r,l),E(e,n,l),_(n,s),E(e,o,l),E(e,a,l),_(a,c),_(c,i)},d(e){e&&b(t),e&&b(r),e&&b(n),e&&b(o),e&&b(a)}}}function wn(e){let t,r,n,s;const o=[yn,gn,vn],a=[];function c(e,t){return e[1]?0:e[0]?1:2}return t=c(e),r=a[t]=o[t](e),{c(){r.c(),n=N()},l(e){r.l(e),n=N()},m(e,r){a[t].m(e,r),E(e,n,r),s=!0},p(e,[s]){let i=t;t=c(e),t===i?a[t].p(e,s):(L(),D(a[i],1,1,(()=>{a[i]=null})),z(),r=a[t],r?r.p(e,s):(r=a[t]=o[t](e),r.c()),U(r,1),r.m(n.parentNode,n))},i(e){s||(U(r),s=!0)},o(e){D(r),s=!1},d(e){a[t].d(e),e&&b(n)}}}function $n(e,t,r){let n,s;P(e,tr,(e=>r(1,n=e))),P(e,ir,(e=>r(2,s=e)));let{metamaskConnect:o}=t,{displayName:a}=t;function c(){o().catch((e=>{console.log("Metamask not connected (yet):"),console.log(e)}))}return e.$$set=e=>{"metamaskConnect"in e&&r(0,o=e.metamaskConnect),"displayName"in e&&r(4,a=e.displayName)},[o,n,s,c,a,()=>{c()},()=>{c()}]}class En extends f{constructor(e){super(),d(this,e,$n,wn,p,{metamaskConnect:0,displayName:4})}}function _n(e,t,r){const n=e.slice();return n[5]=t[r],n}function kn(e){let t,r;return{c(){t=m("span"),r=A("No results for:"),this.h()},l(e){t=g(e,"SPAN",{class:!0});var n=y(t);r=S(n,"No results for:"),n.forEach(b),this.h()},h(){$(t,"class","no_hits_notice svelte-1sqzfmb")},m(e,n){E(e,t,n),_(t,r)},d(e){e&&b(t)}}}function An(e){let t,r=e[1],n=[];for(let s=0;s<r.length;s+=1)n[s]=Sn(_n(e,r,s));return{c(){t=m("div");for(let e=0;e<n.length;e+=1)n[e].c();this.h()},l(e){t=g(e,"DIV",{class:!0});var r=y(t);for(let t=0;t<n.length;t+=1)n[t].l(r);r.forEach(b),this.h()},h(){$(t,"class","tags svelte-1sqzfmb")},m(e,r){E(e,t,r);for(let s=0;s<n.length;s+=1)n[s].m(t,null)},p(e,s){if(2&s){let o;for(r=e[1],o=0;o<r.length;o+=1){const a=_n(e,r,o);n[o]?n[o].p(a,s):(n[o]=Sn(a),n[o].c(),n[o].m(t,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=r.length}},d(e){e&&b(t),I(n,e)}}}function Sn(e){let t,r,n,s=e[5]+"";return{c(){t=m("div"),r=A(s),n=v(),this.h()},l(e){t=g(e,"DIV",{class:!0});var o=y(t);r=S(o,s),n=w(o),o.forEach(b),this.h()},h(){$(t,"class","tag svelte-1sqzfmb")},m(e,s){E(e,t,s),_(t,r),_(t,n)},p(e,t){2&t&&s!==(s=e[5]+"")&&x(r,s)},d(e){e&&b(t)}}}function xn(e){var t;let r,n,s,o,a,c,i,l=0==e[3]&&kn(),h=(null==(t=e[1])?void 0:t.length)&&An(e);return{c(){r=m("div"),l&&l.c(),n=v(),s=A(e[0]),o=v(),h&&h.c(),a=v(),c=m("div"),i=A(e[2]),this.h()},l(t){r=g(t,"DIV",{class:!0});var u=y(r);l&&l.l(u),n=w(u),s=S(u,e[0]),o=w(u),h&&h.l(u),a=w(u),c=g(u,"DIV",{class:!0});var f=y(c);i=S(f,e[2]),f.forEach(b),u.forEach(b),this.h()},h(){$(c,"class","timezone svelte-1sqzfmb"),$(r,"class","query svelte-1sqzfmb")},m(e,t){E(e,r,t),l&&l.m(r,null),_(r,n),_(r,s),_(r,o),h&&h.m(r,null),_(r,a),_(r,c),_(c,i)},p(e,[t]){var o;0==e[3]?l||(l=kn(),l.c(),l.m(r,n)):l&&(l.d(1),l=null),1&t&&x(s,e[0]),(null==(o=e[1])?void 0:o.length)?h?h.p(e,t):(h=An(e),h.c(),h.m(r,a)):h&&(h.d(1),h=null),4&t&&x(i,e[2])},i:k,o:k,d(e){e&&b(r),l&&l.d(),h&&h.d()}}}function Pn(e,t,r){let{query:n}=t,{selectedTags:s}=t,{timezone:o}=t,{totalHits:a}=t,{i:c}=t;return e.$$set=e=>{"query"in e&&r(0,n=e.query),"selectedTags"in e&&r(1,s=e.selectedTags),"timezone"in e&&r(2,o=e.timezone),"totalHits"in e&&r(3,a=e.totalHits),"i"in e&&r(4,c=e.i)},[n,s,o,a,c]}class Tn extends f{constructor(e){super(),d(this,e,Pn,xn,p,{query:0,selectedTags:1,timezone:2,totalHits:3,i:4})}}function Nn(e){let t,r,n,s,o,a;return{c(){t=m("div"),r=m("a"),n=A(e[0]),s=v(),o=m("div"),a=A(e[1]),this.h()},l(c){t=g(c,"DIV",{class:!0});var i=y(t);r=g(i,"A",{href:!0,class:!0});var l=y(r);n=S(l,e[0]),l.forEach(b),s=w(i),o=g(i,"DIV",{class:!0});var h=y(o);a=S(h,e[1]),h.forEach(b),i.forEach(b),this.h()},h(){$(r,"href",e[0]),$(r,"class","svelte-1ag4kvq"),$(o,"class","timezone svelte-1ag4kvq"),$(t,"class","query svelte-1ag4kvq")},m(e,c){E(e,t,c),_(t,r),_(r,n),_(t,s),_(t,o),_(o,a)},p(e,[t]){1&t&&x(n,e[0]),1&t&&$(r,"href",e[0]),2&t&&x(a,e[1])},i:k,o:k,d(e){e&&b(t)}}}function In(e,t,r){let{url:n}=t,{timezone:s}=t,{i:o}=t;return e.$$set=e=>{"url"in e&&r(0,n=e.url),"timezone"in e&&r(1,s=e.timezone),"i"in e&&r(2,o=e.i)},[n,s,o]}class On extends f{constructor(e){super(),d(this,e,In,Nn,p,{url:0,timezone:1,i:2})}}function Mn(e,t,r){const n=e.slice();return n[1]=t[r],n[3]=r,n}function Rn(e){let t,r,n,s,o,a=e[0],c=[];for(let l=0;l<a.length;l+=1)c[l]=Dn(Mn(e,a,l));const i=e=>D(c[e],1,1,(()=>{c[e]=null}));return{c(){t=m("h3"),r=A("— Recent clicks and searches —"),n=v();for(let e=0;e<c.length;e+=1)c[e].c();s=N(),this.h()},l(e){t=g(e,"H3",{class:!0});var o=y(t);r=S(o,"— Recent clicks and searches —"),o.forEach(b),n=w(e);for(let t=0;t<c.length;t+=1)c[t].l(e);s=N(),this.h()},h(){$(t,"class","svelte-1ojil64")},m(e,a){E(e,t,a),_(t,r),E(e,n,a);for(let t=0;t<c.length;t+=1)c[t].m(e,a);E(e,s,a),o=!0},p(e,t){if(1&t){let r;for(a=e[0],r=0;r<a.length;r+=1){const n=Mn(e,a,r);c[r]?(c[r].p(n,t),U(c[r],1)):(c[r]=Dn(n),c[r].c(),U(c[r],1),c[r].m(s.parentNode,s))}for(L(),r=a.length;r<c.length;r+=1)i(r);z()}},i(e){if(!o){for(let e=0;e<a.length;e+=1)U(c[e]);o=!0}},o(e){c=c.filter(Boolean);for(let t=0;t<c.length;t+=1)D(c[t]);o=!1},d(e){e&&b(t),e&&b(n),I(c,e),e&&b(s)}}}function Cn(e){let t,r;const n=[e[1],{i:e[3]}];let s={};for(let o=0;o<n.length;o+=1)s=J(s,n[o]);return t=new On({props:s}),{c(){M(t.$$.fragment)},l(e){R(t.$$.fragment,e)},m(e,n){C(t,e,n),r=!0},p(e,r){const s=1&r?Q(n,[Z(e[1]),n[1]]):{};t.$set(s)},i(e){r||(U(t.$$.fragment,e),r=!0)},o(e){D(t.$$.fragment,e),r=!1},d(e){j(t,e)}}}function Un(e){let t,r;const n=[e[1],{i:e[3]}];let s={};for(let o=0;o<n.length;o+=1)s=J(s,n[o]);return t=new Tn({props:s}),{c(){M(t.$$.fragment)},l(e){R(t.$$.fragment,e)},m(e,n){C(t,e,n),r=!0},p(e,r){const s=1&r?Q(n,[Z(e[1]),n[1]]):{};t.$set(s)},i(e){r||(U(t.$$.fragment,e),r=!0)},o(e){D(t.$$.fragment,e),r=!1},d(e){j(t,e)}}}function Dn(e){let t,r,n,s;const o=[Un,Cn],a=[];function c(e,t){return e[1].query?0:e[1].url?1:-1}return~(t=c(e))&&(r=a[t]=o[t](e)),{c(){r&&r.c(),n=N()},l(e){r&&r.l(e),n=N()},m(e,r){~t&&a[t].m(e,r),E(e,n,r),s=!0},p(e,s){let i=t;t=c(e),t===i?~t&&a[t].p(e,s):(r&&(L(),D(a[i],1,1,(()=>{a[i]=null})),z()),~t?(r=a[t],r?r.p(e,s):(r=a[t]=o[t](e),r.c()),U(r,1),r.m(n.parentNode,n)):r=null)},i(e){s||(U(r),s=!0)},o(e){D(r),s=!1},d(e){~t&&a[t].d(e),e&&b(n)}}}function jn(e){var t;let r,n,s=(null==(t=e[0])?void 0:t.length)&&Rn(e);return{c(){r=m("div"),s&&s.c(),this.h()},l(e){r=g(e,"DIV",{class:!0});var t=y(r);s&&s.l(t),t.forEach(b),this.h()},h(){$(r,"class","recent_searches svelte-1ojil64")},m(e,t){E(e,r,t),s&&s.m(r,null),n=!0},p(e,[t]){var n;(null==(n=e[0])?void 0:n.length)?s?(s.p(e,t),1&t&&U(s,1)):(s=Rn(e),s.c(),U(s,1),s.m(r,null)):s&&(L(),D(s,1,1,(()=>{s=null})),z())},i(e){n||(U(s),n=!0)},o(e){D(s),n=!1},d(e){e&&b(r),s&&s.d()}}}function Vn(e,t,r){let{recentSearchQueries:n}=t;return e.$$set=e=>{"recentSearchQueries"in e&&r(0,n=e.recentSearchQueries)},[n]}class qn extends f{constructor(e){super(),d(this,e,Vn,jn,p,{recentSearchQueries:0})}}function Bn(e){let t,r;return t=new qn({props:{recentSearchQueries:e[2]}}),{c(){M(t.$$.fragment)},l(e){R(t.$$.fragment,e)},m(e,n){C(t,e,n),r=!0},p(e,r){const n={};4&r&&(n.recentSearchQueries=e[2]),t.$set(n)},i(e){r||(U(t.$$.fragment,e),r=!0)},o(e){D(t.$$.fragment,e),r=!1},d(e){j(t,e)}}}function Ln(e){let t,r,n,s;r=new En({props:{metamaskConnect:e[1]}});let o=e[3]&&Bn(e);return{c(){t=m("div"),M(r.$$.fragment),n=v(),o&&o.c(),this.h()},l(e){t=g(e,"DIV",{class:!0});var s=y(t);R(r.$$.fragment,s),n=w(s),o&&o.l(s),s.forEach(b),this.h()},h(){$(t,"class","right_bar svelte-giyyxp")},m(e,a){E(e,t,a),C(r,t,null),_(t,n),o&&o.m(t,null),s=!0},p(e,[n]){const s={};2&n&&(s.metamaskConnect=e[1]),r.$set(s),e[3]?o?(o.p(e,n),8&n&&U(o,1)):(o=Bn(e),o.c(),U(o,1),o.m(t,null)):o&&(L(),D(o,1,1,(()=>{o=null})),z())},i(e){s||(U(r.$$.fragment,e),U(o),s=!0)},o(e){D(r.$$.fragment,e),D(o),s=!1},d(e){e&&b(t),j(r),o&&o.d()}}}function zn(e,t,r){let n,s,o,a=k,c=()=>(a(),a=O(i,(e=>r(4,s=e))),i);P(e,tr,(e=>r(3,o=e))),e.$$.on_destroy.push((()=>a()));let{backend:i}=t;c();let{metamaskConnect:l}=t;return e.$$set=e=>{"backend"in e&&c(r(0,i=e.backend)),"metamaskConnect"in e&&r(1,l=e.metamaskConnect)},e.$$.update=()=>{16&e.$$.dirty&&r(2,n=s.recentSearchQueries)},[i,l,n,o,s]}class Kn extends f{constructor(e){super(),d(this,e,zn,Ln,p,{backend:0,metamaskConnect:1})}}function Fn(e,t){function r(){for(const r of Object.keys(t))t[r]?e.style.setProperty(r,t[r]):e.style.removeProperty(r)}return r(),{update(e){t=e,r()}}}function Hn(e){let t,r,n,s,o,a,c,i,l,h,u,f,d,p,k,x,P,N;function I(e,t){return e[2]||e[5]?Wn:Yn}let O=I(e),M=O(e);const R=[Xn,Zn],C=[];function j(e,t){return e[5]?0:1}function K(e,t){return e[1]?us:e[7]?void 0:hs}u=j(e),f=C[u]=R[u](e);let H=K(e),Y=H&&H(e);return{c(){t=m("section"),r=m("h2"),n=m("span"),s=A("—"),o=v(),M.c(),a=A("\n    Meetup "),c=m("span"),i=A("—"),l=v(),h=m("div"),f.c(),d=v(),Y&&Y.c(),this.h()},l(e){t=g(e,"SECTION",{class:!0});var u=y(t);r=g(u,"H2",{class:!0});var p=y(r);n=g(p,"SPAN",{class:!0});var m=y(n);s=S(m,"—"),m.forEach(b),o=w(p),M.l(p),a=S(p,"\n    Meetup "),c=g(p,"SPAN",{class:!0});var v=y(c);i=S(v,"—"),v.forEach(b),p.forEach(b),l=w(u),h=g(u,"DIV",{id:!0,class:!0});var $=y(h);f.l($),$.forEach(b),d=w(u),Y&&Y.l(u),u.forEach(b),this.h()},h(){$(n,"class","white svelte-128tkx5"),$(c,"class","white svelte-128tkx5"),$(r,"class","next_meetup svelte-128tkx5"),$(h,"id","event"),$(h,"class","svelte-128tkx5"),$(t,"class","meetup svelte-128tkx5"),T(t,"live",e[5]),T(t,"probably_ended",e[7]),T(t,"starts_soon",e[2])},m(f,p){E(f,t,p),_(t,r),_(r,n),_(n,s),_(r,o),M.m(r,null),_(r,a),_(r,c),_(c,i),_(t,l),_(t,h),C[u].m(h,null),_(t,d),Y&&Y.m(t,null),x=!0,P||(N=X(Fn.call(null,t,e[9])),P=!0)},p(e,n){O===(O=I(e))&&M?M.p(e,n):(M.d(1),M=O(e),M&&(M.c(),M.m(r,a)));let s=u;u=j(e),u===s?C[u].p(e,n):(L(),D(C[s],1,1,(()=>{C[s]=null})),z(),f=C[u],f?f.p(e,n):(f=C[u]=R[u](e),f.c()),U(f,1),f.m(h,null)),H===(H=K(e))&&Y?Y.p(e,n):(Y&&Y.d(1),Y=H&&H(e),Y&&(Y.c(),Y.m(t,null))),32&n&&T(t,"live",e[5]),128&n&&T(t,"probably_ended",e[7]),4&n&&T(t,"starts_soon",e[2])},i(e){x||(U(f),V((()=>{k&&k.end(1),p||(p=q(t,F,{duration:1500,delay:0})),p.start()})),x=!0)},o(e){D(f),p&&p.invalidate(),k=B(t,F,{}),x=!1},d(e){e&&b(t),M.d(),C[u].d(),Y&&Y.d(),e&&k&&k.end(),P=!1,N()}}}function Yn(e){let t;return{c(){t=A("Next")},l(e){t=S(e,"Next")},m(e,r){E(e,t,r)},p:k,d(e){e&&b(t)}}}function Wn(e){let t;function r(e,t){return e[1]?Qn:e[7]?Jn:Gn}let n=r(e),s=n(e);return{c(){s.c(),t=N()},l(e){s.l(e),t=N()},m(e,r){s.m(e,r),E(e,t,r)},p(e,o){n!==(n=r(e))&&(s.d(1),s=n(e),s&&(s.c(),s.m(t.parentNode,t)))},d(e){s.d(e),e&&b(t)}}}function Gn(e){let t;return{c(){t=A("Live")},l(e){t=S(e,"Live")},m(e,r){E(e,t,r)},d(e){e&&b(t)}}}function Jn(e){let t;return{c(){t=A("Recent")},l(e){t=S(e,"Recent")},m(e,r){E(e,t,r)},d(e){e&&b(t)}}}function Qn(e){let t;return{c(){t=A("Current")},l(e){t=S(e,"Current")},m(e,r){E(e,t,r)},d(e){e&&b(t)}}}function Zn(e){let t,r,n,s,o,a,c,i,l,h,u,f,d,p,k,P,T,N,I,O,M,R,C,U=e[8].emoji+"",D=e[8].date+"",j=e[8].time+"",q=e[8].timeClarification+"",B=e[8].timezone+"",L=e[0]?"My timezone":"UTC";return{c(){t=m("div"),r=m("span"),n=A(U),s=v(),o=A(D),a=v(),c=m("span"),i=A("at"),l=v(),h=A(j),u=v(),f=m("span"),d=A(q),k=v(),P=m("div"),T=A(B),N=A(" → "),I=m("a"),O=A(L),this.h()},l(e){t=g(e,"DIV",{class:!0});var p=y(t);r=g(p,"SPAN",{class:!0});var m=y(r);n=S(m,U),s=w(m),o=S(m,D),a=w(m),c=g(m,"SPAN",{class:!0});var v=y(c);i=S(v,"at"),v.forEach(b),l=w(m),h=S(m,j),u=w(m),f=g(m,"SPAN",{class:!0});var $=y(f);d=S($,q),$.forEach(b),m.forEach(b),p.forEach(b),k=w(e),P=g(e,"DIV",{class:!0});var E=y(P);T=S(E,B),N=S(E," → "),I=g(E,"A",{href:!0,class:!0});var _=y(I);O=S(_,L),_.forEach(b),E.forEach(b),this.h()},h(){$(c,"class","deemph svelte-128tkx5"),$(f,"class","deemph svelte-128tkx5"),$(r,"class","event_time svelte-128tkx5"),$(t,"class","starts_at svelte-128tkx5"),$(I,"href","#"),$(I,"class","svelte-128tkx5"),$(P,"class","timezone svelte-128tkx5")},m(p,m){E(p,t,m),_(t,r),_(r,n),_(r,s),_(r,o),_(r,a),_(r,c),_(c,i),_(r,l),_(r,h),_(r,u),_(r,f),_(f,d),E(p,k,m),E(p,P,m),_(P,T),_(P,N),_(P,I),_(I,O),M=!0,R||(C=H(I,"click",W(e[16])),R=!0)},p(e,t){(!M||256&t)&&U!==(U=e[8].emoji+"")&&x(n,U),(!M||256&t)&&D!==(D=e[8].date+"")&&x(o,D),(!M||256&t)&&j!==(j=e[8].time+"")&&x(h,j),(!M||256&t)&&q!==(q=e[8].timeClarification+"")&&x(d,q),(!M||256&t)&&B!==(B=e[8].timezone+"")&&x(T,B),(!M||1&t)&&L!==(L=e[0]?"My timezone":"UTC")&&x(O,L)},i(e){M||(V((()=>{p||(p=te(r,re,{},!0)),p.run(1)})),M=!0)},o(e){p||(p=te(r,re,{},!1)),p.run(0),M=!1},d(e){e&&b(t),e&&p&&p.end(),e&&b(k),e&&b(P),R=!1,C()}}}function Xn(e){let t,r,n,s,o,a,c;function i(e,t){return e[1]?rs:e[7]?ts:es}let l=i(e),h=l(e);function u(e,t){return e[7]?as:os}let f=u(e),d=f(e),p=e[6]&&ls(e);return{c(){t=m("div"),h.c(),r=v(),n=m("br"),s=v(),d.c(),o=v(),a=m("br"),c=v(),p&&p.c(),this.h()},l(e){t=g(e,"DIV",{class:!0});var i=y(t);h.l(i),r=w(i),n=g(i,"BR",{}),s=w(i),d.l(i),o=w(i),a=g(i,"BR",{}),c=w(i),p&&p.l(i),i.forEach(b),this.h()},h(){$(t,"class","starts_at svelte-128tkx5")},m(e,i){E(e,t,i),h.m(t,null),_(t,r),_(t,n),_(t,s),d.m(t,null),_(t,o),_(t,a),_(t,c),p&&p.m(t,null)},p(e,n){l===(l=i(e))&&h?h.p(e,n):(h.d(1),h=l(e),h&&(h.c(),h.m(t,r))),f===(f=u(e))&&d?d.p(e,n):(d.d(1),d=f(e),d&&(d.c(),d.m(t,o))),e[6]?p?p.p(e,n):(p=ls(e),p.c(),p.m(t,null)):p&&(p.d(1),p=null)},i:k,o:k,d(e){e&&b(t),h.d(),d.d(),p&&p.d()}}}function es(e){let t,r;return{c(){t=m("span"),r=A("✨ Event is live ✨"),this.h()},l(e){t=g(e,"SPAN",{class:!0});var n=y(t);r=S(n,"✨ Event is live ✨"),n.forEach(b),this.h()},h(){$(t,"class","fade_in_and_out svelte-128tkx5")},m(e,n){E(e,t,n),_(t,r)},p:k,d(e){e&&b(t)}}}function ts(e){let t;return{c(){t=A("⌛ Meetup has probably just concluded but")},l(e){t=S(e,"⌛ Meetup has probably just concluded but")},m(e,r){E(e,t,r)},p:k,d(e){e&&b(t)}}}function rs(e){let t;function r(e,t){return e[3]?ss:ns}let n=r(e),s=n(e);return{c(){s.c(),t=N()},l(e){s.l(e),t=N()},m(e,r){s.m(e,r),E(e,t,r)},p(e,o){n!==(n=r(e))&&(s.d(1),s=n(e),s&&(s.c(),s.m(t.parentNode,t)))},d(e){s.d(e),e&&b(t)}}}function ns(e){let t,r;return{c(){t=m("span"),r=A("About to begin soon …"),this.h()},l(e){t=g(e,"SPAN",{class:!0});var n=y(t);r=S(n,"About to begin soon …"),n.forEach(b),this.h()},h(){$(t,"class","fade_in_and_out svelte-128tkx5")},m(e,n){E(e,t,n),_(t,r)},d(e){e&&b(t)}}}function ss(e){let t,r;return{c(){t=m("span"),r=A("Starting …"),this.h()},l(e){t=g(e,"SPAN",{class:!0});var n=y(t);r=S(n,"Starting …"),n.forEach(b),this.h()},h(){$(t,"class","fade_in_and_out svelte-128tkx5")},m(e,n){E(e,t,n),_(t,r)},d(e){e&&b(t)}}}function os(e){let t,r,n;function s(e,t){return e[2]&&!e[3]?is:cs}let o=s(e),a=o(e);return{c(){t=m("a"),r=A("— Join the Meetup "),a.c(),n=A(" —"),this.h()},l(e){t=g(e,"A",{href:!0,class:!0});var s=y(t);r=S(s,"— Join the Meetup "),a.l(s),n=S(s," —"),s.forEach(b),this.h()},h(){$(t,"href",e[5]),$(t,"class","svelte-128tkx5")},m(e,s){E(e,t,s),_(t,r),a.m(t,null),_(t,n)},p(e,r){o!==(o=s(e))&&(a.d(1),a=o(e),a&&(a.c(),a.m(t,n))),32&r&&$(t,"href",e[5])},d(e){e&&b(t),a.d()}}}function as(e){let t,r;return{c(){t=m("a"),r=A("— You can still try to join —"),this.h()},l(e){t=g(e,"A",{href:!0,class:!0});var n=y(t);r=S(n,"— You can still try to join —"),n.forEach(b),this.h()},h(){$(t,"href",e[5]),$(t,"class","svelte-128tkx5")},m(e,n){E(e,t,n),_(t,r)},p(e,r){32&r&&$(t,"href",e[5])},d(e){e&&b(t)}}}function cs(e){let t;return{c(){t=A("Now")},l(e){t=S(e,"Now")},m(e,r){E(e,t,r)},d(e){e&&b(t)}}}function is(e){let t;return{c(){t=A("Room")},l(e){t=S(e,"Room")},m(e,r){E(e,t,r)},d(e){e&&b(t)}}}function ls(e){let t,r,n;return{c(){t=A("Password: "),r=m("span"),n=A(e[6]),this.h()},l(s){t=S(s,"Password: "),r=g(s,"SPAN",{class:!0});var o=y(r);n=S(o,e[6]),o.forEach(b),this.h()},h(){$(r,"class","event_password svelte-128tkx5")},m(e,s){E(e,t,s),E(e,r,s),_(r,n)},p(e,t){64&t&&x(n,e[6])},d(e){e&&b(t),e&&b(r)}}}function hs(e){let t,r,n,s,o;return{c(){t=m("span"),r=A(e[4]),n=v(),s=m("span"),o=A("Let's chat about web3 search and discovery!"),this.h()},l(a){t=g(a,"SPAN",{class:!0});var c=y(t);r=S(c,e[4]),c.forEach(b),n=w(a),s=g(a,"SPAN",{class:!0});var i=y(s);o=S(i,"Let's chat about web3 search and discovery!"),i.forEach(b),this.h()},h(){$(t,"class","light_violet line svelte-128tkx5"),$(s,"class","light_magenta line svelte-128tkx5")},m(e,a){E(e,t,a),_(t,r),E(e,n,a),E(e,s,a),_(s,o)},p(e,t){16&t&&x(r,e[4])},d(e){e&&b(t),e&&b(n),e&&b(s)}}}function us(e){let t,r,n,s,o,a=e[2]&&fs(e),c=!e[3]&&!e[5]&&!e[2]&&vs();return{c(){a&&a.c(),t=v(),r=m("span"),n=A(e[4]),s=v(),c&&c.c(),o=N(),this.h()},l(i){a&&a.l(i),t=w(i),r=g(i,"SPAN",{class:!0});var l=y(r);n=S(l,e[4]),l.forEach(b),s=w(i),c&&c.l(i),o=N(),this.h()},h(){$(r,"class","light_magenta line svelte-128tkx5")},m(e,i){a&&a.m(e,i),E(e,t,i),E(e,r,i),_(r,n),E(e,s,i),c&&c.m(e,i),E(e,o,i)},p(e,r){e[2]?a?a.p(e,r):(a=fs(e),a.c(),a.m(t.parentNode,t)):a&&(a.d(1),a=null),16&r&&x(n,e[4]),e[3]||e[5]||e[2]?c&&(c.d(1),c=null):c||(c=vs(),c.c(),c.m(o.parentNode,o))},d(e){a&&a.d(e),e&&b(t),e&&b(r),e&&b(s),c&&c.d(e),e&&b(o)}}}function fs(e){let t;function r(e,t){return e[3]?ms:e[5]?ps:ds}let n=r(e),s=n(e);return{c(){s.c(),t=N()},l(e){s.l(e),t=N()},m(e,r){s.m(e,r),E(e,t,r)},p(e,o){n!==(n=r(e))&&(s.d(1),s=n(e),s&&(s.c(),s.m(t.parentNode,t)))},d(e){s.d(e),e&&b(t)}}}function ds(e){let t;return{c(){t=A("⏱️")},l(e){t=S(e,"⏱️")},m(e,r){E(e,t,r)},d(e){e&&b(t)}}}function ps(e){let t;return{c(){t=A("⏳")},l(e){t=S(e,"⏳")},m(e,r){E(e,t,r)},d(e){e&&b(t)}}}function ms(e){let t;return{c(){t=A("⚠️")},l(e){t=S(e,"⚠️")},m(e,r){E(e,t,r)},d(e){e&&b(t)}}}function vs(e){let t,r;return{c(){t=m("span"),r=A("You can join via this website."),this.h()},l(e){t=g(e,"SPAN",{class:!0});var n=y(t);r=S(n,"You can join via this website."),n.forEach(b),this.h()},h(){$(t,"class","white line svelte-128tkx5")},m(e,n){E(e,t,n),_(t,r)},d(e){e&&b(t)}}}function gs(e){let t,r,n=(e[5]||e[1])&&Hn(e);return{c(){n&&n.c(),t=N()},l(e){n&&n.l(e),t=N()},m(e,s){n&&n.m(e,s),E(e,t,s),r=!0},p(e,[r]){e[5]||e[1]?n?(n.p(e,r),34&r&&U(n,1)):(n=Hn(e),n.c(),U(n,1),n.m(t.parentNode,t)):n&&(L(),D(n,1,1,(()=>{n=null})),z())},i(e){r||(U(n),r=!0)},o(e){D(n),r=!1},d(e){n&&n.d(e),e&&b(t)}}}function ys(e,t,r){let n,{backend:s}=t,{padding:o}=t,{bg:a}=t,{clickStat:c=(()=>{})}=t;const i={padding:o};let l,h,u,f,d,p,m,v,g;a&&Object.assign(i,{"background-image":`url('${a}')`,"background-size":"cover","background-repeat":"no-repeat"}),s.subscribe((({meetup:e})=>{e&&(l=e.startsAtUnixTimestamp,r(1,h=e.startsIn),r(2,u=e.startsSoon),r(3,f=e.aboutToStart),e.startedAgo,r(4,d=e.meetupStatus),r(5,p=e.meetupUrl),r(6,m=e.meetupPassword),r(7,v=e.eventProbablyEnded),r(15,g=l?new Date(l):void 0))}));let y=!1;function b(){r(0,y=!y),c(`display UTC: ${y}`)}return e.$$set=e=>{"backend"in e&&r(11,s=e.backend),"padding"in e&&r(12,o=e.padding),"bg"in e&&r(13,a=e.bg),"clickStat"in e&&r(14,c=e.clickStat)},e.$$.update=()=>{32769&e.$$.dirty&&r(8,n=g?ee(g,{showYear:!1,utc:y}):{})},[y,h,u,f,d,p,m,v,n,i,b,s,o,a,c,g,()=>b()]}class bs extends f{constructor(e){super(),d(this,e,ys,gs,p,{backend:11,padding:12,bg:13,clickStat:14})}}function ws(e){let t,r,n,s,o,a,c,i;return c=new ne({props:{size:"16",speed:"2000",color:"#EFCAF8",thickness:"3",gap:"25"}}),{c(){t=m("span"),r=m("span"),n=A(e[2]),s=A(" reconnecting"),o=v(),a=m("span"),M(c.$$.fragment),this.h()},l(i){t=g(i,"SPAN",{class:!0});var l=y(t);r=g(l,"SPAN",{class:!0});var h=y(r);n=S(h,e[2]),h.forEach(b),s=S(l," reconnecting"),l.forEach(b),o=w(i),a=g(i,"SPAN",{class:!0});var u=y(a);R(c.$$.fragment,u),u.forEach(b),this.h()},h(){$(r,"class","device_name svelte-yi01f8"),$(t,"class","device_status svelte-yi01f8"),$(a,"class","spinner svelte-yi01f8")},m(e,l){E(e,t,l),_(t,r),_(r,n),_(t,s),E(e,o,l),E(e,a,l),C(c,a,null),i=!0},p(e,t){(!i||4&t)&&x(n,e[2])},i(e){i||(U(c.$$.fragment,e),i=!0)},o(e){D(c.$$.fragment,e),i=!1},d(e){e&&b(t),e&&b(o),e&&b(a),j(c)}}}function $s(e){let t,r,n,s,o,a,c,i,l,h,u,f=or?"local node":"";const d=[_s,Es],p=[];function k(e,t){return e[3]?0:1}return l=k(e),h=p[l]=d[l](e),{c(){t=m("span"),r=A(f),n=v(),s=m("span"),o=A(e[2]),a=A(" ready"),c=v(),i=m("div"),h.c(),this.h()},l(l){t=g(l,"SPAN",{class:!0});var u=y(t);r=S(u,f),n=w(u),s=g(u,"SPAN",{class:!0});var d=y(s);o=S(d,e[2]),d.forEach(b),a=S(u," ready"),u.forEach(b),c=w(l),i=g(l,"DIV",{class:!0});var p=y(i);h.l(p),p.forEach(b),this.h()},h(){$(s,"class","device_name svelte-yi01f8"),$(t,"class","device_status svelte-yi01f8"),$(i,"class","spinner_or_mark svelte-yi01f8")},m(e,h){E(e,t,h),_(t,r),_(t,n),_(t,s),_(s,o),_(t,a),E(e,c,h),E(e,i,h),p[l].m(i,null),u=!0},p(e,t){(!u||4&t)&&x(o,e[2]);let r=l;l=k(e),l!==r&&(L(),D(p[r],1,1,(()=>{p[r]=null})),z(),h=p[l],h||(h=p[l]=d[l](e),h.c()),U(h,1),h.m(i,null))},i(e){u||(U(h),u=!0)},o(e){D(h),u=!1},d(e){e&&b(t),e&&b(c),e&&b(i),p[l].d()}}}function Es(e){let t,r;return{c(){t=m("img"),this.h()},l(e){t=g(e,"IMG",{class:!0,src:!0}),this.h()},h(){$(t,"class","mark svelte-yi01f8"),t.src!==(r="/search/img/redesign/zetaseek_icon-OK.svg")&&$(t,"src","/search/img/redesign/zetaseek_icon-OK.svg")},m(e,r){E(e,t,r)},i:k,o:k,d(e){e&&b(t)}}}function _s(e){let t,r,n;return r=new ne({props:{size:"16",speed:"400",color:"#fff",thickness:"3",gap:"40"}}),{c(){t=m("span"),M(r.$$.fragment),this.h()},l(e){t=g(e,"SPAN",{class:!0});var n=y(t);R(r.$$.fragment,n),n.forEach(b),this.h()},h(){$(t,"class","spinner svelte-yi01f8")},m(e,s){E(e,t,s),C(r,t,null),n=!0},i(e){n||(U(r.$$.fragment,e),n=!0)},o(e){D(r.$$.fragment,e),n=!1},d(e){e&&b(t),j(r)}}}function ks(e){let t,r,n,s;const o=[$s,ws],a=[];function c(e,t){return e[1]?0:1}return r=c(e),n=a[r]=o[r](e),{c(){t=m("p"),n.c(),this.h()},l(e){t=g(e,"P",{class:!0});var r=y(t);n.l(r),r.forEach(b),this.h()},h(){$(t,"class","connection_status svelte-yi01f8"),T(t,"ok",e[1])},m(e,n){E(e,t,n),a[r].m(t,null),s=!0},p(e,[s]){let i=r;r=c(e),r===i?a[r].p(e,s):(L(),D(a[i],1,1,(()=>{a[i]=null})),z(),n=a[r],n?n.p(e,s):(n=a[r]=o[r](e),n.c()),U(n,1),n.m(t,null)),2&s&&T(t,"ok",e[1])},i(e){s||(U(n),s=!0)},o(e){D(n),s=!1},d(e){e&&b(t),a[r].d()}}}function As(e,t,r){let n,s,o,a=k,c=()=>(a(),a=O(i,(e=>r(1,n=e))),i);P(e,Ir,(e=>r(3,o=e))),e.$$.on_destroy.push((()=>a()));let{connected:i}=t;c();const l=h(rr,(e=>e&&or?`@${e}`:`@${window.location.hostname}`));return P(e,l,(e=>r(2,s=e))),e.$$set=e=>{"connected"in e&&c(r(0,i=e.connected))},[i,n,s,o,l]}class Ss extends f{constructor(e){super(),d(this,e,As,ks,p,{connected:0})}}function xs(e){let t,r;return{c(){t=m("div"),r=A(e[0]),this.h()},l(n){t=g(n,"DIV",{class:!0});var s=y(t);r=S(s,e[0]),s.forEach(b),this.h()},h(){$(t,"class","tagline svelte-595vqi")},m(e,n){E(e,t,n),_(t,r)},p(e,t){1&t&&x(r,e[0])},d(e){e&&b(t)}}}function Ps(e){let t,r=e[0]&&xs(e);return{c(){r&&r.c(),t=N()},l(e){r&&r.l(e),t=N()},m(e,n){r&&r.m(e,n),E(e,t,n)},p(e,[n]){e[0]?r?r.p(e,n):(r=xs(e),r.c(),r.m(t.parentNode,t)):r&&(r.d(1),r=null)},i:k,o:k,d(e){r&&r.d(e),e&&b(t)}}}function Ts(e,t,r){let n;return P(e,nr,(e=>r(0,n=e))),[n]}class Ns extends f{constructor(e){super(),d(this,e,Ts,Ps,p,{})}}function Is(e,t,r){const n=e.slice();return n[8]=t[r].tag,n[9]=t[r].count,n[10]=t[r].impliedTag,n[11]=t[r].unreachableTag,n[12]=t[r].lowQuantile,n[13]=t[r].midQuantile,n[14]=t[r].highQuantile,n}function Os(e){let t,r,n,s,o;return{c(){t=m("div"),r=m("span"),n=A("Search query:"),s=v(),o=A(e[4]),this.h()},l(a){t=g(a,"DIV",{class:!0});var c=y(t);r=g(c,"SPAN",{class:!0});var i=y(r);n=S(i,"Search query:"),i.forEach(b),s=w(c),o=S(c,e[4]),c.forEach(b),this.h()},h(){$(r,"class","svelte-pk7pgg"),$(t,"class","search_query svelte-pk7pgg")},m(e,a){E(e,t,a),_(t,r),_(r,n),_(t,s),_(t,o)},p(e,t){16&t&&x(o,e[4])},d(e){e&&b(t)}}}function Ms(e){let t,r,n,s,o=e[0],a=[];for(let c=0;c<o.length;c+=1)a[c]=Rs(Is(e,o,c));return{c(){t=m("div");for(let e=0;e<a.length;e+=1)a[e].c();this.h()},l(e){t=g(e,"DIV",{class:!0,style:!0});var r=y(t);for(let t=0;t<a.length;t+=1)a[t].l(r);r.forEach(b),this.h()},h(){$(t,"class","tagcloud svelte-pk7pgg"),se(t,"--maxWidth",e[3]),T(t,"disabled",!e[5])},m(e,r){E(e,t,r);for(let n=0;n<a.length;n+=1)a[n].m(t,null);s=!0},p(e,r){if(67&r){let n;for(o=e[0],n=0;n<o.length;n+=1){const s=Is(e,o,n);a[n]?a[n].p(s,r):(a[n]=Rs(s),a[n].c(),a[n].m(t,null))}for(;n<a.length;n+=1)a[n].d(1);a.length=o.length}(!s||8&r)&&se(t,"--maxWidth",e[3]),32&r&&T(t,"disabled",!e[5])},i(e){s||(V((()=>{n&&n.end(1),r||(r=q(t,F,{duration:300,delay:100})),r.start()})),s=!0)},o(e){r&&r.invalidate(),n=B(t,F,{}),s=!1},d(e){e&&b(t),I(a,e),e&&n&&n.end()}}}function Rs(e){let t,r,n,s,o,a,c,i,l=e[9]+"",h=e[8]+"";function u(){return e[7](e[10],e[11],e[8])}return{c(){t=m("span"),r=m("span"),n=A(l),s=A("x"),o=v(),a=A(h),this.h()},l(e){t=g(e,"SPAN",{class:!0});var c=y(t);r=g(c,"SPAN",{class:!0});var i=y(r);n=S(i,l),s=S(i,"x"),i.forEach(b),o=w(c),a=S(c,h),c.forEach(b),this.h()},h(){$(r,"class","count svelte-pk7pgg"),$(t,"class","tag svelte-pk7pgg"),T(t,"implied_tag",e[10]),T(t,"unreachable",e[11]),T(t,"active",e[6][e[8]]),T(t,"low_quantile",e[12]),T(t,"mid_quantile",e[13]),T(t,"high_quantile",e[14])},m(e,l){E(e,t,l),_(t,r),_(r,n),_(r,s),_(t,o),_(t,a),c||(i=H(t,"click",u),c=!0)},p(r,s){e=r,1&s&&l!==(l=e[9]+"")&&x(n,l),1&s&&h!==(h=e[8]+"")&&x(a,h),1&s&&T(t,"implied_tag",e[10]),1&s&&T(t,"unreachable",e[11]),65&s&&T(t,"active",e[6][e[8]]),1&s&&T(t,"low_quantile",e[12]),1&s&&T(t,"mid_quantile",e[13]),1&s&&T(t,"high_quantile",e[14])},d(e){e&&b(t),c=!1,i()}}}function Cs(e){let t,r,n,s=e[4]&&Os(e),o=e[0]&&Ms(e);return{c(){s&&s.c(),t=v(),o&&o.c(),r=N()},l(e){s&&s.l(e),t=w(e),o&&o.l(e),r=N()},m(e,a){s&&s.m(e,a),E(e,t,a),o&&o.m(e,a),E(e,r,a),n=!0},p(e,[n]){e[4]?s?s.p(e,n):(s=Os(e),s.c(),s.m(t.parentNode,t)):s&&(s.d(1),s=null),e[0]?o?(o.p(e,n),1&n&&U(o,1)):(o=Ms(e),o.c(),U(o,1),o.m(r.parentNode,r)):o&&(L(),D(o,1,1,(()=>{o=null})),z())},i(e){n||(U(o),n=!0)},o(e){D(o),n=!1},d(e){s&&s.d(e),e&&b(t),o&&o.d(e),e&&b(r)}}}function Us(e,t,r){let n,s,o,a=k,c=()=>(a(),a=O(h,(e=>r(5,s=e))),h);P(e,Sr,(e=>r(4,n=e))),P(e,Rr,(e=>r(6,o=e))),e.$$.on_destroy.push((()=>a()));let{tagcloud:i}=t,{onTagClick:l}=t,{connected:h}=t;c();let{maxWidth:u="600px"}=t;return e.$$set=e=>{"tagcloud"in e&&r(0,i=e.tagcloud),"onTagClick"in e&&r(1,l=e.onTagClick),"connected"in e&&c(r(2,h=e.connected)),"maxWidth"in e&&r(3,u=e.maxWidth)},[i,l,h,u,n,s,o,(e,t,r)=>{e||t||l(r)}]}class Ds extends f{constructor(e){super(),d(this,e,Us,Cs,p,{tagcloud:0,onTagClick:1,connected:2,maxWidth:3})}}function js(e){let t,r,n,s,o,a,c,i,l,h,u=0==e[3]&&qs();return{c(){t=m("span"),r=A("↑ "),n=m("b"),s=A(zs),o=A(" ·\n    "),a=m("span"),u&&u.c(),c=v(),i=A(e[2]),this.h()},l(l){t=g(l,"SPAN",{class:!0,"tinro-ignore":!0});var h=y(t);r=S(h,"↑ "),n=g(h,"B",{});var f=y(n);s=S(f,zs),f.forEach(b),h.forEach(b),o=S(l," ·\n    "),a=g(l,"SPAN",{class:!0});var d=y(a);u&&u.l(d),c=w(d),i=S(d,e[2]),d.forEach(b),this.h()},h(){$(t,"class","this_node_search svelte-12oustw"),$(t,"tinro-ignore",""),T(t,"active",1==e[3]),$(a,"class","team_search svelte-12oustw"),T(a,"active",0==e[3])},m(f,d){E(f,t,d),_(t,r),_(t,n),_(n,s),E(f,o,d),E(f,a,d),u&&u.m(a,null),_(a,c),_(a,i),l||(h=[H(t,"click",e[10]),H(a,"click",e[11])],l=!0)},p(e,r){8&r&&T(t,"active",1==e[3]),0==e[3]?u||(u=qs(),u.c(),u.m(a,c)):u&&(u.d(1),u=null),4&r&&x(i,e[2]),8&r&&T(a,"active",0==e[3])},d(e){e&&b(t),e&&b(o),e&&b(a),u&&u.d(),l=!1,G(h)}}}function Vs(e){let t,r,n,s,o,a,c,i,l,h,u=1==e[3]&&Bs();return{c(){t=m("span"),r=A("↑ "),n=m("b"),s=A(e[2]),o=A(" ·\n    "),a=m("span"),u&&u.c(),c=v(),i=A(zs),this.h()},l(l){t=g(l,"SPAN",{class:!0});var h=y(t);r=S(h,"↑ "),n=g(h,"B",{});var f=y(n);s=S(f,e[2]),f.forEach(b),h.forEach(b),o=S(l," ·\n    "),a=g(l,"SPAN",{class:!0,"tinro-ignore":!0});var d=y(a);u&&u.l(d),c=w(d),i=S(d,zs),d.forEach(b),this.h()},h(){$(t,"class","team_search svelte-12oustw"),T(t,"active",0==e[3]),$(a,"class","this_node_search svelte-12oustw"),$(a,"tinro-ignore",""),T(a,"active",1==e[3])},m(f,d){E(f,t,d),_(t,r),_(t,n),_(n,s),E(f,o,d),E(f,a,d),u&&u.m(a,null),_(a,c),_(a,i),l||(h=[H(t,"click",e[8]),H(a,"click",e[9])],l=!0)},p(e,r){4&r&&x(s,e[2]),8&r&&T(t,"active",0==e[3]),1==e[3]?u||(u=Bs(),u.c(),u.m(a,c)):u&&(u.d(1),u=null),8&r&&T(a,"active",1==e[3])},d(e){e&&b(t),e&&b(o),e&&b(a),u&&u.d(),l=!1,G(h)}}}function qs(e){let t;return{c(){t=A("↑")},l(e){t=S(e,"↑")},m(e,r){E(e,t,r)},d(e){e&&b(t)}}}function Bs(e){let t;return{c(){t=A("↑")},l(e){t=S(e,"↑")},m(e,r){E(e,t,r)},d(e){e&&b(t)}}}function Ls(e){let t;function r(e,t){return 0==e[3]?Vs:js}let n=r(e),s=n(e);return{c(){t=m("div"),s.c(),this.h()},l(e){t=g(e,"DIV",{class:!0});var r=y(t);s.l(r),r.forEach(b),this.h()},h(){$(t,"class","search_mode svelte-12oustw")},m(e,r){E(e,t,r),s.m(t,null)},p(e,[o]){n===(n=r(e))&&s?s.p(e,o):(s.d(1),s=n(e),s&&(s.c(),s.m(t,null)))},i:k,o:k,d(e){e&&b(t),s.d()}}}const zs="Search only this peer";function Ks(e,t,r){let n,s,o,a,c,i,l=k,h=()=>(l(),l=O(u,(e=>r(5,a=e))),u);P(e,lr,(e=>r(7,c=e))),P(e,Tr,(e=>r(3,i=e))),e.$$.on_destroy.push((()=>l()));let{backend:u}=t;h();let{onSearchModeChange:f}=t;return e.$$set=e=>{"backend"in e&&h(r(0,u=e.backend)),"onSearchModeChange"in e&&r(1,f=e.onSearchModeChange)},e.$$.update=()=>{32&e.$$.dirty&&r(4,n=a.peerlist),16&e.$$.dirty&&r(6,s=n?n.filter((({operational:e})=>e)).length:0),192&e.$$.dirty&&r(2,o=c?`Search ${s+1} ${s+1==1?"peer":"peers"}`:"Search network")},[u,f,o,i,n,a,s,c,()=>f(0),()=>f(1),()=>f(1),()=>f(0)]}class Fs extends f{constructor(e){super(),d(this,e,Ks,Ls,p,{backend:0,onSearchModeChange:1})}}function Hs(e){let t,r,n,s=e[0].toUpperCase()+"";return{c(){t=m("span"),r=A(s),this.h()},l(e){t=g(e,"SPAN",{class:!0});var n=y(t);r=S(n,s),n.forEach(b),this.h()},h(){$(t,"class",n="tag "+e[0].replace("-","").toLowerCase()+" svelte-1p5dx1o")},m(e,n){E(e,t,n),_(t,r)},p(e,[o]){1&o&&s!==(s=e[0].toUpperCase()+"")&&x(r,s),1&o&&n!==(n="tag "+e[0].replace("-","").toLowerCase()+" svelte-1p5dx1o")&&$(t,"class",n)},i:k,o:k,d(e){e&&b(t)}}}function Ys(e,t,r){let{siteTag:n}=t;return e.$$set=e=>{"siteTag"in e&&r(0,n=e.siteTag)},[n]}class Ws extends f{constructor(e){super(),d(this,e,Ys,Hs,p,{siteTag:0})}}function Gs(e){let t,r,n,s,o,a,c,i;return{c(){t=m("div"),r=m("div"),n=m("div"),s=v(),o=m("div"),a=A("ⓘ"),this.h()},l(e){t=g(e,"DIV",{class:!0});var c=y(t);r=g(c,"DIV",{class:!0});var i=y(r);n=g(i,"DIV",{class:!0}),y(n).forEach(b),s=w(i),o=g(i,"DIV",{role:!0,class:!0});var l=y(o);a=S(l,"ⓘ"),l.forEach(b),i.forEach(b),c.forEach(b),this.h()},h(){$(n,"class","bg svelte-86a428"),T(n,"hovering",e[6]),T(n,"active",e[0]),$(o,"role","button"),$(o,"class","toggle svelte-86a428"),T(o,"hovering",e[6]),$(r,"class","corner svelte-86a428"),$(t,"class","toggle-container svelte-86a428"),T(t,"scoreInfoVisible",e[0])},m(l,h){E(l,t,h),_(t,r),_(r,n),_(r,s),_(r,o),_(o,a),c||(i=[H(o,"click",Y(W(e[14]))),H(o,"mouseover",e[15]),H(o,"mouseout",e[16])],c=!0)},p(e,r){64&r&&T(n,"hovering",e[6]),1&r&&T(n,"active",e[0]),64&r&&T(o,"hovering",e[6]),1&r&&T(t,"scoreInfoVisible",e[0])},d(e){e&&b(t),c=!1,G(i)}}}function Js(e){let t,r,n,s,o,a,c,i,l,h,u,f,d,p=e[2]&&Qs(e),P="this"==e[4].providerTag&&e[3]&&e[8]!=e[3]&&Zs(e);return{c(){t=m("section"),r=v(),n=m("div"),s=m("label"),o=A("Score"),a=v(),c=m("div"),i=m("span"),l=A(e[1]),h=v(),p&&p.c(),u=v(),f=v(),P&&P.c(),this.h()},l(d){t=g(d,"SECTION",{class:!0});var m=y(t);r=w(m),n=g(m,"DIV",{class:!0});var v=y(n);s=g(v,"LABEL",{for:!0,class:!0});var $=y(s);o=S($,"Score"),$.forEach(b),a=w(v),c=g(v,"DIV",{name:!0,class:!0});var E=y(c);i=g(E,"SPAN",{class:!0});var _=y(i);l=S(_,e[1]),_.forEach(b),h=w(E),p&&p.l(E),E.forEach(b),v.forEach(b),u=w(m),f=w(m),P&&P.l(m),m.forEach(b),this.h()},h(){$(s,"for","link-score"),$(s,"class","svelte-86a428"),$(i,"class","svelte-86a428"),$(c,"name","link-score"),$(c,"class","value score svelte-86a428"),$(n,"class","info svelte-86a428"),$(t,"class","score_info svelte-86a428"),T(t,"scoreInfoVisible",e[0])},m(e,d){E(e,t,d),_(t,r),_(t,n),_(n,s),_(s,o),_(n,a),_(n,c),_(c,i),_(i,l),_(c,h),p&&p.m(c,null),_(t,u),_(t,f),P&&P.m(t,null)},p(e,r){2&r&&x(l,e[1]),e[2]?p?p.p(e,r):(p=Qs(e),p.c(),p.m(c,null)):p&&(p.d(1),p=null),"this"==e[4].providerTag&&e[3]&&e[8]!=e[3]?P?P.p(e,r):(P=Zs(e),P.c(),P.m(t,null)):P&&(P.d(1),P=null),1&r&&T(t,"scoreInfoVisible",e[0])},i(e){d||V((()=>{d=q(t,re,{delay:200,duration:100}),d.start()}))},o:k,d(e){e&&b(t),p&&p.d(),P&&P.d()}}}function Qs(e){let t,r,n,s;return{c(){t=m("span"),r=A("(incl. "),n=A(e[2]),s=A(" boost)"),this.h()},l(o){t=g(o,"SPAN",{class:!0});var a=y(t);r=S(a,"(incl. "),n=S(a,e[2]),s=S(a," boost)"),a.forEach(b),this.h()},h(){$(t,"class","boost svelte-86a428")},m(e,o){E(e,t,o),_(t,r),_(t,n),_(t,s)},p(e,t){4&t&&x(n,e[2])},d(e){e&&b(t)}}}function Zs(e){let t,r,n,s,o,a;return{c(){t=m("div"),r=m("label"),n=A("Index"),s=v(),o=m("div"),a=A(e[3]),this.h()},l(c){t=g(c,"DIV",{class:!0});var i=y(t);r=g(i,"LABEL",{for:!0,class:!0});var l=y(r);n=S(l,"Index"),l.forEach(b),s=w(i),o=g(i,"DIV",{name:!0,class:!0});var h=y(o);a=S(h,e[3]),h.forEach(b),i.forEach(b),this.h()},h(){$(r,"for","linkIndex"),$(r,"class","svelte-86a428"),$(o,"name","linkIndex"),$(o,"class","value svelte-86a428"),$(t,"class","info svelte-86a428")},m(e,c){E(e,t,c),_(t,r),_(r,n),_(t,s),_(t,o),_(o,a)},p(e,t){8&t&&x(a,e[3])},d(e){e&&b(t)}}}function Xs(e){let t,r,n=!e[7]&&Gs(e),s=e[0]&&Js(e);return{c(){n&&n.c(),t=v(),s&&s.c(),r=N()},l(e){n&&n.l(e),t=w(e),s&&s.l(e),r=N()},m(e,o){n&&n.m(e,o),E(e,t,o),s&&s.m(e,o),E(e,r,o)},p(e,[o]){e[7]?n&&(n.d(1),n=null):n?n.p(e,o):(n=Gs(e),n.c(),n.m(t.parentNode,t)),e[0]?s?(s.p(e,o),1&o&&U(s,1)):(s=Js(e),s.c(),U(s,1),s.m(r.parentNode,r)):s&&(s.d(1),s=null)},i(e){U(s)},o:k,d(e){n&&n.d(e),e&&b(t),s&&s.d(e),e&&b(r)}}}function eo(e,t,r){let n,s;P(e,fr,(e=>r(7,n=e))),P(e,rr,(e=>r(8,s=e)));let{scoreInfoVisible:o=!1}=t,{score:a}=t,{title:c}=t,{tags:i}=t,{boost:l}=t,{context:h}=t,{linkIndexName:u}=t,{meta:f}=t,{i:d}=t;const p=oe();let m;o=!1;return e.$$set=e=>{"scoreInfoVisible"in e&&r(0,o=e.scoreInfoVisible),"score"in e&&r(1,a=e.score),"title"in e&&r(11,c=e.title),"tags"in e&&r(12,i=e.tags),"boost"in e&&r(2,l=e.boost),"context"in e&&r(13,h=e.context),"linkIndexName"in e&&r(3,u=e.linkIndexName),"meta"in e&&r(4,f=e.meta),"i"in e&&r(5,d=e.i)},[o,a,l,u,f,d,m,n,s,p,["Frida Jaramillo","Marshall Ferreira","Aarav Logan","Edna Hayden","Elaina Davie","Danni Ruiz","Krystal Dodson","Jordanne Mccullough","Zubair Boyd","Natalya Hancock","Zayden Galloway","Casey Mayer","Fergus Emerson","Bella-Rose Vang","Rabia Franks","Ernest Atherton","Rachel Jensen","Shivani Metcalfe","Ayisha Mueller","Davey Preston"],c,i,h,()=>p("toggle"),()=>r(6,m=!0),()=>r(6,m=!1)]}class to extends f{constructor(e){super(),d(this,e,eo,Xs,p,{scoreInfoVisible:0,score:1,title:11,tags:12,boost:2,context:13,linkIndexName:3,meta:4,i:5})}}function ro(e=new Date){return e.toString().match(new RegExp("\\((.*?)\\)"))[1]}function no(e,t,r){const n=e.slice();return n[26]=t[r],n}function so(e){let t;return{c(){t=m("div"),this.h()},l(e){t=g(e,"DIV",{class:!0,style:!0}),y(t).forEach(b),this.h()},h(){$(t,"class","favicon svelte-qjchod"),se(t,"background-image","url("+e[12]+")")},m(e,r){E(e,t,r)},p(e,r){4096&r&&se(t,"background-image","url("+e[12]+")")},d(e){e&&b(t)}}}function oo(e){let t,r;return{c(){t=m("div"),r=A(e[4]),this.h()},l(n){t=g(n,"DIV",{class:!0});var s=y(t);r=S(s,e[4]),s.forEach(b),this.h()},h(){$(t,"class","media_type svelte-qjchod")},m(e,n){E(e,t,n),_(t,r)},p(e,t){16&t&&x(r,e[4])},d(e){e&&b(t)}}}function ao(e){let t;function r(e,t){return e[11].imageUrl?io:co}let n=r(e),s=n(e);return{c(){s.c(),t=N()},l(e){s.l(e),t=N()},m(e,r){s.m(e,r),E(e,t,r)},p(e,o){n===(n=r(e))&&s?s.p(e,o):(s.d(1),s=n(e),s&&(s.c(),s.m(t.parentNode,t)))},d(e){s.d(e),e&&b(t)}}}function co(e){let t;return{c(){t=m("div"),this.h()},l(e){t=g(e,"DIV",{class:!0}),y(t).forEach(b),this.h()},h(){$(t,"class","image image-placeholder svelte-qjchod")},m(e,r){E(e,t,r)},p:k,d(e){e&&b(t)}}}function io(e){let t;return{c(){t=m("div"),this.h()},l(e){t=g(e,"DIV",{class:!0,style:!0}),y(t).forEach(b),this.h()},h(){$(t,"class","image svelte-qjchod"),se(t,"background-image","url("+e[11].imageUrl+")")},m(e,r){E(e,t,r)},p(e,r){2048&r&&se(t,"background-image","url("+e[11].imageUrl+")")},d(e){e&&b(t)}}}function lo(e){let t,r;return{c(){t=m("div"),r=A(e[7]),this.h()},l(n){t=g(n,"DIV",{class:!0});var s=y(t);r=S(s,e[7]),s.forEach(b),this.h()},h(){$(t,"class","context svelte-qjchod")},m(e,n){E(e,t,n),_(t,r)},p(e,t){128&t&&x(r,e[7])},d(e){e&&b(t)}}}function ho(e){let t,r,n;return r=new Ws({props:{siteTag:e[10]}}),{c(){t=m("div"),M(r.$$.fragment),this.h()},l(e){t=g(e,"DIV",{class:!0});var n=y(t);R(r.$$.fragment,n),n.forEach(b),this.h()},h(){$(t,"class","site_tag svelte-qjchod")},m(e,s){E(e,t,s),C(r,t,null),n=!0},p(e,t){const n={};1024&t&&(n.siteTag=e[10]),r.$set(n)},i(e){n||(U(r.$$.fragment,e),n=!0)},o(e){D(r.$$.fragment,e),n=!1},d(e){e&&b(t),j(r)}}}function uo(e){let t,r,n=e[11].description+"";return{c(){t=m("div"),r=A(n),this.h()},l(e){t=g(e,"DIV",{class:!0});var s=y(t);r=S(s,n),s.forEach(b),this.h()},h(){$(t,"class","description svelte-qjchod"),T(t,"expand",wo)},m(e,n){E(e,t,n),_(t,r)},p(e,t){2048&t&&n!==(n=e[11].description+"")&&x(r,n)},d(e){e&&b(t)}}}function fo(e){let t,r,n="this"==e[0].providerTag&&e[5]&&e[16]!=e[5]&&po(e),s=e[3],o=[];for(let a=0;a<s.length;a+=1)o[a]=mo(no(e,s,a));return{c(){t=m("div"),n&&n.c(),r=N();for(let e=0;e<o.length;e+=1)o[e].c();this.h()},l(e){t=g(e,"DIV",{class:!0});var s=y(t);n&&n.l(s),r=N();for(let t=0;t<o.length;t+=1)o[t].l(s);s.forEach(b),this.h()},h(){$(t,"class","tags svelte-qjchod")},m(e,s){E(e,t,s),n&&n.m(t,null),_(t,r);for(let r=0;r<o.length;r+=1)o[r].m(t,null)},p(e,a){if("this"==e[0].providerTag&&e[5]&&e[16]!=e[5]?n?n.p(e,a):(n=po(e),n.c(),n.m(t,r)):n&&(n.d(1),n=null),1179656&a){let r;for(s=e[3],r=0;r<s.length;r+=1){const n=no(e,s,r);o[r]?o[r].p(n,a):(o[r]=mo(n),o[r].c(),o[r].m(t,null))}for(;r<o.length;r+=1)o[r].d(1);o.length=s.length}},d(e){e&&b(t),n&&n.d(),I(o,e)}}}function po(e){let t,r;return{c(){t=m("span"),r=A(e[5]),this.h()},l(n){t=g(n,"SPAN",{class:!0});var s=y(t);r=S(s,e[5]),s.forEach(b),this.h()},h(){$(t,"class","link_index svelte-qjchod")},m(e,n){E(e,t,n),_(t,r)},p(e,t){32&t&&x(r,e[5])},d(e){e&&b(t)}}}function mo(e){let t,r,n=e[26]+"";return{c(){t=m("span"),r=A(n),this.h()},l(e){t=g(e,"SPAN",{class:!0});var s=y(t);r=S(s,n),s.forEach(b),this.h()},h(){$(t,"class","svelte-qjchod"),T(t,"active",e[17][e[26]]),T(t,"implied_tag",e[20](e[26]))},m(e,n){E(e,t,n),_(t,r)},p(e,s){8&s&&n!==(n=e[26]+"")&&x(r,n),131080&s&&T(t,"active",e[17][e[26]]),1048584&s&&T(t,"implied_tag",e[20](e[26]))},d(e){e&&b(t)}}}function vo(e){let t,r,n;function s(t){e[23](t)}let o={context:e[7],score:e[8],title:e[2],boost:e[6],meta:e[0],linkIndexName:e[5],i:e[14]};return void 0!==e[15]&&(o.scoreInfoVisible=e[15]),t=new to({props:o}),ce.push((()=>ie(t,"scoreInfoVisible",s))),t.$on("toggle",e[19]),{c(){M(t.$$.fragment)},l(e){R(t.$$.fragment,e)},m(e,r){C(t,e,r),n=!0},p(e,n){const s={};128&n&&(s.context=e[7]),256&n&&(s.score=e[8]),4&n&&(s.title=e[2]),64&n&&(s.boost=e[6]),1&n&&(s.meta=e[0]),32&n&&(s.linkIndexName=e[5]),16384&n&&(s.i=e[14]),!r&&32768&n&&(r=!0,s.scoreInfoVisible=e[15],ae((()=>r=!1))),t.$set(s)},i(e){n||(U(t.$$.fragment,e),n=!0)},o(e){D(t.$$.fragment,e),n=!1},d(e){j(t,e)}}}function go(e){let t,r=e[9]&&yo(e);return{c(){t=m("div"),r&&r.c(),this.h()},l(e){t=g(e,"DIV",{class:!0});var n=y(t);r&&r.l(n),n.forEach(b),this.h()},h(){$(t,"class","explain_scores svelte-qjchod")},m(e,n){E(e,t,n),r&&r.m(t,null)},p(e,n){e[9]?r?r.p(e,n):(r=yo(e),r.c(),r.m(t,null)):r&&(r.d(1),r=null)},d(e){e&&b(t),r&&r.d()}}}function yo(e){let t,r,n,s,o,a=(e[9]||"")+"";return{c(){t=A("score "),r=m("b"),n=A(e[8]),s=A(" = "),o=A(a),this.h()},l(c){t=S(c,"score "),r=g(c,"B",{class:!0});var i=y(r);n=S(i,e[8]),i.forEach(b),s=S(c," = "),o=S(c,a),this.h()},h(){$(r,"class","svelte-qjchod")},m(e,a){E(e,t,a),E(e,r,a),_(r,n),E(e,s,a),E(e,o,a)},p(e,t){256&t&&x(n,e[8]),512&t&&a!==(a=(e[9]||"")+"")&&x(o,a)},d(e){e&&b(t),e&&b(r),e&&b(s),e&&b(o)}}}function bo(e){var t;let r,n,s,o,a,c,i,l,h,u,f,d,p,k,P,T,I,O,M,R,C,j,V,q,B,K=("this"==e[0].providerTag?"":e[0].providerTag)+"",F=(e[2]||"")+"",Y=e[1].replace(/^https?:\/\//,"").replace(/\/$/,"")+"",W=e[12]&&so(e);function G(e,t){return e[11]?ao:e[4]?oo:void 0}let J=G(e),Q=J&&J(e),Z=e[7]&&lo(e),X=e[10]&&ho(e),ee=(null==(t=e[11])?void 0:t.description)&&uo(e),te=e[3]&&fo(e),re=!e[13]&&vo(e),ne=(sr||e[15])&&go(e);return{c(){r=m("a"),W&&W.c(),n=v(),s=m("div"),o=A(K),a=v(),c=m("div"),i=m("div"),Q&&Q.c(),l=v(),h=m("div"),u=m("div"),f=A(F),d=v(),Z&&Z.c(),p=v(),k=m("div"),X&&X.c(),P=v(),T=A(Y),I=v(),ee&&ee.c(),O=v(),te&&te.c(),M=v(),re&&re.c(),C=v(),ne&&ne.c(),j=N(),this.h()},l(e){r=g(e,"A",{class:!0,href:!0,tabindex:!0,role:!0});var t=y(r);W&&W.l(t),n=w(t),s=g(t,"DIV",{class:!0});var m=y(s);o=S(m,K),m.forEach(b),a=w(t),c=g(t,"DIV",{class:!0});var v=y(c);i=g(v,"DIV",{class:!0});var $=y(i);Q&&Q.l($),$.forEach(b),l=w(v),h=g(v,"DIV",{class:!0});var E=y(h);u=g(E,"DIV",{class:!0});var _=y(u);f=S(_,F),_.forEach(b),d=w(E),Z&&Z.l(E),p=w(E),k=g(E,"DIV",{class:!0});var A=y(k);X&&X.l(A),P=w(A),T=S(A,Y),A.forEach(b),I=w(E),ee&&ee.l(E),O=w(E),te&&te.l(E),E.forEach(b),v.forEach(b),M=w(t),re&&re.l(t),t.forEach(b),C=w(e),ne&&ne.l(e),j=N(),this.h()},h(){$(s,"class","provider_tag svelte-qjchod"),$(i,"class","preview svelte-qjchod"),$(u,"class","title svelte-qjchod"),$(k,"class","url svelte-qjchod"),$(h,"class","content svelte-qjchod"),$(c,"class","entry svelte-qjchod"),$(r,"class","container svelte-qjchod"),$(r,"href",e[1]),$(r,"tabindex",R=e[14]+1),$(r,"role","link")},m(t,m){E(t,r,m),W&&W.m(r,null),_(r,n),_(r,s),_(s,o),_(r,a),_(r,c),_(c,i),Q&&Q.m(i,null),_(c,l),_(c,h),_(h,u),_(u,f),_(h,d),Z&&Z.m(h,null),_(h,p),_(h,k),X&&X.m(k,null),_(k,P),_(k,T),_(h,I),ee&&ee.m(h,null),_(h,O),te&&te.m(h,null),_(r,M),re&&re.m(r,null),E(t,C,m),ne&&ne.m(t,m),E(t,j,m),V=!0,q||(B=H(r,"click",e[18]),q=!0)},p(e,[t]){var s;e[12]?W?W.p(e,t):(W=so(e),W.c(),W.m(r,n)):W&&(W.d(1),W=null),(!V||1&t)&&K!==(K=("this"==e[0].providerTag?"":e[0].providerTag)+"")&&x(o,K),J===(J=G(e))&&Q?Q.p(e,t):(Q&&Q.d(1),Q=J&&J(e),Q&&(Q.c(),Q.m(i,null))),(!V||4&t)&&F!==(F=(e[2]||"")+"")&&x(f,F),e[7]?Z?Z.p(e,t):(Z=lo(e),Z.c(),Z.m(h,p)):Z&&(Z.d(1),Z=null),e[10]?X?(X.p(e,t),1024&t&&U(X,1)):(X=ho(e),X.c(),U(X,1),X.m(k,P)):X&&(L(),D(X,1,1,(()=>{X=null})),z()),(!V||2&t)&&Y!==(Y=e[1].replace(/^https?:\/\//,"").replace(/\/$/,"")+"")&&x(T,Y),(null==(s=e[11])?void 0:s.description)?ee?ee.p(e,t):(ee=uo(e),ee.c(),ee.m(h,O)):ee&&(ee.d(1),ee=null),e[3]?te?te.p(e,t):(te=fo(e),te.c(),te.m(h,null)):te&&(te.d(1),te=null),e[13]?re&&(L(),D(re,1,1,(()=>{re=null})),z()):re?(re.p(e,t),8192&t&&U(re,1)):(re=vo(e),re.c(),U(re,1),re.m(r,null)),(!V||2&t)&&$(r,"href",e[1]),(!V||16384&t&&R!==(R=e[14]+1))&&$(r,"tabindex",R),sr||e[15]?ne?ne.p(e,t):(ne=go(e),ne.c(),ne.m(j.parentNode,j)):ne&&(ne.d(1),ne=null)},i(e){V||(U(X),U(re),V=!0)},o(e){D(X),D(re),V=!1},d(e){e&&b(r),W&&W.d(),Q&&Q.d(),Z&&Z.d(),X&&X.d(),ee&&ee.d(),te&&te.d(),re&&re.d(),e&&b(C),ne&&ne.d(e),e&&b(j),q=!1,B()}}}let wo=!1;function $o(e,t,r){let n,s,o;P(e,tr,(e=>r(24,n=e))),P(e,rr,(e=>r(16,s=e))),P(e,Rr,(e=>r(17,o=e)));let a,{backend:c}=t,{meta:i}=t,{url:l}=t,{title:h}=t,{tags:u}=t,{mediaType:f}=t,{linkIndexName:d}=t,{boost:p}=t,{context:m}=t,{score:v}=t,{scoreExplain:g}=t,{siteTag:y}=t,{preview:b}=t,{favicon:w}=t,{tagcloud:$}=t,{newsfeed:E}=t,{i:_}=t;const k=ro();return e.$$set=e=>{"backend"in e&&r(21,c=e.backend),"meta"in e&&r(0,i=e.meta),"url"in e&&r(1,l=e.url),"title"in e&&r(2,h=e.title),"tags"in e&&r(3,u=e.tags),"mediaType"in e&&r(4,f=e.mediaType),"linkIndexName"in e&&r(5,d=e.linkIndexName),"boost"in e&&r(6,p=e.boost),"context"in e&&r(7,m=e.context),"score"in e&&r(8,v=e.score),"scoreExplain"in e&&r(9,g=e.scoreExplain),"siteTag"in e&&r(10,y=e.siteTag),"preview"in e&&r(11,b=e.preview),"favicon"in e&&r(12,w=e.favicon),"tagcloud"in e&&r(22,$=e.tagcloud),"newsfeed"in e&&r(13,E=e.newsfeed),"i"in e&&r(14,_=e.i)},[i,l,h,u,f,d,p,m,v,g,y,b,w,E,_,a,s,o,function(){const{host:e}=window.location,t={ethAccount:n,host:e};try{c.remoteObject("GUISearchObject").call("trackClick",{url:l,providerTag:i.providerTag,timezone:k,clickMetadata:t}).then((()=>{console.log("TRACKER RETURNED")}))}catch(r){console.log(r)}},function(){r(15,a=!a)},function(e){return $&&$.find((({tag:t,impliedTag:r})=>t==e&&r))},c,$,function(e){a=e,r(15,a)}]}class Eo extends f{constructor(e){super(),d(this,e,$o,bo,p,{backend:21,meta:0,url:1,title:2,tags:3,mediaType:4,linkIndexName:5,boost:6,context:7,score:8,scoreExplain:9,siteTag:10,preview:11,favicon:12,tagcloud:22,newsfeed:13,i:14})}}const _o=window.location.host;function ko(){return{ethAccount:u(tr),searchOriginHost:_o,isLAN:false}}function Ao(e,t){Sr.set(null),Pr.set(e),console.log(`Browse place: ${e}`);t.remoteObject("GUISearchObject").call("browsePlace",{place:e,searchMetadata:ko()}).then((e=>{console.log("browsePlace RESULTS:"),console.dir(e),Nr.set({searchResults:e})})).catch((e=>{Nr.set({searchError:e})}))}function So(e){let t;function r(e,t){return e[10]?Po:xo}let n=r(e),s=n(e);return{c(){s.c(),t=N()},l(e){s.l(e),t=N()},m(e,r){s.m(e,r),E(e,t,r)},p(e,o){n===(n=r(e))&&s?s.p(e,o):(s.d(1),s=n(e),s&&(s.c(),s.m(t.parentNode,t)))},d(e){s.d(e),e&&b(t)}}}function xo(e){let t,r,n,s,o;return{c(){t=m("span"),r=m("span"),n=A("📁"),s=v(),o=A(e[4]),this.h()},l(a){t=g(a,"SPAN",{class:!0});var c=y(t);r=g(c,"SPAN",{class:!0});var i=y(r);n=S(i,"📁"),i.forEach(b),s=w(c),o=S(c,e[4]),c.forEach(b),this.h()},h(){$(r,"class","icon"),$(t,"class","directory svelte-7gmnlb")},m(e,a){E(e,t,a),_(t,r),_(r,n),_(t,s),_(t,o)},p(e,t){16&t&&x(o,e[4])},d(e){e&&b(t)}}}function Po(e){let t,r,n,s,o,a,c,i;return{c(){t=m("a"),r=m("span"),n=A("📁"),s=v(),o=A(e[4]),this.h()},l(a){t=g(a,"A",{class:!0,href:!0});var c=y(t);r=g(c,"SPAN",{class:!0});var i=y(r);n=S(i,"📁"),i.forEach(b),s=w(c),o=S(c,e[4]),c.forEach(b),this.h()},h(){$(r,"class","icon svelte-7gmnlb"),$(t,"class","directory svelte-7gmnlb"),$(t,"href",a=`/?place=${e[6]}`)},m(a,l){E(a,t,l),_(t,r),_(r,n),_(t,s),_(t,o),c||(i=H(t,"click",W(e[20])),c=!0)},p(e,r){16&r&&x(o,e[4]),64&r&&a!==(a=`/?place=${e[6]}`)&&$(t,"href",a)},d(e){e&&b(t),c=!1,i()}}}function To(e){let t,r;return{c(){t=m("div"),r=A(e[8]),this.h()},l(n){t=g(n,"DIV",{class:!0});var s=y(t);r=S(s,e[8]),s.forEach(b),this.h()},h(){$(t,"class","file_size svelte-7gmnlb")},m(e,n){E(e,t,n),_(t,r)},p(e,t){256&t&&x(r,e[8])},d(e){e&&b(t)}}}function No(e){let t,r,n,s;return{c(){t=m("div"),r=A("⏱️ "),n=m("span"),s=A(e[9]),this.h()},l(o){t=g(o,"DIV",{class:!0});var a=y(t);r=S(a,"⏱️ "),n=g(a,"SPAN",{});var c=y(n);s=S(c,e[9]),c.forEach(b),a.forEach(b),this.h()},h(){$(t,"class","file_updated_at svelte-7gmnlb")},m(e,o){E(e,t,o),_(t,r),_(t,n),_(n,s)},p(e,t){512&t&&x(s,e[9])},d(e){e&&b(t)}}}function Io(e){let t,r,n,s,o,a,c,i,l,h,u,f,d,p,P,N,I,O,M,R,C,U=("this"==e[1].providerTag?"":e[1].providerTag)+"",D=(e[3]||"")+"",j=e[4]!=e[11]&&So(e),V=e[8]&&To(e),q=e[9]&&No(e);return{c(){j&&j.c(),t=v(),r=m("a"),n=m("div"),s=A(U),o=v(),a=m("div"),c=m("div"),i=m("div"),l=A(e[12]),h=v(),u=m("div"),f=m("div"),d=A(e[5]),p=v(),P=m("div"),N=A(D),I=v(),V&&V.c(),O=v(),q&&q.c(),this.h()},l(m){j&&j.l(m),t=w(m),r=g(m,"A",{class:!0,href:!0,tabindex:!0,role:!0});var v=y(r);n=g(v,"DIV",{class:!0});var $=y(n);s=S($,U),$.forEach(b),o=w(v),a=g(v,"DIV",{class:!0});var E=y(a);c=g(E,"DIV",{class:!0});var _=y(c);i=g(_,"DIV",{class:!0});var k=y(i);l=S(k,e[12]),k.forEach(b),_.forEach(b),h=w(E),u=g(E,"DIV",{class:!0});var A=y(u);f=g(A,"DIV",{class:!0});var x=y(f);d=S(x,e[5]),x.forEach(b),p=w(A),P=g(A,"DIV",{class:!0});var T=y(P);N=S(T,D),T.forEach(b),I=w(A),V&&V.l(A),O=w(A),q&&q.l(A),A.forEach(b),E.forEach(b),v.forEach(b),this.h()},h(){$(n,"class","provider_tag svelte-7gmnlb"),$(i,"class","file_type "+e[12]+" svelte-7gmnlb"),T(i,"small",e[12].length>3),$(c,"class","preview svelte-7gmnlb"),$(f,"class","basedir svelte-7gmnlb"),$(P,"class","title "+e[12]+" svelte-7gmnlb"),$(u,"class","content svelte-7gmnlb"),$(a,"class","entry svelte-7gmnlb"),$(r,"class","container svelte-7gmnlb"),$(r,"href",e[7]),$(r,"tabindex",M=e[2]+1),$(r,"role","link")},m(m,v){j&&j.m(m,v),E(m,t,v),E(m,r,v),_(r,n),_(n,s),_(r,o),_(r,a),_(a,c),_(c,i),_(i,l),_(a,h),_(a,u),_(u,f),_(f,d),_(u,p),_(u,P),_(P,N),_(u,I),V&&V.m(u,null),_(u,O),q&&q.m(u,null),R||(C=H(r,"click",e[21]),R=!0)},p(e,[n]){e[4]!=e[11]?j?j.p(e,n):(j=So(e),j.c(),j.m(t.parentNode,t)):j&&(j.d(1),j=null),2&n&&U!==(U=("this"==e[1].providerTag?"":e[1].providerTag)+"")&&x(s,U),32&n&&x(d,e[5]),8&n&&D!==(D=(e[3]||"")+"")&&x(N,D),e[8]?V?V.p(e,n):(V=To(e),V.c(),V.m(u,O)):V&&(V.d(1),V=null),e[9]?q?q.p(e,n):(q=No(e),q.c(),q.m(u,null)):q&&(q.d(1),q=null),128&n&&$(r,"href",e[7]),4&n&&M!==(M=e[2]+1)&&$(r,"tabindex",M)},i:k,o:k,d(e){j&&j.d(e),e&&b(t),e&&b(r),V&&V.d(),q&&q.d(),R=!1,C()}}}function Oo(e,t,r){let n,s;P(e,tr,(e=>r(23,s=e)));let{backend:o}=t,{meta:a}=t,{allResults:c}=t,{i:i}=t,{fileName:l}=t,{directory:h}=t,{basedir:u}=t,{directoryHandle:f}=t,{place:d}=t,{playableUrl:p}=t,{mediaType:m}=t,{extname:v}=t,{fileSizePretty:g}=t,{fileUpdatedAtRelativePretty:y}=t,{fileNote:b}=t,{hasPlayer:w}=t,{localResult:$}=t,E=m||v;const _=ro();function k({fileName:e}){const{host:t}=window.location,r={displayName:"",ethAccount:s,host:t};try{o.remoteObject("GUISearchObject").call("trackFileClick",{fileName:e,providerTag:a.providerTag,timezone:_,clickMetadata:r}).then((()=>{console.log("TRACKER RETURNED")}))}catch(n){console.log(n)}}return e.$$set=e=>{"backend"in e&&r(0,o=e.backend),"meta"in e&&r(1,a=e.meta),"allResults"in e&&r(14,c=e.allResults),"i"in e&&r(2,i=e.i),"fileName"in e&&r(3,l=e.fileName),"directory"in e&&r(4,h=e.directory),"basedir"in e&&r(5,u=e.basedir),"directoryHandle"in e&&r(6,f=e.directoryHandle),"place"in e&&r(15,d=e.place),"playableUrl"in e&&r(7,p=e.playableUrl),"mediaType"in e&&r(16,m=e.mediaType),"extname"in e&&r(17,v=e.extname),"fileSizePretty"in e&&r(8,g=e.fileSizePretty),"fileUpdatedAtRelativePretty"in e&&r(9,y=e.fileUpdatedAtRelativePretty),"fileNote"in e&&r(18,b=e.fileNote),"hasPlayer"in e&&r(19,w=e.hasPlayer),"localResult"in e&&r(10,$=e.localResult)},e.$$.update=()=>{16388&e.$$.dirty&&r(11,n=i>0?c[i-1].directory:null)},[o,a,i,l,h,u,f,p,g,y,$,n,E,k,c,d,m,v,b,w,()=>Ao(f,o),()=>k({fileName:l})]}class Mo extends f{constructor(e){super(),d(this,e,Oo,Io,p,{backend:0,meta:1,allResults:14,i:2,fileName:3,directory:4,basedir:5,directoryHandle:6,place:15,playableUrl:7,mediaType:16,extname:17,fileSizePretty:8,fileUpdatedAtRelativePretty:9,fileNote:18,hasPlayer:19,localResult:10})}}function Ro(e){let t,r;return{c(){t=m("div"),r=A("Unsupported search results format."),this.h()},l(e){t=g(e,"DIV",{class:!0});var n=y(t);r=S(n,"Unsupported search results format."),n.forEach(b),this.h()},h(){$(t,"class","resultError svelte-yvqfiy")},m(e,n){E(e,t,n),_(t,r)},p:k,i:k,o:k,d(e){e&&b(t)}}}function Co(e){let t,r;const n=[e[1],{backend:e[2]},{hasPlayer:e[3]},{meta:e[4]},{allResults:e[5]},{i:e[0]}];let s={};for(let o=0;o<n.length;o+=1)s=J(s,n[o]);return t=new Mo({props:s}),{c(){M(t.$$.fragment)},l(e){R(t.$$.fragment,e)},m(e,n){C(t,e,n),r=!0},p(e,r){const s=63&r?Q(n,[2&r&&Z(e[1]),4&r&&{backend:e[2]},8&r&&{hasPlayer:e[3]},16&r&&{meta:e[4]},32&r&&{allResults:e[5]},1&r&&{i:e[0]}]):{};t.$set(s)},i(e){r||(U(t.$$.fragment,e),r=!0)},o(e){D(t.$$.fragment,e),r=!1},d(e){j(t,e)}}}function Uo(e){let t,r;const n=[e[1],{backend:e[2]},{meta:e[4]},{newsfeed:e[7]},{tagcloud:e[6]},{i:e[0]}];let s={};for(let o=0;o<n.length;o+=1)s=J(s,n[o]);return t=new Eo({props:s}),{c(){M(t.$$.fragment)},l(e){R(t.$$.fragment,e)},m(e,n){C(t,e,n),r=!0},p(e,r){const s=215&r?Q(n,[2&r&&Z(e[1]),4&r&&{backend:e[2]},16&r&&{meta:e[4]},128&r&&{newsfeed:e[7]},64&r&&{tagcloud:e[6]},1&r&&{i:e[0]}]):{};t.$set(s)},i(e){r||(U(t.$$.fragment,e),r=!0)},o(e){D(t.$$.fragment,e),r=!1},d(e){j(t,e)}}}function Do(e){let t,r,n,s,o;const a=[Uo,Co,Ro],c=[];function i(e,t){return e[1].url?0:e[1].filePath?1:2}return n=i(e),s=c[n]=a[n](e),{c(){t=m("div"),r=m("div"),s.c(),this.h()},l(e){t=g(e,"DIV",{class:!0});var n=y(t);r=g(n,"DIV",{class:!0});var o=y(r);s.l(o),o.forEach(b),n.forEach(b),this.h()},h(){$(r,"class","result"),T(r,"url_result",e[1].url),$(t,"class","inner")},m(e,s){E(e,t,s),_(t,r),c[n].m(r,null),o=!0},p(e,[t]){let o=n;n=i(e),n===o?c[n].p(e,t):(L(),D(c[o],1,1,(()=>{c[o]=null})),z(),s=c[n],s?s.p(e,t):(s=c[n]=a[n](e),s.c()),U(s,1),s.m(r,null)),2&t&&T(r,"url_result",e[1].url)},i(e){o||(U(s),o=!0)},o(e){D(s),o=!1},d(e){e&&b(t),c[n].d()}}}function jo(e,t,r){let{i:n}=t,{result:s}=t,{backend:o}=t,{hasPlayer:a}=t,{meta:c}=t,{allResults:i}=t,{tagcloud:l}=t,{newsfeed:h}=t;return e.$$set=e=>{"i"in e&&r(0,n=e.i),"result"in e&&r(1,s=e.result),"backend"in e&&r(2,o=e.backend),"hasPlayer"in e&&r(3,a=e.hasPlayer),"meta"in e&&r(4,c=e.meta),"allResults"in e&&r(5,i=e.allResults),"tagcloud"in e&&r(6,l=e.tagcloud),"newsfeed"in e&&r(7,h=e.newsfeed)},[n,s,o,a,c,i,l,h]}class Vo extends f{constructor(e){super(),d(this,e,jo,Do,p,{i:0,result:1,backend:2,hasPlayer:3,meta:4,allResults:5,tagcloud:6,newsfeed:7})}}function qo(e,t,r){const n=e.slice();return n[7]=t[r],n[9]=r,n}function Bo(e){let t,r,n,s,o,a;return r=new Vo({props:{result:e[7],backend:e[2],hasPlayer:e[4],meta:e[1],allResults:e[0],i:e[9],tagcloud:e[3]}}),{c(){t=m("div"),M(r.$$.fragment),n=v(),this.h()},l(e){t=g(e,"DIV",{class:!0});var s=y(t);R(r.$$.fragment,s),n=w(s),s.forEach(b),this.h()},h(){$(t,"class","result")},m(e,s){E(e,t,s),C(r,t,null),_(t,n),a=!0},p(t,n){e=t;const s={};97&n&&(s.result=e[7]),4&n&&(s.backend=e[2]),16&n&&(s.hasPlayer=e[4]),2&n&&(s.meta=e[1]),1&n&&(s.allResults=e[0]),8&n&&(s.tagcloud=e[3]),r.$set(s)},i(n){a||(U(r.$$.fragment,n),V((()=>{o&&o.end(1),s||(s=q(t,F,{y:50,duration:e[7].filePath?50:750,delay:e[7].filePath?0:100*e[9]})),s.start()})),a=!0)},o(e){D(r.$$.fragment,e),s&&s.invalidate(),o=B(t,F,{y:50}),a=!1},d(e){e&&b(t),j(r),e&&o&&o.end()}}}function Lo(e){let t,r,n=e[0].slice(e[5],e[6]?e[5]+e[6]:e[6]),s=[];for(let a=0;a<n.length;a+=1)s[a]=Bo(qo(e,n,a));const o=e=>D(s[e],1,1,(()=>{s[e]=null}));return{c(){for(let e=0;e<s.length;e+=1)s[e].c();t=N()},l(e){for(let t=0;t<s.length;t+=1)s[t].l(e);t=N()},m(e,n){for(let t=0;t<s.length;t+=1)s[t].m(e,n);E(e,t,n),r=!0},p(e,[r]){if(127&r){let a;for(n=e[0].slice(e[5],e[6]?e[5]+e[6]:e[6]),a=0;a<n.length;a+=1){const o=qo(e,n,a);s[a]?(s[a].p(o,r),U(s[a],1)):(s[a]=Bo(o),s[a].c(),U(s[a],1),s[a].m(t.parentNode,t))}for(L(),a=n.length;a<s.length;a+=1)o(a);z()}},i(e){if(!r){for(let e=0;e<n.length;e+=1)U(s[e]);r=!0}},o(e){s=s.filter(Boolean);for(let t=0;t<s.length;t+=1)D(s[t]);r=!1},d(e){I(s,e),e&&b(t)}}}function zo(e,t,r){let{results:n}=t,{meta:s}=t,{backend:o}=t,{tagcloud:a}=t,{hasPlayer:c}=t,{startFrom:i=0}=t,{count:l}=t;return e.$$set=e=>{"results"in e&&r(0,n=e.results),"meta"in e&&r(1,s=e.meta),"backend"in e&&r(2,o=e.backend),"tagcloud"in e&&r(3,a=e.tagcloud),"hasPlayer"in e&&r(4,c=e.hasPlayer),"startFrom"in e&&r(5,i=e.startFrom),"count"in e&&r(6,l=e.count)},[n,s,o,a,c,i,l]}class Ko extends f{constructor(e){super(),d(this,e,zo,Lo,p,{results:0,meta:1,backend:2,tagcloud:3,hasPlayer:4,startFrom:5,count:6})}}function Fo(e){let t,r=e[1](e[0])+"";return{c(){t=m("div"),this.h()},l(e){t=g(e,"DIV",{class:!0}),y(t).forEach(b),this.h()},h(){$(t,"class","results_meta svelte-3vss1y")},m(e,n){E(e,t,n),t.innerHTML=r},p(e,[n]){1&n&&r!==(r=e[1](e[0])+"")&&(t.innerHTML=r)},i:k,o:k,d(e){e&&b(t)}}}function Ho(e,t,r){const n=pr;let{providerResponse:s}=t;return e.$$set=e=>{"providerResponse"in e&&r(0,s=e.providerResponse)},[s,function(e){if(e.error)return n.red(`⚠️  Error: ${e.error}`);const{meta:t}=e,{page:r,noMorePages:s,resultCount:o,resultsFrom:a,resultsTo:c,searchTimePretty:i,networkTimePretty:l}=t;let h="";if(i&&(h+=n.gray(` · ${n.gray("fs")} ${n.white(i)}`)),l&&(h+=n.gray(` · ${n.gray("network")} ${n.white(l)}`)),o>0){if(1==r&&s)return n.white(`${o} ${1==o?"result":"results"}${h}`);const e=s?n.gray(" [ last ]"):"",t=`${n.white(`Results ${a} ${n.gray("to")} ${c}`)}`;return n.gray(`${n.white(`Page ${r}`)}${e} → ${t}${h}`)}return n.gray(`No ${r>1?"more ":""}results${h}`)}]}class Yo extends f{constructor(e){super(),d(this,e,Ho,Fo,p,{providerResponse:0})}}function Wo(e){let t,r;function n(e,t){return 1==e[2]?Qo:Jo}let s=n(e),o=s(e),a=e[3]&&Zo();return{c(){o.c(),t=v(),a&&a.c(),r=N()},l(e){o.l(e),t=w(e),a&&a.l(e),r=N()},m(e,n){o.m(e,n),E(e,t,n),a&&a.m(e,n),E(e,r,n)},p(e,c){s!==(s=n(e))&&(o.d(1),o=s(e),o&&(o.c(),o.m(t.parentNode,t))),e[3]?a||(a=Zo(),a.c(),a.m(r.parentNode,r)):a&&(a.d(1),a=null)},d(e){o.d(e),e&&b(t),a&&a.d(e),e&&b(r)}}}function Go(e){let t;return{c(){t=A("— NO MORE RESULTS —")},l(e){t=S(e,"— NO MORE RESULTS —")},m(e,r){E(e,t,r)},p:k,d(e){e&&b(t)}}}function Jo(e){let t;return{c(){t=A("— NO DISCOVERIES IN THIS SEARCH NETWORK —")},l(e){t=S(e,"— NO DISCOVERIES IN THIS SEARCH NETWORK —")},m(e,r){E(e,t,r)},d(e){e&&b(t)}}}function Qo(e){let t,r,n,s,o;return{c(){t=A("— NO DISCOVERIES IN THIS SEARCH NODE —\n      "),r=m("br"),n=v(),s=m("div"),o=A("Perhaps try peer (network) search as well."),this.h()},l(e){t=S(e,"— NO DISCOVERIES IN THIS SEARCH NODE —\n      "),r=g(e,"BR",{}),n=w(e),s=g(e,"DIV",{class:!0});var a=y(s);o=S(a,"Perhaps try peer (network) search as well."),a.forEach(b),this.h()},h(){$(s,"class","deemph")},m(e,a){E(e,t,a),E(e,r,a),E(e,n,a),E(e,s,a),_(s,o)},d(e){e&&b(t),e&&b(r),e&&b(n),e&&b(s)}}}function Zo(e){let t,r,n,s,o,a,c,i,l,h,u,f,d,p,k,x;return{c(){t=m("br"),r=v(),n=m("div"),s=A("You can start "),o=m("a"),a=A("running your own Search Node 🕳️🐇"),c=A(".\n      "),i=m("br"),l=m("br"),h=A("\n      DMT Search ('Zeta') node is like a personal interconnected bookmarking service (& more). It contains no spam.\n      "),u=m("br"),f=A("\n      ZetaSeek is just one instance of such node which happens to be focused on selected parts of modern internet."),d=v(),p=m("a"),k=m("img"),this.h()},l(e){t=g(e,"BR",{}),r=w(e),n=g(e,"DIV",{class:!0});var m=y(n);s=S(m,"You can start "),o=g(m,"A",{href:!0,class:!0});var v=y(o);a=S(v,"running your own Search Node 🕳️🐇"),v.forEach(b),c=S(m,".\n      "),i=g(m,"BR",{}),l=g(m,"BR",{}),h=S(m,"\n      DMT Search ('Zeta') node is like a personal interconnected bookmarking service (& more). It contains no spam.\n      "),u=g(m,"BR",{}),f=S(m,"\n      ZetaSeek is just one instance of such node which happens to be focused on selected parts of modern internet."),m.forEach(b),d=w(e),p=g(e,"A",{href:!0,class:!0});var $=y(p);k=g($,"IMG",{class:!0,src:!0}),$.forEach(b),this.h()},h(){$(o,"href","https://dmt-system.com"),$(o,"class","svelte-va3d5o"),$(n,"class","deemph"),$(k,"class","dmt_search_engine svelte-va3d5o"),k.src!==(x="/search/img/dmt_search_engine.png")&&$(k,"src","/search/img/dmt_search_engine.png"),$(p,"href","https://dmt-system.com"),$(p,"class","svelte-va3d5o")},m(e,m){E(e,t,m),E(e,r,m),E(e,n,m),_(n,s),_(n,o),_(o,a),_(n,c),_(n,i),_(n,l),_(n,h),_(n,u),_(n,f),E(e,d,m),E(e,p,m),_(p,k)},d(e){e&&b(t),e&&b(r),e&&b(n),e&&b(d),e&&b(p)}}}function Xo(e){let t;function r(e,t){return e[1]>1?Go:Wo}let n=r(e),s=n(e);return{c(){t=m("div"),s.c(),this.h()},l(e){t=g(e,"DIV",{class:!0});var r=y(t);s.l(r),r.forEach(b),this.h()},h(){$(t,"class","no_results svelte-va3d5o"),T(t,"visible",e[0])},m(e,r){E(e,t,r),s.m(t,null)},p(e,[o]){n===(n=r(e))&&s?s.p(e,o):(s.d(1),s=n(e),s&&(s.c(),s.m(t,null))),1&o&&T(t,"visible",e[0])},i:k,o:k,d(e){e&&b(t),s.d()}}}function ea(e,t,r){let n,s,o,a;return P(e,Or,(e=>r(0,n=e))),P(e,xr,(e=>r(1,s=e))),P(e,Tr,(e=>r(2,o=e))),P(e,ir,(e=>r(3,a=e))),[n,s,o,a]}class ta extends f{constructor(e){super(),d(this,e,ea,Xo,p,{})}}function ra(e){let t,r,n=e[0].contentId+"";return{c(){t=A("/"),r=A(n)},l(e){t=S(e,"/"),r=S(e,n)},m(e,n){E(e,t,n),E(e,r,n)},p(e,t){1&t&&n!==(n=e[0].contentId+"")&&x(r,n)},d(e){e&&b(t),e&&b(r)}}}function na(e){let t,r;return{c(){t=m("span"),r=A("[ File System ]"),this.h()},l(e){t=g(e,"SPAN",{class:!0});var n=y(t);r=S(n,"[ File System ]"),n.forEach(b),this.h()},h(){$(t,"class","file_system_tag svelte-114odhp")},m(e,n){E(e,t,n),_(t,r)},d(e){e&&b(t)}}}function sa(e){let t,r,n,s,o,a,c=e[0].providerTag+"",i=e[0].contentId&&ra(e),l=!e[0].contentId&&na();return{c(){t=m("div"),r=m("span"),n=A("🖥️ @"),s=A(c),o=m("span"),i&&i.c(),a=v(),l&&l.c(),this.h()},l(e){t=g(e,"DIV",{class:!0});var h=y(t);r=g(h,"SPAN",{class:!0});var u=y(r);n=S(u,"🖥️ @"),s=S(u,c),u.forEach(b),o=g(h,"SPAN",{class:!0});var f=y(o);i&&i.l(f),f.forEach(b),a=w(h),l&&l.l(h),h.forEach(b),this.h()},h(){$(r,"class","host svelte-114odhp"),$(o,"class","contentId svelte-114odhp"),$(t,"class","provider_host svelte-114odhp"),T(t,"this",e[0].thisMachine)},m(e,c){E(e,t,c),_(t,r),_(r,n),_(r,s),_(t,o),i&&i.m(o,null),_(t,a),l&&l.m(t,null)},p(e,[r]){1&r&&c!==(c=e[0].providerTag+"")&&x(s,c),e[0].contentId?i?i.p(e,r):(i=ra(e),i.c(),i.m(o,null)):i&&(i.d(1),i=null),e[0].contentId?l&&(l.d(1),l=null):l||(l=na(),l.c(),l.m(t,null)),1&r&&T(t,"this",e[0].thisMachine)},i:k,o:k,d(e){e&&b(t),i&&i.d(),l&&l.d()}}}function oa(e,t,r){let{meta:n}=t;return e.$$set=e=>{"meta"in e&&r(0,n=e.meta)},[n]}class aa extends f{constructor(e){super(),d(this,e,oa,sa,p,{meta:0})}}function ca(e){let t,r,n,s,o,a,c,i,l,h,u,f,d;return{c(){t=m("button"),r=A("Prev"),s=v(),o=m("span"),a=A("Page "),c=A(e[2]),i=v(),l=m("button"),h=A("Next"),this.h()},l(n){t=g(n,"BUTTON",{disabled:!0,class:!0});var u=y(t);r=S(u,"Prev"),u.forEach(b),s=w(n),o=g(n,"SPAN",{class:!0});var f=y(o);a=S(f,"Page "),c=S(f,e[2]),f.forEach(b),i=w(n),l=g(n,"BUTTON",{disabled:!0,class:!0});var d=y(l);h=S(d,"Next"),d.forEach(b),this.h()},h(){t.disabled=n=1==e[2],$(t,"class","svelte-celm3m"),T(t,"disconnected",!e[1]),$(o,"class","svelte-celm3m"),l.disabled=u=e[3]||e[5]||e[6],$(l,"class","svelte-celm3m"),T(l,"disconnected",!e[1])},m(n,u){E(n,t,u),_(t,r),E(n,s,u),E(n,o,u),_(o,a),_(o,c),E(n,i,u),E(n,l,u),_(l,h),f||(d=[H(t,"click",e[7]),H(l,"click",e[8])],f=!0)},p(e,r){4&r&&n!==(n=1==e[2])&&(t.disabled=n),2&r&&T(t,"disconnected",!e[1]),4&r&&x(c,e[2]),104&r&&u!==(u=e[3]||e[5]||e[6])&&(l.disabled=u),2&r&&T(l,"disconnected",!e[1])},d(e){e&&b(t),e&&b(s),e&&b(o),e&&b(i),e&&b(l),f=!1,G(d)}}}function ia(e){let t,r=e[4]&&(!e[3]||e[3]&&e[2]>1)&&ca(e);return{c(){t=m("div"),r&&r.c(),this.h()},l(e){t=g(e,"DIV",{class:!0});var n=y(t);r&&r.l(n),n.forEach(b),this.h()},h(){$(t,"class","pagination svelte-celm3m")},m(e,n){E(e,t,n),r&&r.m(t,null)},p(e,[n]){e[4]&&(!e[3]||e[3]&&e[2]>1)?r?r.p(e,n):(r=ca(e),r.c(),r.m(t,null)):r&&(r.d(1),r=null)},i:k,o:k,d(e){e&&b(t),r&&r.d()}}}function la(e,t,r){let n,s,o,a,c,i,l=k,h=()=>(l(),l=O(f,(e=>r(1,n=e))),f);P(e,xr,(e=>r(2,s=e))),P(e,Or,(e=>r(3,o=e))),P(e,Sr,(e=>r(4,a=e))),P(e,Mr,(e=>r(5,c=e))),P(e,Ir,(e=>r(6,i=e))),e.$$.on_destroy.push((()=>l()));let{zetaSearch:u}=t,{connected:f}=t;return h(),e.$$set=e=>{"zetaSearch"in e&&r(9,u=e.zetaSearch),"connected"in e&&h(r(0,f=e.connected))},[f,n,s,o,a,c,i,function(){n&&s>1&&u({searchPage:s-1})},function(){n&&!o&&u({searchPage:s+1})},u]}class ha extends f{constructor(e){super(),d(this,e,la,ia,p,{zetaSearch:9,connected:0})}}function ua(e){Rr.update((t=>(t[e]?delete t[e]:t[e]=!0,t)))}function fa(e,t,r){const n=e.slice();return n[12]=t[r],n[14]=r,n}function da(e){let t,r,n=e[6],s=[];for(let a=0;a<n.length;a+=1)s[a]=ya(fa(e,n,a));const o=e=>D(s[e],1,1,(()=>{s[e]=null}));return{c(){for(let e=0;e<s.length;e+=1)s[e].c();t=N()},l(e){for(let t=0;t<s.length;t+=1)s[t].l(e);t=N()},m(e,n){for(let t=0;t<s.length;t+=1)s[t].m(e,n);E(e,t,n),r=!0},p(e,r){if(199&r){let a;for(n=e[6],a=0;a<n.length;a+=1){const o=fa(e,n,a);s[a]?(s[a].p(o,r),U(s[a],1)):(s[a]=ya(o),s[a].c(),U(s[a],1),s[a].m(t.parentNode,t))}for(L(),a=n.length;a<s.length;a+=1)o(a);z()}},i(e){if(!r){for(let e=0;e<n.length;e+=1)U(s[e]);r=!0}},o(e){s=s.filter(Boolean);for(let t=0;t<s.length;t+=1)D(s[t]);r=!1},d(e){I(s,e),e&&b(t)}}}function pa(e){let t,r,n,s,o,a,c,i,l=e[5].message+"",h=e[5].stack.split("\n").join("<br>")+"";return{c(){t=m("div"),r=m("p"),n=A("Search Error in Frontend Code:"),s=v(),o=m("span"),a=A(l),c=v(),i=m("span"),this.h()},l(e){t=g(e,"DIV",{class:!0});var h=y(t);r=g(h,"P",{});var u=y(r);n=S(u,"Search Error in Frontend Code:"),u.forEach(b),s=w(h),o=g(h,"SPAN",{class:!0});var f=y(o);a=S(f,l),f.forEach(b),c=w(h),i=g(h,"SPAN",{class:!0}),y(i).forEach(b),h.forEach(b),this.h()},h(){$(o,"class","svelte-irqphe"),$(i,"class","svelte-irqphe"),$(t,"class","search_error svelte-irqphe")},m(e,l){E(e,t,l),_(t,r),_(r,n),_(t,s),_(t,o),_(o,a),_(t,c),_(t,i),i.innerHTML=h},p(e,t){32&t&&l!==(l=e[5].message+"")&&x(a,l),32&t&&h!==(h=e[5].stack.split("\n").join("<br>")+"")&&(i.innerHTML=h)},i:k,o:k,d(e){e&&b(t)}}}function ma(e){let t,r,n,s,o,a,c,i,l,h=e[12].error+"";return r=new aa({props:{meta:e[12].meta}}),{c(){t=m("div"),M(r.$$.fragment),n=v(),s=m("div"),o=m("span"),a=A("⚠️"),c=v(),i=A(h),this.h()},l(e){t=g(e,"DIV",{class:!0});var l=y(t);R(r.$$.fragment,l),n=w(l),s=g(l,"DIV",{class:!0});var u=y(s);o=g(u,"SPAN",{class:!0});var f=y(o);a=S(f,"⚠️"),f.forEach(b),c=w(u),i=S(u,h),u.forEach(b),l.forEach(b),this.h()},h(){$(o,"class","svelte-irqphe"),$(s,"class","result_error svelte-irqphe"),$(t,"class","results svelte-irqphe")},m(e,h){E(e,t,h),C(r,t,null),_(t,n),_(t,s),_(s,o),_(o,a),_(s,c),_(s,i),l=!0},p(e,t){const n={};64&t&&(n.meta=e[12].meta),r.$set(n),(!l||64&t)&&h!==(h=e[12].error+"")&&x(i,h)},i(e){l||(U(r.$$.fragment,e),l=!0)},o(e){D(r.$$.fragment,e),l=!1},d(e){e&&b(t),j(r)}}}function va(e){let t,r,n,s,o,a,c,i,l,h,u;r=new aa({props:{meta:e[12].meta}});let f=e[12].tagcloud&&ga(e);return o=new Yo({props:{providerResponse:e[12]}}),c=new Ko({props:{backend:e[0],hasPlayer:e[2],results:e[12].results,meta:e[12].meta,tagcloud:e[12].tagcloud}}),l=new Yo({props:{providerResponse:e[12]}}),{c(){t=m("div"),M(r.$$.fragment),n=v(),f&&f.c(),s=v(),M(o.$$.fragment),a=v(),M(c.$$.fragment),i=v(),M(l.$$.fragment),h=v(),this.h()},l(e){t=g(e,"DIV",{class:!0});var u=y(t);R(r.$$.fragment,u),n=w(u),f&&f.l(u),s=w(u),R(o.$$.fragment,u),a=w(u),R(c.$$.fragment,u),i=w(u),R(l.$$.fragment,u),h=w(u),u.forEach(b),this.h()},h(){$(t,"class","results svelte-irqphe")},m(e,d){E(e,t,d),C(r,t,null),_(t,n),f&&f.m(t,null),_(t,s),C(o,t,null),_(t,a),C(c,t,null),_(t,i),C(l,t,null),_(t,h),u=!0},p(e,n){const a={};64&n&&(a.meta=e[12].meta),r.$set(a),e[12].tagcloud?f?(f.p(e,n),64&n&&U(f,1)):(f=ga(e),f.c(),U(f,1),f.m(t,s)):f&&(L(),D(f,1,1,(()=>{f=null})),z());const i={};64&n&&(i.providerResponse=e[12]),o.$set(i);const h={};1&n&&(h.backend=e[0]),4&n&&(h.hasPlayer=e[2]),64&n&&(h.results=e[12].results),64&n&&(h.meta=e[12].meta),64&n&&(h.tagcloud=e[12].tagcloud),c.$set(h);const u={};64&n&&(u.providerResponse=e[12]),l.$set(u)},i(e){u||(U(r.$$.fragment,e),U(f),U(o.$$.fragment,e),U(c.$$.fragment,e),U(l.$$.fragment,e),u=!0)},o(e){D(r.$$.fragment,e),D(f),D(o.$$.fragment,e),D(c.$$.fragment,e),D(l.$$.fragment,e),u=!1},d(e){e&&b(t),j(r),f&&f.d(),j(o),j(c),j(l)}}}function ga(e){let t,r;return t=new Ds({props:{tagcloud:e[12].tagcloud,onTagClick:e[7],connected:e[1]}}),{c(){M(t.$$.fragment)},l(e){R(t.$$.fragment,e)},m(e,n){C(t,e,n),r=!0},p(e,r){const n={};64&r&&(n.tagcloud=e[12].tagcloud),2&r&&(n.connected=e[1]),t.$set(n)},i(e){r||(U(t.$$.fragment,e),r=!0)},o(e){D(t.$$.fragment,e),r=!1},d(e){j(t,e)}}}function ya(e){let t,r,n,s=sr&&e[12].error&&ma(e),o=e[12].results&&e[12].results.length>0&&va(e);return{c(){s&&s.c(),t=v(),o&&o.c(),r=N()},l(e){s&&s.l(e),t=w(e),o&&o.l(e),r=N()},m(e,a){s&&s.m(e,a),E(e,t,a),o&&o.m(e,a),E(e,r,a),n=!0},p(e,n){sr&&e[12].error?s?(s.p(e,n),64&n&&U(s,1)):(s=ma(e),s.c(),U(s,1),s.m(t.parentNode,t)):s&&(L(),D(s,1,1,(()=>{s=null})),z()),e[12].results&&e[12].results.length>0?o?(o.p(e,n),64&n&&U(o,1)):(o=va(e),o.c(),U(o,1),o.m(r.parentNode,r)):o&&(L(),D(o,1,1,(()=>{o=null})),z())},i(e){n||(U(s),U(o),n=!0)},o(e){D(s),D(o),n=!1},d(e){s&&s.d(e),e&&b(t),o&&o.d(e),e&&b(r)}}}function ba(e){let t,r,n,s,o,a,c,i;t=new ha({props:{zetaSearch:e[4],connected:e[1]}}),n=new ta({});const l=[pa,da],h=[];function u(e,t){return e[5]?0:e[6]?1:-1}return~(o=u(e))&&(a=h[o]=l[o](e)),{c(){M(t.$$.fragment),r=v(),M(n.$$.fragment),s=v(),a&&a.c(),c=N()},l(e){R(t.$$.fragment,e),r=w(e),R(n.$$.fragment,e),s=w(e),a&&a.l(e),c=N()},m(e,a){C(t,e,a),E(e,r,a),C(n,e,a),E(e,s,a),~o&&h[o].m(e,a),E(e,c,a),i=!0},p(e,[r]){const n={};16&r&&(n.zetaSearch=e[4]),2&r&&(n.connected=e[1]),t.$set(n);let s=o;o=u(e),o===s?~o&&h[o].p(e,r):(a&&(L(),D(h[s],1,1,(()=>{h[s]=null})),z()),~o?(a=h[o],a?a.p(e,r):(a=h[o]=l[o](e),a.c()),U(a,1),a.m(c.parentNode,c)):a=null)},i(e){i||(U(t.$$.fragment,e),U(n.$$.fragment,e),U(a),i=!0)},o(e){D(t.$$.fragment,e),D(n.$$.fragment,e),D(a),i=!1},d(e){j(t,e),e&&b(r),j(n,e),e&&b(s),~o&&h[o].d(e),e&&b(c)}}}function wa(e,t,r){let n,s,o,a,c,i=k,l=()=>(i(),i=O(v,(e=>r(9,o=e))),v),h=k,u=()=>(h(),h=O(p,(e=>r(10,a=e))),p);P(e,Ir,(e=>r(11,c=e))),e.$$.on_destroy.push((()=>i())),e.$$.on_destroy.push((()=>h()));let{backend:f}=t,{backend2:d}=t,{connected:p}=t,{hasPlayer:m}=t,{searchResponse:v}=t,{zetaSearch:g}=t;return l(),u(),e.$$set=e=>{"backend"in e&&r(0,f=e.backend),"backend2"in e&&r(8,d=e.backend2),"connected"in e&&u(r(1,p=e.connected)),"hasPlayer"in e&&r(2,m=e.hasPlayer),"searchResponse"in e&&l(r(3,v=e.searchResponse)),"zetaSearch"in e&&r(4,g=e.zetaSearch)},e.$$.update=()=>{512&e.$$.dirty&&r(5,n=o.searchError),512&e.$$.dirty&&r(6,s=o.searchResults)},[f,p,m,v,g,n,s,function(e){a&&!c&&(ua(e),g())},d,o]}class $a extends f{constructor(e){super(),d(this,e,wa,ba,p,{backend:0,backend2:8,connected:1,hasPlayer:2,searchResponse:3,zetaSearch:4})}}function Ea(e,t,r){const n=e.slice();return n[7]=t[r],n[9]=r,n}function _a(e){let t,r,n;function s(e,t){return 0==e[1]?Aa:ka}let o=s(e),a=o(e),c=e[3].slice(e[1],e[2]?e[1]+e[2]:e[2]),i=[];for(let h=0;h<c.length;h+=1)i[h]=Sa(Ea(e,c,h));const l=e=>D(i[e],1,1,(()=>{i[e]=null}));return{c(){a.c(),t=v();for(let e=0;e<i.length;e+=1)i[e].c();r=N()},l(e){a.l(e),t=w(e);for(let t=0;t<i.length;t+=1)i[t].l(e);r=N()},m(e,s){a.m(e,s),E(e,t,s);for(let t=0;t<i.length;t+=1)i[t].m(e,s);E(e,r,s),n=!0},p(e,n){if(o!==(o=s(e))&&(a.d(1),a=o(e),a&&(a.c(),a.m(t.parentNode,t))),31&n){let t;for(c=e[3].slice(e[1],e[2]?e[1]+e[2]:e[2]),t=0;t<c.length;t+=1){const s=Ea(e,c,t);i[t]?(i[t].p(s,n),U(i[t],1)):(i[t]=Sa(s),i[t].c(),U(i[t],1),i[t].m(r.parentNode,r))}for(L(),t=c.length;t<i.length;t+=1)l(t);z()}},i(e){if(!n){for(let e=0;e<c.length;e+=1)U(i[e]);n=!0}},o(e){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)D(i[t]);n=!1},d(e){a.d(e),e&&b(t),I(i,e),e&&b(r)}}}function ka(e){let t,r,n,s;return{c(){t=m("h2"),r=m("span"),n=A("continue"),s=A(" Newsfeed"),this.h()},l(e){t=g(e,"H2",{class:!0});var o=y(t);r=g(o,"SPAN",{class:!0});var a=y(r);n=S(a,"continue"),a.forEach(b),s=S(o," Newsfeed"),o.forEach(b),this.h()},h(){$(r,"class","svelte-ece0r8"),$(t,"class","continue svelte-ece0r8")},m(e,o){E(e,t,o),_(t,r),_(r,n),_(t,s)},d(e){e&&b(t)}}}function Aa(e){let t,r;return{c(){t=m("h1"),r=A("Newsfeed")},l(e){t=g(e,"H1",{});var n=y(t);r=S(n,"Newsfeed"),n.forEach(b)},m(e,n){E(e,t,n),_(t,r)},d(e){e&&b(t)}}}function Sa(e){let t,r,n,s,o,a;return r=new Vo({props:{result:e[7],meta:e[4],newsfeed:"true",backend:e[0],i:e[9]}}),{c(){t=m("div"),M(r.$$.fragment),n=v(),this.h()},l(e){t=g(e,"DIV",{class:!0});var s=y(t);R(r.$$.fragment,s),n=w(s),s.forEach(b),this.h()},h(){$(t,"class","result")},m(e,s){E(e,t,s),C(r,t,null),_(t,n),a=!0},p(e,t){const n={};14&t&&(n.result=e[7]),1&t&&(n.backend=e[0]),r.$set(n)},i(n){a||(U(r.$$.fragment,n),V((()=>{o&&o.end(1),s||(s=q(t,F,{y:50,duration:750,delay:100*e[9]})),s.start()})),a=!0)},o(e){D(r.$$.fragment,e),s&&s.invalidate(),o=B(t,F,{y:50}),a=!1},d(e){e&&b(t),j(r),e&&o&&o.end()}}}function xa(e){let t,r,n=e[3]&&e[3].length&&_a(e);return{c(){n&&n.c(),t=N()},l(e){n&&n.l(e),t=N()},m(e,s){n&&n.m(e,s),E(e,t,s),r=!0},p(e,[r]){e[3]&&e[3].length?n?(n.p(e,r),8&r&&U(n,1)):(n=_a(e),n.c(),U(n,1),n.m(t.parentNode,t)):n&&(L(),D(n,1,1,(()=>{n=null})),z())},i(e){r||(U(n),r=!0)},o(e){D(n),r=!1},d(e){n&&n.d(e),e&&b(t)}}}function Pa(e,t,r){let n,s,o=k,a=()=>(o(),o=O(c,(e=>r(5,s=e))),c);e.$$.on_destroy.push((()=>o()));let{backend:c}=t;a();let{startFrom:i=0}=t,{count:l}=t;return e.$$set=e=>{"backend"in e&&a(r(0,c=e.backend)),"startFrom"in e&&r(1,i=e.startFrom),"count"in e&&r(2,l=e.count)},e.$$.update=()=>{32&e.$$.dirty&&r(3,n=s.recentWeblinks),32&e.$$.dirty&&s.entireLinkIndexCloud},[c,i,l,n,{providerTag:"this"},s]}class Ta extends f{constructor(e){super(),d(this,e,Pa,xa,p,{backend:0,startFrom:1,count:2})}}function Na(e){return u(e)?u(e):void 0}function Ia(){le.updateSearchParam("q",Na(Sr));const e=Na(xr);le.updateSearchParam("page",1==e?void 0:e),le.updateSearchParam("place",Na(Pr)),le.updateSearchParam("mode",Na(Tr));const t=Na(Rr);le.updateSearchParam("tags",t&&Object.keys(t).length?Object.keys(t).join(","):void 0)}function Oa(e){let t,r;return{c(){t=m("h1"),r=A("My Zeta Node")},l(e){t=g(e,"H1",{});var n=y(t);r=S(n,"My Zeta Node"),n.forEach(b)},m(e,n){E(e,t,n),_(t,r)},d(e){e&&b(t)}}}function Ma(e){let t,r;return{c(){t=m("img"),this.h()},l(e){t=g(e,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){t.src!==(r="/search/img/zetaseek_logo.svg?v=2")&&$(t,"src","/search/img/zetaseek_logo.svg?v=2"),$(t,"alt","zeta logo"),$(t,"class","svelte-snm3rd")},m(e,r){E(e,t,r)},d(e){e&&b(t)}}}function Ra(e){let t,r;return{c(){t=m("h1"),r=A("My Computer")},l(e){t=g(e,"H1",{});var n=y(t);r=S(n,"My Computer"),n.forEach(b)},m(e,n){E(e,t,n),_(t,r)},d(e){e&&b(t)}}}function Ca(e){let t,r,n,s,o;return{c(){t=m("p"),r=A("⚠️ Please start the "),n=m("span"),s=A("dmt-proc"),o=A(" ..."),this.h()},l(e){t=g(e,"P",{class:!0});var a=y(t);r=S(a,"⚠️ Please start the "),n=g(a,"SPAN",{class:!0});var c=y(n);s=S(c,"dmt-proc"),c.forEach(b),o=S(a," ..."),a.forEach(b),this.h()},h(){$(n,"class","svelte-snm3rd"),$(t,"class","connection_status_help svelte-snm3rd")},m(e,a){E(e,t,a),_(t,r),_(t,n),_(n,s),_(t,o)},d(e){e&&b(t)}}}function Ua(e){let t,r;return t=new Fs({props:{backend:e[1],onSearchModeChange:e[21]}}),{c(){M(t.$$.fragment)},l(e){R(t.$$.fragment,e)},m(e,n){C(t,e,n),r=!0},p(e,r){const n={};2&r[0]&&(n.backend=e[1]),t.$set(n)},i(e){r||(U(t.$$.fragment,e),r=!0)},o(e){D(t.$$.fragment,e),r=!1},d(e){j(t,e)}}}function Da(e){let t,r,n,s,o=!e[16]&&ja();return{c(){t=m("br"),r=v(),n=m("div"),s=A("⚠️ Requested file was renamed or moved "),o&&o.c(),this.h()},l(e){t=g(e,"BR",{}),r=w(e),n=g(e,"DIV",{class:!0});var a=y(n);s=S(a,"⚠️ Requested file was renamed or moved "),o&&o.l(a),a.forEach(b),this.h()},h(){$(n,"class","error svelte-snm3rd")},m(e,a){E(e,t,a),E(e,r,a),E(e,n,a),_(n,s),o&&o.m(n,null)},p(e,t){e[16]?o&&(o.d(1),o=null):o||(o=ja(),o.c(),o.m(n,null))},d(e){e&&b(t),e&&b(r),e&&b(n),o&&o.d()}}}function ja(e){let t;return{c(){t=A("but perhaps one of the following results matches:")},l(e){t=S(e,"but perhaps one of the following results matches:")},m(e,r){E(e,t,r)},d(e){e&&b(t)}}}function Va(e){let t,r,n,s,o,a,c,i,l,h,u,f,d=e[2]&&qa(e);r=new Ta({props:{backend:e[1],count:Fa}});let p=e[9]&&Ba();a=new Ds({props:{tagcloud:e[9],onTagClick:e[22],connected:e[0],maxWidth:"800px"}}),i=new Ta({props:{backend:e[1],startFrom:Fa}});let _=e[4].entireLinkIndexCount&&La(e),k=e[14]&&e[5]&&!e[12]&&za(e);return{c(){d&&d.c(),t=v(),M(r.$$.fragment),n=v(),p&&p.c(),s=v(),o=m("div"),M(a.$$.fragment),c=v(),M(i.$$.fragment),l=v(),_&&_.c(),h=v(),k&&k.c(),u=N(),this.h()},l(e){d&&d.l(e),t=w(e),R(r.$$.fragment,e),n=w(e),p&&p.l(e),s=w(e),o=g(e,"DIV",{class:!0});var f=y(o);R(a.$$.fragment,f),f.forEach(b),c=w(e),R(i.$$.fragment,e),l=w(e),_&&_.l(e),h=w(e),k&&k.l(e),u=N(),this.h()},h(){$(o,"class","tagcloud svelte-snm3rd")},m(e,m){d&&d.m(e,m),E(e,t,m),C(r,e,m),E(e,n,m),p&&p.m(e,m),E(e,s,m),E(e,o,m),C(a,o,null),E(e,c,m),C(i,e,m),E(e,l,m),_&&_.m(e,m),E(e,h,m),k&&k.m(e,m),E(e,u,m),f=!0},p(e,n){e[2]?d?(d.p(e,n),4&n[0]&&U(d,1)):(d=qa(e),d.c(),U(d,1),d.m(t.parentNode,t)):d&&(L(),D(d,1,1,(()=>{d=null})),z());const o={};2&n[0]&&(o.backend=e[1]),r.$set(o),e[9]?p||(p=Ba(),p.c(),p.m(s.parentNode,s)):p&&(p.d(1),p=null);const c={};512&n[0]&&(c.tagcloud=e[9]),1&n[0]&&(c.connected=e[0]),a.$set(c);const l={};2&n[0]&&(l.backend=e[1]),i.$set(l),e[4].entireLinkIndexCount?_?(_.p(e,n),16&n[0]&&U(_,1)):(_=La(e),_.c(),U(_,1),_.m(h.parentNode,h)):_&&(L(),D(_,1,1,(()=>{_=null})),z()),e[14]&&e[5]&&!e[12]?k?(k.p(e,n),20512&n[0]&&U(k,1)):(k=za(e),k.c(),U(k,1),k.m(u.parentNode,u)):k&&(L(),D(k,1,1,(()=>{k=null})),z())},i(e){f||(U(d),U(r.$$.fragment,e),U(a.$$.fragment,e),U(i.$$.fragment,e),U(_),U(k),f=!0)},o(e){D(d),D(r.$$.fragment,e),D(a.$$.fragment,e),D(i.$$.fragment,e),D(_),D(k),f=!1},d(e){d&&d.d(e),e&&b(t),j(r,e),e&&b(n),p&&p.d(e),e&&b(s),e&&b(o),j(a),e&&b(c),j(i,e),e&&b(l),_&&_.d(e),e&&b(h),k&&k.d(e),e&&b(u)}}}function qa(e){let t,r;return t=new bs({props:{backend:e[2]}}),{c(){M(t.$$.fragment)},l(e){R(t.$$.fragment,e)},m(e,n){C(t,e,n),r=!0},p(e,r){const n={};4&r[0]&&(n.backend=e[2]),t.$set(n)},i(e){r||(U(t.$$.fragment,e),r=!0)},o(e){D(t.$$.fragment,e),r=!1},d(e){j(t,e)}}}function Ba(e){let t,r,n,s,o;return{c(){t=m("h2"),r=A("— "),n=m("span"),s=A("Explore"),o=A(" —"),this.h()},l(e){t=g(e,"H2",{class:!0});var a=y(t);r=S(a,"— "),n=g(a,"SPAN",{class:!0});var c=y(n);s=S(c,"Explore"),c.forEach(b),o=S(a," —"),a.forEach(b),this.h()},h(){$(n,"class","svelte-snm3rd"),$(t,"class","explore svelte-snm3rd")},m(e,a){E(e,t,a),_(t,r),_(t,n),_(n,s),_(t,o)},d(e){e&&b(t)}}}function La(e){let t,r,n,s,o,a,c,i=e[4].entireLinkIndexCount+"";return{c(){t=m("div"),r=A("Total links in local webindex: "),n=m("span"),s=A(i),this.h()},l(e){t=g(e,"DIV",{class:!0});var o=y(t);r=S(o,"Total links in local webindex: "),n=g(o,"SPAN",{class:!0});var a=y(n);s=S(a,i),a.forEach(b),o.forEach(b),this.h()},h(){$(n,"class","svelte-snm3rd"),$(t,"class","link_count svelte-snm3rd")},m(e,o){E(e,t,o),_(t,r),_(t,n),_(n,s),c=!0},p(e,t){(!c||16&t[0])&&i!==(i=e[4].entireLinkIndexCount+"")&&x(s,i)},i(e){c||(V((()=>{a&&a.end(1),o||(o=q(t,F,{duration:300,delay:100})),o.start()})),c=!0)},o(e){o&&o.invalidate(),a=B(t,F,{}),c=!1},d(e){e&&b(t),e&&a&&a.end()}}}function za(e){let t,r,n,s,o,a,c,i,l,h,u,f,d,p,A,S,x,P,T,N,I,O;return{c(){t=m("div"),r=m("div"),n=m("a"),s=m("img"),a=v(),c=m("a"),i=m("img"),h=v(),u=m("a"),f=m("img"),p=v(),A=m("a"),S=m("img"),this.h()},l(e){t=g(e,"DIV",{class:!0});var o=y(t);r=g(o,"DIV",{class:!0});var l=y(r);n=g(l,"A",{href:!0,"tinro-ignore":!0});var d=y(n);s=g(d,"IMG",{class:!0,src:!0}),d.forEach(b),a=w(l),c=g(l,"A",{href:!0,"tinro-ignore":!0});var m=y(c);i=g(m,"IMG",{class:!0,src:!0}),m.forEach(b),h=w(l),u=g(l,"A",{href:!0,"tinro-ignore":!0});var v=y(u);f=g(v,"IMG",{src:!0,class:!0}),v.forEach(b),p=w(l),A=g(l,"A",{href:!0,"tinro-ignore":!0});var $=y(A);S=g($,"IMG",{class:!0,src:!0}),$.forEach(b),l.forEach(b),o.forEach(b),this.h()},h(){$(s,"class","icp svelte-snm3rd"),s.src!==(o="/search/img/logos/dfinity_logo.png")&&$(s,"src","/search/img/logos/dfinity_logo.png"),$(n,"href","Dfinity Internet Computer"),$(n,"tinro-ignore",""),$(i,"class","eth svelte-snm3rd"),i.src!==(l="/search/img/logos/ethereum_logo.png")&&$(i,"src","/search/img/logos/ethereum_logo.png"),$(c,"href","/?q=ethereum"),$(c,"tinro-ignore",""),f.src!==(d="/search/img/logos/solana_logo.png")&&$(f,"src","/search/img/logos/solana_logo.png"),$(f,"class","svelte-snm3rd"),$(u,"href","/?q=Solana"),$(u,"tinro-ignore",""),$(S,"class","dmt svelte-snm3rd"),S.src!==(x="/search/img/dmt_symbol.png")&&$(S,"src","/search/img/dmt_symbol.png"),$(A,"href","https://dmt-system.com"),$(A,"tinro-ignore",""),$(r,"class","web3_logos svelte-snm3rd"),$(t,"class","banner svelte-snm3rd")},m(o,l){E(o,t,l),_(t,r),_(r,n),_(n,s),_(r,a),_(r,c),_(c,i),_(r,h),_(r,u),_(u,f),_(r,p),_(r,A),_(A,S),N=!0,I||(O=[H(n,"click",W(e[29])),H(c,"click",W(e[30])),H(u,"click",W(e[31]))],I=!0)},p:k,i(e){N||(V((()=>{T&&T.end(1),P||(P=q(r,F,{duration:300,delay:100})),P.start()})),N=!0)},o(e){P&&P.invalidate(),T=B(r,F,{}),N=!1},d(e){e&&b(t),e&&T&&T.end(),I=!1,G(O)}}}function Ka(e){let t,r,n,s,o,a,c,i,l,h,u,f,d,p,k,A,S,x,P,N,I,O,V,q,B,K;function F(e,t){return sr?Ra:e[15]?Ma:Oa}let Y=F(e),J=Y(e);s=new Ss({props:{connected:e[0]}}),a=new Ns({});let Q=!e[5]&&sr&&Ca(),Z=e[5]&&Ua(e),X="file_not_found"==e[7]&&Da(e);O=new $a({props:{backend:e[1],backend2:e[2],zetaSearch:e[18],connected:e[0],searchResponse:Nr,hasPlayer:e[3]&&null!=e[3].volume}});let ee=!e[13]&&!e[11]&&Va(e);return{c(){t=m("div"),r=m("a"),J.c(),n=v(),M(s.$$.fragment),o=v(),M(a.$$.fragment),c=v(),i=m("div"),l=m("div"),h=m("input"),f=v(),d=m("img"),k=v(),A=m("img"),x=v(),Q&&Q.c(),P=v(),Z&&Z.c(),N=v(),X&&X.c(),I=v(),M(O.$$.fragment),V=v(),ee&&ee.c(),this.h()},l(e){t=g(e,"DIV",{class:!0});var u=y(t);r=g(u,"A",{href:!0,"tinro-ignore":!0,class:!0});var p=y(r);J.l(p),p.forEach(b),u.forEach(b),n=w(e),R(s.$$.fragment,e),o=w(e),R(a.$$.fragment,e),c=w(e),i=g(e,"DIV",{class:!0});var m=y(i);l=g(m,"DIV",{class:!0});var v=y(l);h=g(v,"INPUT",{id:!0,placeholder:!0,disabled:!0,class:!0}),f=w(v),d=g(v,"IMG",{class:!0,src:!0}),k=w(v),A=g(v,"IMG",{class:!0,src:!0}),v.forEach(b),x=w(m),Q&&Q.l(m),P=w(m),Z&&Z.l(m),N=w(m),X&&X.l(m),I=w(m),R(O.$$.fragment,m),V=w(m),ee&&ee.l(m),m.forEach(b),this.h()},h(){$(r,"href","#"),$(r,"tinro-ignore",""),$(r,"class","svelte-snm3rd"),$(t,"class","logo svelte-snm3rd"),$(h,"id","search_input"),$(h,"placeholder",e[10]),h.disabled=u=!e[5],$(h,"class","svelte-snm3rd"),T(h,"public_search",0==e[6]),T(h,"this_node_search",1==e[6]),$(d,"class","loupe svelte-snm3rd"),d.src!==(p="/search/img/redesign/zetaseek_icon-search.svg")&&$(d,"src","/search/img/redesign/zetaseek_icon-search.svg"),$(A,"class","reset svelte-snm3rd"),A.src!==(S="/search/img/close.png")&&$(A,"src","/search/img/close.png"),T(A,"invisible",!e[13]),$(l,"class","search_input_wrapper svelte-snm3rd"),$(i,"class","search svelte-snm3rd")},m(u,p){E(u,t,p),_(t,r),J.m(r,null),E(u,n,p),C(s,u,p),E(u,o,p),C(a,u,p),E(u,c,p),E(u,i,p),_(i,l),_(l,h),he(h,e[13]),e[27](h),_(l,f),_(l,d),_(l,k),_(l,A),_(i,x),Q&&Q.m(i,null),_(i,P),Z&&Z.m(i,null),_(i,N),X&&X.m(i,null),_(i,I),C(O,i,null),_(i,V),ee&&ee.m(i,null),q=!0,B||(K=[H(r,"click",W(e[25])),H(h,"input",e[26]),H(h,"keyup",e[19]),H(h,"paste",e[19]),H(A,"click",e[28])],B=!0)},p(e,t){Y!==(Y=F(e))&&(J.d(1),J=Y(e),J&&(J.c(),J.m(r,null)));const n={};1&t[0]&&(n.connected=e[0]),s.$set(n),(!q||1024&t[0])&&$(h,"placeholder",e[10]),(!q||32&t[0]&&u!==(u=!e[5]))&&(h.disabled=u),8192&t[0]&&h.value!==e[13]&&he(h,e[13]),64&t[0]&&T(h,"public_search",0==e[6]),64&t[0]&&T(h,"this_node_search",1==e[6]),8192&t[0]&&T(A,"invisible",!e[13]),!e[5]&&sr?Q||(Q=Ca(),Q.c(),Q.m(i,P)):Q&&(Q.d(1),Q=null),e[5]?Z?(Z.p(e,t),32&t[0]&&U(Z,1)):(Z=Ua(e),Z.c(),U(Z,1),Z.m(i,N)):Z&&(L(),D(Z,1,1,(()=>{Z=null})),z()),"file_not_found"==e[7]?X?X.p(e,t):(X=Da(e),X.c(),X.m(i,I)):X&&(X.d(1),X=null);const o={};2&t[0]&&(o.backend=e[1]),4&t[0]&&(o.backend2=e[2]),1&t[0]&&(o.connected=e[0]),8&t[0]&&(o.hasPlayer=e[3]&&null!=e[3].volume),O.$set(o),e[13]||e[11]?ee&&(L(),D(ee,1,1,(()=>{ee=null})),z()):ee?(ee.p(e,t),10240&t[0]&&U(ee,1)):(ee=Va(e),ee.c(),U(ee,1),ee.m(i,null))},i(e){q||(U(s.$$.fragment,e),U(a.$$.fragment,e),U(Z),U(O.$$.fragment,e),U(ee),q=!0)},o(e){D(s.$$.fragment,e),D(a.$$.fragment,e),D(Z),D(O.$$.fragment,e),D(ee),q=!1},d(r){r&&b(t),J.d(),r&&b(n),j(s,r),r&&b(o),j(a,r),r&&b(c),r&&b(i),e[27](null),Q&&Q.d(),Z&&Z.d(),X&&X.d(),j(O),ee&&ee.d(),B=!1,G(K)}}}const Fa=3;function Ha(e,t,r){let n,s,o,a,c,i,l,h,u,f,d,p,m=k,v=()=>(m(),m=O(w,(e=>r(4,o=e))),w),g=k,y=()=>(g(),g=O(b,(e=>r(5,a=e))),b);P(e,Tr,(e=>r(6,c=e))),P(e,Pr,(e=>r(11,i=e))),P(e,xr,(e=>r(33,l=e))),P(e,fr,(e=>r(12,h=e))),P(e,Sr,(e=>r(13,u=e))),P(e,ir,(e=>r(14,f=e))),P(e,hr,(e=>r(15,d=e))),P(e,Or,(e=>r(16,p=e))),e.$$.on_destroy.push((()=>m())),e.$$.on_destroy.push((()=>g()));let{connected:b}=t;y();let{backend:w}=t;v();let{backend2:$}=t,{concurrency:E}=t,{displayName:_}=t,{player:A}=t;const S=ro(),{q:x,page:T,tags:N,place:I,error:M,mode:R}=le.parseQuery();let C=M;if(x&&Sr.set(decodeURIComponent(x)),N)for(const k of decodeURIComponent(N).split(","))ua(k);T&&xr.set(parseInt(T)),I&&Pr.set(decodeURIComponent(I)),null!=R&&(Tr.set(R),localStorage.setItem("searchMode",R)),x||I?localStorage.removeItem("searchMode"):localStorage.getItem("searchMode")&&Tr.set(parseInt(localStorage.getItem("searchMode"))),Pr.subscribe((()=>{}));const U=E.requireConditions(2,(()=>{console.log("✓ FIRST STORE CONNECT after MOUNTING the APP ..."),i?Ao(i,w):B({force:!0,searchPage:l,keepSelectedTags:!0})}));let D,j;function V(e){window.scrollTo(0,0),q(e,{mode:1,force:!0})}function q(e,{mode:t,searchPage:r,force:n=!1}={}){Sr.set(e),t&&Tr.set(t),setTimeout((()=>{B({userActivated:!0,searchPage:r,force:n})}),50)}function B({force:e=!1,searchPage:t=1,userActivated:n=!1,keepSelectedTags:s=!1}={}){Pr.set(null),xr.set(t),u?(document.title=f?`${u} — zetaseek`:`${u} — dmt search`,window.screen.width>768&&document.body.classList.add("darken")):(document.body.classList.remove("darken"),document.title="ZetaSeek Search & Discovery"),console.log(`triggerSearch: ${u}`);const o=w.remoteObject("GUISearchObject");n&&C&&(r(7,C=void 0),le.updateSearchParam("error")),null==u&&console.log("Warning: null SEARCH QUERY !!! Should not hapen. There is a bug probably in GUI code"),Ia(),Ar({searchQuery:u,page:t,searchMode:c,keepSelectedTags:s,selectedTags:Rr,remoteObject:o,remoteMethod:"search",searchStatusCallback:({searching:e,noHits:t,noMorePages:r})=>{Ir.set(e),Or.set(t),Mr.set(r)},searchDelay:300,force:e,searchMetadata:ko(),timezone:S}).then((e=>{Ia(),Nr.set({searchResults:e,searchQuery:u})})).catch((e=>{Ia(),Nr.set({searchError:e})}))}function L(e=!1){Sr.set(""),B(),h&&!e||D.focus()}w.on("ready",(()=>{U.oneConditionFulfilled()})),K((()=>{h||setTimeout((()=>{D.focus()}),1e3),U.oneConditionFulfilled()}));return e.$$set=e=>{"connected"in e&&y(r(0,b=e.connected)),"backend"in e&&v(r(1,w=e.backend)),"backend2"in e&&r(2,$=e.backend2),"concurrency"in e&&r(23,E=e.concurrency),"displayName"in e&&r(24,_=e.displayName),"player"in e&&r(3,A=e.player)},e.$$.update=()=>{16&e.$$.dirty[0]&&r(9,n=o.entireLinkIndexCloud),96&e.$$.dirty[0]&&r(10,s=a?0==c?"Search network":"Search only this peer":"Search is currently not available")},[b,w,$,A,o,a,c,C,D,n,s,i,h,u,f,d,p,V,function({searchPage:e=1}={}){B({searchPage:e,userActivated:!0,force:!0,keepSelectedTags:!0})},function(){clearTimeout(j),j=setTimeout((()=>{console.log("searchInputChanged event received, triggering search ..."),B({userActivated:!0})}),""==(null==u?void 0:u.trim())?0:400)},L,function(e){Tr.set(e),localStorage.setItem("searchMode",e),h||D.focus(),B({userActivated:!0})},function(e){window.scrollTo(0,0),q(e)},E,_,()=>{L()},function(){u=this.value,Sr.set(u)},function(e){ce[e?"unshift":"push"]((()=>{D=e,r(8,D)}))},()=>L(!0),()=>V("/?q=Dfinity Internet Computer"),()=>V("Ethereum"),()=>V("Solana")]}class Ya extends f{constructor(e){super(),d(this,e,Ha,Ka,p,{connected:0,backend:1,backend2:2,concurrency:23,displayName:24,player:3},[-1,-1])}}function Wa(e){let t,r,n,s,o,a,c,i,l,h,u;return V(e[11]),r=new cn({props:{backend:e[1],backend2:e[2],connected:e[0]}}),s=new jr({props:{dmtVersion:e[6]}}),a=new Kn({props:{metamaskConnect:e[4],backend:e[1]}}),i=new Ya({props:{connected:e[0],backend:e[1],backend2:e[2],concurrency:e[3],metamaskConnect:e[4],player:e[5],displayName:e[8]}}),{c(){t=m("main"),M(r.$$.fragment),n=v(),M(s.$$.fragment),o=v(),M(a.$$.fragment),c=v(),M(i.$$.fragment),this.h()},l(e){t=g(e,"MAIN",{class:!0});var l=y(t);R(r.$$.fragment,l),n=w(l),R(s.$$.fragment,l),o=w(l),R(a.$$.fragment,l),c=w(l),R(i.$$.fragment,l),l.forEach(b),this.h()},h(){$(t,"class","svelte-14z86uw")},m(f,d){E(f,t,d),C(r,t,null),_(t,n),C(s,t,null),_(t,o),C(a,t,null),_(t,c),C(i,t,null),l=!0,h||(u=H(window,"resize",e[11]),h=!0)},p(e,[t]){const n={};2&t&&(n.backend=e[1]),4&t&&(n.backend2=e[2]),1&t&&(n.connected=e[0]),r.$set(n);const o={};64&t&&(o.dmtVersion=e[6]),s.$set(o);const c={};16&t&&(c.metamaskConnect=e[4]),2&t&&(c.backend=e[1]),a.$set(c);const l={};1&t&&(l.connected=e[0]),2&t&&(l.backend=e[1]),4&t&&(l.backend2=e[2]),8&t&&(l.concurrency=e[3]),16&t&&(l.metamaskConnect=e[4]),32&t&&(l.player=e[5]),i.$set(l)},i(e){l||(U(r.$$.fragment,e),U(s.$$.fragment,e),U(a.$$.fragment,e),U(i.$$.fragment,e),l=!0)},o(e){D(r.$$.fragment,e),D(s.$$.fragment,e),D(a.$$.fragment,e),D(i.$$.fragment,e),l=!1},d(e){e&&b(t),j(r),j(s),j(a),j(i),h=!1,u()}}}function Ga(e,t,r){let n,s,o,a,c,i=k,l=()=>(i(),i=O(u,(e=>r(10,a=e))),u);P(e,er,(e=>r(7,c=e))),e.$$.on_destroy.push((()=>i()));let{connected:h}=t,{backend:u}=t;l();let f,{backend2:d}=t,{concurrency:p}=t,{metamaskConnect:m}=t;return u.subscribe((({device:e})=>{rr.set(e?e.deviceName:null),nr.set(e?e.tagline:null)})),e.$$set=e=>{"connected"in e&&r(0,h=e.connected),"backend"in e&&l(r(1,u=e.backend)),"backend2"in e&&r(2,d=e.backend2),"concurrency"in e&&r(3,p=e.concurrency),"metamaskConnect"in e&&r(4,m=e.metamaskConnect)},e.$$.update=()=>{1024&e.$$.dirty&&r(9,n=a.device),1024&e.$$.dirty&&r(5,s=a.player),1024&e.$$.dirty&&a.peerlist,512&e.$$.dirty&&r(6,o=n?n.dmtVersion:null)},[h,u,d,p,m,s,o,c,f,n,a,function(){er.set(c=window.innerWidth)}]}const{metamaskInit:Ja}=yr,Qa={};ur?Qa.endpoint="/ws":Qa.port=7780;const Za=new class extends nt{constructor(){super({log:[]})}addToLog({origConsoleLog:e,limit:t},...r){1==r.length&&(r=r[0]);let{log:n}=this.get();if("string"==typeof r)n.push(r);else try{n.push(`${JSON.stringify(r)}`)}catch(s){n.push(r)}n=n.slice(-t),this.set({log:n})}},Xa=console.log.bind(console);console.log=(...e)=>{Za.addToLog({origConsoleLog:Xa,limit:100},...e),Xa(...e)};const{state:ec,connected:tc}=Gt(i(c({},Qa),{protocol:"dmtapp",lane:"search",rpcRequestTimeout:5500,verbose:!1}));let rc;if(u(ir)){const{state:e}=Gt(i(c({},Qa),{protocol:"dmt",lane:"system"}));rc=e}const nc=Ja((e=>{console.log(`Connected ethereum address: ${e}`),tr.set(e)}));new class extends f{constructor(e){super(),d(this,e,Ga,Wa,p,{connected:0,backend:1,backend2:2,concurrency:3,metamaskConnect:4})}}({target:document.body,props:{backend:ec,backend2:rc,connected:tc,concurrency:we,metamaskConnect:nc}});
