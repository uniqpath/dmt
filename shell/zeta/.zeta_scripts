#!/bin/bash

# function zeta {
#   CLI_DIR="$DMT_NODE_CORE/controller/cli/"

#   ZETA_CLI="$CLI_DIR/zeta.js"

#   $DMT_NODEJS_EXEC "$ZETA_CLI" peers "$@"
# }

function zeta {
  if [ -z "$1" ] || [ "$1" == '-h' ] || [ "$1" == '--help' ]; then
    printf "${YELLOW}Usage:${NC}\n"
    printf "${GREEN}zeta scan [device]${NC} ${GRAY}scans the web according to device's weblink index${NC}\n"
    return
  fi

  if [ "$1" == "scan" ]; then
    shift
    local device="this"

    if [ -n "$1" ]; then
      device="$1"
    fi

    $DMT_NODEJS_EXEC ~/.dmt/core/node/aspect-spiders/webspider/cli/webscan.js "$device"
  else
    printf "⚠️  ${RED}Unrecognized options: ${GRAY}${@}${NC}\n"
    echo
    zeta -h
  fi
}
