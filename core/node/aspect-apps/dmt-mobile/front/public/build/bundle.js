var app=function(e){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e;var t=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,o=!1,s=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,s=e}finally{try{!n&&a.return&&a.return()}finally{if(o)throw s}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function n(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s=Object,i=["black","red","green","yellow","blue","magenta","cyan","lightGray","","default"],a=["darkGray","lightRed","lightGreen","lightYellow","lightBlue","lightMagenta","lightCyan","white",""],c=["","bright","dim","italic","underline","","","inverse"],l={red:"lightRed",green:"lightGreen",yellow:"lightYellow",blue:"lightBlue",magenta:"lightMagenta",cyan:"lightCyan",black:"darkGray",lightGray:"white"},u={0:"style",2:"unstyle",3:"color",9:"colorLight",4:"bgColor",10:"bgColorLight"},h={color:i,colorLight:a,bgColor:i,bgColorLight:a,style:c,unstyle:c},f=function(e){for(var t in e)e[t]||delete e[t];return 0===s.keys(e).length?void 0:e},p=function(){function e(t,r,n){o(this,e),this.background=t,this.name=r,this.brightness=n}return r(e,[{key:"defaultBrightness",value:function(t){return new e(this.background,this.name,this.brightness||t)}},{key:"css",value:function(e){var t=e?this.inverse:this,r=t.brightness===d.bright&&l[t.name]||t.name,o=t.background?"background:":"color:",s=m.rgb[r],i=this.brightness===d.dim?.5:1;return s?o+"rgba("+[].concat(n(s),[i]).join(",")+");":!t.background&&i<1?"color:rgba(0,0,0,0.5);":""}},{key:"inverse",get:function(){return new e(!this.background,this.name||(this.background?"black":"white"),this.brightness)}},{key:"clean",get:function(){return f({name:"default"===this.name?"":this.name,bright:this.brightness===d.bright,dim:this.brightness===d.dim})}}]),e}(),d=function(){function e(t){o(this,e),void 0!==t&&(this.value=Number(t))}return r(e,[{key:"type",get:function(){return u[Math.floor(this.value/10)]}},{key:"subtype",get:function(){return h[this.type][this.value%10]}},{key:"str",get:function(){return this.value?"["+this.value+"m":""}},{key:"isBrightness",get:function(){return this.value===e.noBrightness||this.value===e.bright||this.value===e.dim}}],[{key:"str",value:function(t){return new e(t).str}}]),e}();s.assign(d,{reset:0,bright:1,dim:2,inverse:7,noBrightness:22,noItalic:23,noUnderline:24,noInverse:27,noColor:39,noBgColor:49});var y=function(e,t,r){var n=d.str(t),o=d.str(r);return String(e).split("\n").map((function(e){return function(e){return e.replace(/(\u001b\[(1|2)m)/g,"[22m$1")}(n+(t=e.replace(/\u001b\[22m(\u001b\[(1|2)m)/g,"$1"),r=o,s=n,t.split(r).join(s))+o);var t,r,s})).join("\n")},v=function(e,t){return e+t.charAt(0).toUpperCase()+t.slice(1)},g=[].concat(n(i.map((function(e,t){return e?[[e,30+t,d.noColor],[v("bg",e),40+t,d.noBgColor]]:[]}))),n(a.map((function(e,t){return e?[[e,90+t,d.noColor],[v("bg",e),100+t,d.noBgColor]]:[]}))),n(["","BrightRed","BrightGreen","BrightYellow","BrightBlue","BrightMagenta","BrightCyan"].map((function(e,t){return e?[["bg"+e,100+t,d.noBgColor]]:[]}))),n(c.map((function(e,t){return e?[[e,t,"bright"===e||"dim"===e?d.noBrightness:20+t]]:[]})))).reduce((function(e,t){return e.concat(t)}));var m=function(){function e(t){o(this,e),this.spans=t?function(e){for(var t=0,r="",n="",o="",s=[],i=[],a=0,c=e.length;a<c;a++){var l=e[a];switch(r+=l,t){case 0:""===l?(t=1,r=l):n+=l;break;case 1:"["===l?(t=2,o="",s=[]):(t=0,n+=r);break;case 2:if(l>="0"&&l<="9")o+=l;else if(";"===l)s.push(new d(o)),o="";else if("m"===l&&o.length){s.push(new d(o));var u=!0,h=!1,f=void 0;try{for(var p,y=s[Symbol.iterator]();!(u=(p=y.next()).done);u=!0){var v=p.value;i.push({text:n,code:v}),n=""}}catch(e){h=!0,f=e}finally{try{!u&&y.return&&y.return()}finally{if(h)throw f}}t=0}else t=0,n+=r}}return 0!==t&&(n+=r),n&&i.push({text:n,code:new d}),i}(t):[]}return r(e,[{key:Symbol.iterator,value:function(){return this.spans[Symbol.iterator]()}},{key:"str",get:function(){return this.spans.reduce((function(e,t){return e+t.text+t.code.str}),"")}},{key:"parsed",get:function(){var t=void 0,r=void 0,n=void 0,o=void 0;function i(){t=new p,r=new p(!0),n=void 0,o=new Set}return i(),s.assign(new e,{spans:this.spans.map((function(e){var a=e.code,c=o.has("inverse"),l=o.has("underline")?"text-decoration: underline;":"",u=o.has("italic")?"font-style: italic;":"",h=n===d.bright?"font-weight: bold;":"",y=t.defaultBrightness(n),v=s.assign({css:h+u+l+y.css(c)+r.css(c)},f({bold:!!h,color:y.clean,bgColor:r.clean}),e),g=!0,m=!1,b=void 0;try{for(var w,_=o[Symbol.iterator]();!(g=(w=_.next()).done);g=!0){v[w.value]=!0}}catch(e){m=!0,b=e}finally{try{!g&&_.return&&_.return()}finally{if(m)throw b}}if(a.isBrightness)n=a.value;else if(void 0!==e.code.value)if(e.code.value===d.reset)i();else switch(e.code.type){case"color":case"colorLight":t=new p(!1,a.subtype);break;case"bgColor":case"bgColorLight":r=new p(!0,a.subtype);break;case"style":o.add(a.subtype);break;case"unstyle":o.delete(a.subtype)}return v})).filter((function(e){return e.text.length>0}))})}},{key:"asChromeConsoleLogArguments",get:function(){var e=this.parsed.spans;return[e.map((function(e){return"%c"+e.text})).join("")].concat(n(e.map((function(e){return e.css}))))}},{key:"browserConsoleArguments",get:function(){return this.asChromeConsoleLogArguments}}],[{key:"parse",value:function(t){return new e(t).parsed}},{key:"strip",value:function(e){return e.replace(/[\u001b\u009b][[()#;?]*(?:[0-9]{1,4}(?:;[0-9]{0,4})*)?[0-9A-PRZcf-nqry=><]/g,"")}},{key:"nice",get:function(){return e.names.forEach((function(t){t in String.prototype||s.defineProperty(String.prototype,t,{get:function(){return e[t](this)}})})),e}},{key:"ansicolor",get:function(){return e}}]),e}();function b(e){return t=>{let r=e;for(const e of t.split(".")){const t=new RegExp(/(\S*)\[['"]?(\S*?)['"]?\]/),n=e.match(t);if(n){const e=n[1],t=n[2];r=A(r[e]).find(e=>w(e)==t)}else r=r[e];if(void 0===r)return}return r}}function w(e){return _(e)[0]}function _(e){return A(e).map(e=>e.id)}function A(e){return void 0===e||null==e?[]:Array.isArray(e)?e:"string"==typeof e?[{id:e}]:[e]}!function e(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r;return g.reduce((function(r,o){var i=t(o,3),a=i[0],c=i[1],l=i[2];return s.defineProperty(r,a,{get:function(){return e((function(e){return n(y(e,c,l))}))}})}),r)}(m,(function(e){return e})),m.names=g.map((function(e){return t(e,1)[0]})),m.rgb={black:[0,0,0],darkGray:[100,100,100],lightGray:[200,200,200],white:[255,255,255],red:[204,0,0],lightRed:[255,51,0],green:[0,204,0],lightGreen:[51,204,51],yellow:[204,102,0],lightYellow:[255,153,51],blue:[0,0,255],lightBlue:[26,140,255],magenta:[204,0,204],lightMagenta:[255,0,255],cyan:[0,153,255],lightCyan:[0,204,255]};var x={makeTryable:function(e){return e||(e={}),e.try=b(e),e},tryOnTheFly:function(e,t){return b(e)(t)},id:w,values:_,listify:A};var k=new class{setWallpaper(e){e?e.startsWith("/")&&(document.body.style.backgroundImage=`url('${e}')`):document.body.style.backgroundImage=""}setBodyClass(e){document.getElementsByTagName("body")[0].className=e}};function O(e){console.log(`${(new Date).toLocaleString()} â†’ ${e}`)}function E(e,t=2){return Array(Math.max(t-String(e).length+1,0)).join(0)+e}O.write=O;var S={log:O,dir:function(e){console.log(`${(new Date).toLocaleString()} â†’ ${JSON.stringify(e,null,2)}`)},pad:E,getDisplayTime:function(e){return`${E(e.getHours())}:${E(e.getMinutes())}`},unique:function(e){return[...new Set(e)]},setWallpaper:function(e){e?k.setWallpaper(e):k.setWallpaper("")},compareValues:function(e,t="asc"){return function(r,n){if(!r.hasOwnProperty(e)||!n.hasOwnProperty(e))return 0;const o="string"==typeof r[e]?r[e].toUpperCase():r[e],s="string"==typeof n[e]?n[e].toUpperCase():n[e];let i=0;return o>s?i=1:o<s&&(i=-1),"desc"===t?-1*i:i}},accessProperty:function(e,t){return x.tryOnTheFly(e,t)},mapTempToHUE:function(e){const t=50-e;return Math.round(270*t/100+(e<-10?65:e>20?35:60))},msIntoTimeSpan:function e(t,r=0,n={}){const o=["day","h","min","s"];if(r==o.length)return n.ms=t,n;0==r&&(n.totalSeconds=t/1e3);const s=[24,60,60,1e3].slice(r).reduce((e,t)=>e*t,1);return n[o[r]]=Math.floor(t/s),e(t%s,r+1,n)},humanTime:function(e){const t=["day","h","min","s"];let r="";for(const n of t)e[n]>0&&("s"!=n||"s"==n&&e.totalSeconds<60)&&(r=`${r} ${e[n]} ${n}`);return r.trim()},songTime:function(e){e=Math.round(e);const t=Math.floor(e/3600),r=e%3600,n=Math.floor(r/60);return e=r%60,t?`${t}h ${E(n)}min ${E(e)}s`:`${n}:${E(e)}`},colorJSON:function(e){return"string"!=typeof e&&(e=JSON.stringify(e,void 0,2)),(e=e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")).replace(/("(\\u[a-zA-Z0-9]{4}|\\[^u]|[^\\"])*"(\s*:)?|\b(true|false|null)\b|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)/g,(function(e){var t="number",r="yellow";return/^"/.test(e)?/:$/.test(e)?(t="key",r="cyan"):(t="string",r="#66F62A"):/true|false/.test(e)?(t="boolean",r="orange"):/null/.test(e)&&(t="null",r="red"),`<span style="color: ${r}" class="${t}">${e}</span>`}))},Utf8ArrayToStr:function(e){let t,r,n,o,s;t="";const i=e.length;for(r=0;r<i;)switch(n=e[r++],n>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:t+=String.fromCharCode(n);break;case 12:case 13:o=e[r++],t+=String.fromCharCode((31&n)<<6|63&o);break;case 14:o=e[r++],s=e[r++],t+=String.fromCharCode((15&n)<<12|(63&o)<<6|(63&s)<<0)}return t},isInputElementActive:function(){const{activeElement:e}=document;if(e&&-1!==["input","select","textarea"].indexOf(e.tagName.toLowerCase()))return!0},listify:function(e){return void 0===e||null==e?[]:Array.isArray(e)?e:[e]},bufferToHex:function(e){return Array.from(new Uint8Array(e)).map(e=>e.toString(16).padStart(2,"0")).join("")},hexToBuffer:function(e){const t=e.match(/.{1,2}(?=(.{2})+(?!.))|.{1,2}$/g);return new Uint8Array(t.map(e=>parseInt(e,16)))}};function T(){}class P{constructor(e,t,r){this.prev=e,this.next=t,this.fn=r||T}run(e){this.fn(e),this.next&&this.next.run(e)}}class C{constructor(e){this.head=new P,this.tail=new P(this.head),this.head.next=this.tail,this.linkConstructor=e,this.reg={}}insert(e){const t=new P(this.tail.prev,this.tail,e);return t.next.prev=t,t.prev.next=t,t}remove(e){e.prev.next=e.next,e.next.prev=e.prev}}let R=0;const M=/[\s,]+/g;class j extends class{constructor(){this.events={}}on(e,t){const r=this;e.split(M).forEach(e=>{const n=r.events[e]||(r.events[e]=new C),o=t._eev||(t._eev=++R);n.reg[o]||(n.reg[o]=n.insert(t))})}off(e,t){const r=this;t&&e.split(M).forEach((function(e){const n=r.events[e];if(!n)return;const o=n.reg[t._eev];n.reg[t._eev]=void 0,n&&o&&n.remove(o)}))}removeListener(...e){this.off(...e)}emit(e,t){const r=this.events[e];r&&r.head.run(t)}}{constructor(){super(),this.state={},this.subscriptions=[]}set(e){Object.assign(this.state,e),Object.assign(this,this.state),this.pushStateToSubscribers()}get(){return this.state}subscribe(e){const t=Math.random();return this.subscriptions.push({subscriptionId:t,callback:e}),e(this.state),()=>{this.subscriptions.forEach((e,r)=>{e.subscriptionId==t&&this.subscriptions.splice(r,1)})}}pushStateToSubscribers(){this.subscriptions.forEach(e=>e.callback(this.state))}}
/*!
     * https://github.com/Starcounter-Jack/JSON-Patch
     * (c) 2017 Joachim Wester
     * MIT license
     */var U,$=(U=function(e,t){return(U=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}U(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),I=Object.prototype.hasOwnProperty;function L(e,t){return I.call(e,t)}function N(e){if(Array.isArray(e)){for(var t=new Array(e.length),r=0;r<t.length;r++)t[r]=""+r;return t}if(Object.keys)return Object.keys(e);t=[];for(var n in e)L(e,n)&&t.push(n);return t}function D(e){switch(typeof e){case"object":return JSON.parse(JSON.stringify(e));case"undefined":return null;default:return e}}function B(e){for(var t,r=0,n=e.length;r<n;){if(!((t=e.charCodeAt(r))>=48&&t<=57))return!1;r++}return!0}function K(e){return-1===e.indexOf("/")&&-1===e.indexOf("~")?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function q(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function H(e,t){var r=[e];for(var n in t){var o="object"==typeof t[n]?JSON.stringify(t[n],null,2):t[n];void 0!==o&&r.push(n+": "+o)}return r.join("\n")}var Y=function(e){function t(t,r,n,o,s){var i=this.constructor,a=e.call(this,H(t,{name:r,index:n,operation:o,tree:s}))||this;return a.name=r,a.index=n,a.operation=o,a.tree=s,Object.setPrototypeOf(a,i.prototype),a.message=H(t,{name:r,index:n,operation:o,tree:s}),a}return $(t,e),t}(Error),z=Y,F=D,J={add:function(e,t,r){return e[t]=this.value,{newDocument:r}},remove:function(e,t,r){var n=e[t];return delete e[t],{newDocument:r,removed:n}},replace:function(e,t,r){var n=e[t];return e[t]=this.value,{newDocument:r,removed:n}},move:function(e,t,r){var n=W(r,this.path);n&&(n=D(n));var o=G(r,{op:"remove",path:this.from}).removed;return G(r,{op:"add",path:this.path,value:o}),{newDocument:r,removed:n}},copy:function(e,t,r){var n=W(r,this.from);return G(r,{op:"add",path:this.path,value:D(n)}),{newDocument:r}},test:function(e,t,r){return{newDocument:r,test:ee(e[t],this.value)}},_get:function(e,t,r){return this.value=e[t],{newDocument:r}}},V={add:function(e,t,r){return B(t)?e.splice(t,0,this.value):e[t]=this.value,{newDocument:r,index:t}},remove:function(e,t,r){return{newDocument:r,removed:e.splice(t,1)[0]}},replace:function(e,t,r){var n=e[t];return e[t]=this.value,{newDocument:r,removed:n}},move:J.move,copy:J.copy,test:J.test,_get:J._get};function W(e,t){if(""==t)return e;var r={op:"_get",path:t};return G(e,r),r.value}function G(e,t,r,n,o,s){if(void 0===r&&(r=!1),void 0===n&&(n=!0),void 0===o&&(o=!0),void 0===s&&(s=0),r&&("function"==typeof r?r(t,0,e,t.path):Q(t,0)),""===t.path){var i={newDocument:e};if("add"===t.op)return i.newDocument=t.value,i;if("replace"===t.op)return i.newDocument=t.value,i.removed=e,i;if("move"===t.op||"copy"===t.op)return i.newDocument=W(e,t.from),"move"===t.op&&(i.removed=e),i;if("test"===t.op){if(i.test=ee(e,t.value),!1===i.test)throw new z("Test operation failed","TEST_OPERATION_FAILED",s,t,e);return i.newDocument=e,i}if("remove"===t.op)return i.removed=e,i.newDocument=null,i;if("_get"===t.op)return t.value=e,i;if(r)throw new z("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",s,t,e);return i}n||(e=D(e));var a=(t.path||"").split("/"),c=e,l=1,u=a.length,h=void 0,f=void 0,p=void 0;for(p="function"==typeof r?r:Q;;){if(f=a[l],o&&"__proto__"==f)throw new TypeError("JSON-Patch: modifying `__proto__` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(r&&void 0===h&&(void 0===c[f]?h=a.slice(0,l).join("/"):l==u-1&&(h=t.path),void 0!==h&&p(t,0,e,h)),l++,Array.isArray(c)){if("-"===f)f=c.length;else{if(r&&!B(f))throw new z("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",s,t,e);B(f)&&(f=~~f)}if(l>=u){if(r&&"add"===t.op&&f>c.length)throw new z("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",s,t,e);if(!1===(i=V[t.op].call(t,c,f,e)).test)throw new z("Test operation failed","TEST_OPERATION_FAILED",s,t,e);return i}}else if(f&&-1!=f.indexOf("~")&&(f=q(f)),l>=u){if(!1===(i=J[t.op].call(t,c,f,e)).test)throw new z("Test operation failed","TEST_OPERATION_FAILED",s,t,e);return i}c=c[f]}}function Z(e,t,r,n,o){if(void 0===n&&(n=!0),void 0===o&&(o=!0),r&&!Array.isArray(t))throw new z("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");n||(e=D(e));for(var s=new Array(t.length),i=0,a=t.length;i<a;i++)s[i]=G(e,t[i],r,!0,o,i),e=s[i].newDocument;return s.newDocument=e,s}function Q(e,t,r,n){if("object"!=typeof e||null===e||Array.isArray(e))throw new z("Operation is not an object","OPERATION_NOT_AN_OBJECT",t,e,r);if(!J[e.op])throw new z("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",t,e,r);if("string"!=typeof e.path)throw new z("Operation `path` property is not a string","OPERATION_PATH_INVALID",t,e,r);if(0!==e.path.indexOf("/")&&e.path.length>0)throw new z('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",t,e,r);if(("move"===e.op||"copy"===e.op)&&"string"!=typeof e.from)throw new z("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",t,e,r);if(("add"===e.op||"replace"===e.op||"test"===e.op)&&void 0===e.value)throw new z("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",t,e,r);if(("add"===e.op||"replace"===e.op||"test"===e.op)&&function e(t){if(void 0===t)return!0;if(t)if(Array.isArray(t)){for(var r=0,n=t.length;r<n;r++)if(e(t[r]))return!0}else if("object"==typeof t){var o=N(t),s=o.length;for(r=0;r<s;r++)if(e(t[o[r]]))return!0}return!1}(e.value))throw new z("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",t,e,r);if(r)if("add"==e.op){var o=e.path.split("/").length,s=n.split("/").length;if(o!==s+1&&o!==s)throw new z("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",t,e,r)}else if("replace"===e.op||"remove"===e.op||"_get"===e.op){if(e.path!==n)throw new z("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",t,e,r)}else if("move"===e.op||"copy"===e.op){var i=X([{op:"_get",path:e.from,value:void 0}],r);if(i&&"OPERATION_PATH_UNRESOLVABLE"===i.name)throw new z("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",t,e,r)}}function X(e,t,r){try{if(!Array.isArray(e))throw new z("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(t)Z(D(t),D(e),r||!0);else{r=r||Q;for(var n=0;n<e.length;n++)r(e[n],n,t,void 0)}}catch(e){if(e instanceof z)return e;throw e}}function ee(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){var r,n,o,s=Array.isArray(e),i=Array.isArray(t);if(s&&i){if((n=e.length)!=t.length)return!1;for(r=n;0!=r--;)if(!ee(e[r],t[r]))return!1;return!0}if(s!=i)return!1;var a=Object.keys(e);if((n=a.length)!==Object.keys(t).length)return!1;for(r=n;0!=r--;)if(!t.hasOwnProperty(a[r]))return!1;for(r=n;0!=r--;)if(!ee(e[o=a[r]],t[o]))return!1;return!0}return e!=e&&t!=t}var te=Object.freeze({__proto__:null,JsonPatchError:z,deepClone:F,getValueByPointer:W,applyOperation:G,applyPatch:Z,applyReducer:function(e,t,r){var n=G(e,t);if(!1===n.test)throw new z("Test operation failed","TEST_OPERATION_FAILED",r,t,e);return n.newDocument},validator:Q,validate:X,_areEquals:ee}),re=new WeakMap,ne=function(e){this.observers=new Map,this.obj=e},oe=function(e,t){this.callback=e,this.observer=t};
/*!
     * https://github.com/Starcounter-Jack/JSON-Patch
     * (c) 2017 Joachim Wester
     * MIT license
     */function se(e,t){void 0===t&&(t=!1);var r=re.get(e.object);ie(r.value,e.object,e.patches,"",t),e.patches.length&&Z(r.value,e.patches);var n=e.patches;return n.length>0&&(e.patches=[],e.callback&&e.callback(n)),n}function ie(e,t,r,n,o){if(t!==e){"function"==typeof t.toJSON&&(t=t.toJSON());for(var s=N(t),i=N(e),a=!1,c=i.length-1;c>=0;c--){var l=e[h=i[c]];if(!L(t,h)||void 0===t[h]&&void 0!==l&&!1===Array.isArray(t))Array.isArray(e)===Array.isArray(t)?(o&&r.push({op:"test",path:n+"/"+K(h),value:D(l)}),r.push({op:"remove",path:n+"/"+K(h)}),a=!0):(o&&r.push({op:"test",path:n,value:e}),r.push({op:"replace",path:n,value:t}));else{var u=t[h];"object"==typeof l&&null!=l&&"object"==typeof u&&null!=u?ie(l,u,r,n+"/"+K(h),o):l!==u&&(o&&r.push({op:"test",path:n+"/"+K(h),value:D(l)}),r.push({op:"replace",path:n+"/"+K(h),value:D(u)}))}}if(a||s.length!=i.length)for(c=0;c<s.length;c++){var h;L(e,h=s[c])||void 0===t[h]||r.push({op:"add",path:n+"/"+K(h),value:D(t[h])})}}}var ae=Object.freeze({__proto__:null,unobserve:function(e,t){t.unobserve()},observe:function(e,t){var r,n=function(e){return re.get(e)}(e);if(n){var o=function(e,t){return e.observers.get(t)}(n,t);r=o&&o.observer}else n=new ne(e),re.set(e,n);if(r)return r;if(r={},n.value=D(e),t){r.callback=t,r.next=null;var s=function(){se(r)},i=function(){clearTimeout(r.next),r.next=setTimeout(s)};"undefined"!=typeof window&&(window.addEventListener("mouseup",i),window.addEventListener("keyup",i),window.addEventListener("mousedown",i),window.addEventListener("keydown",i),window.addEventListener("change",i))}return r.patches=[],r.object=e,r.unobserve=function(){se(r),clearTimeout(r.next),function(e,t){e.observers.delete(t.callback)}(n,r),"undefined"!=typeof window&&(window.removeEventListener("mouseup",i),window.removeEventListener("keyup",i),window.removeEventListener("mousedown",i),window.removeEventListener("keydown",i),window.removeEventListener("change",i))},n.observers.set(t,new oe(t,r)),r},generate:se,compare:function(e,t,r){void 0===r&&(r=!1);var n=[];return ie(e,t,n,"",r),n}}),ce=Object.assign({},te,ae,{JsonPatchError:Y,deepClone:D,escapePathComponent:K,unescapePathComponent:q}),le="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function ue(e,t){return e(t={exports:{}},t.exports),t.exports}function he(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var fe,pe=(fe=Object.freeze({__proto__:null,default:{}}))&&fe.default||fe,de=ue((function(e){!function(e){var t=function(e){var t,r=new Float64Array(16);if(e)for(t=0;t<e.length;t++)r[t]=e[t];return r},r=function(){throw new Error("no PRNG")},n=new Uint8Array(16),o=new Uint8Array(32);o[0]=9;var s=t(),i=t([1]),a=t([56129,1]),c=t([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),l=t([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),u=t([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),h=t([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),f=t([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function p(e,t,r,n){e[t]=r>>24&255,e[t+1]=r>>16&255,e[t+2]=r>>8&255,e[t+3]=255&r,e[t+4]=n>>24&255,e[t+5]=n>>16&255,e[t+6]=n>>8&255,e[t+7]=255&n}function d(e,t,r,n,o){var s,i=0;for(s=0;s<o;s++)i|=e[t+s]^r[n+s];return(1&i-1>>>8)-1}function y(e,t,r,n){return d(e,t,r,n,16)}function v(e,t,r,n){return d(e,t,r,n,32)}function g(e,t,r,n){!function(e,t,r,n){for(var o,s=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,i=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,a=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,c=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,l=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,u=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,h=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,f=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,p=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,d=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,y=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,v=255&r[16]|(255&r[17])<<8|(255&r[18])<<16|(255&r[19])<<24,g=255&r[20]|(255&r[21])<<8|(255&r[22])<<16|(255&r[23])<<24,m=255&r[24]|(255&r[25])<<8|(255&r[26])<<16|(255&r[27])<<24,b=255&r[28]|(255&r[29])<<8|(255&r[30])<<16|(255&r[31])<<24,w=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,_=s,A=i,x=a,k=c,O=l,E=u,S=h,T=f,P=p,C=d,R=y,M=v,j=g,U=m,$=b,I=w,L=0;L<20;L+=2)_^=(o=(j^=(o=(P^=(o=(O^=(o=_+j|0)<<7|o>>>25)+_|0)<<9|o>>>23)+O|0)<<13|o>>>19)+P|0)<<18|o>>>14,E^=(o=(A^=(o=(U^=(o=(C^=(o=E+A|0)<<7|o>>>25)+E|0)<<9|o>>>23)+C|0)<<13|o>>>19)+U|0)<<18|o>>>14,R^=(o=(S^=(o=(x^=(o=($^=(o=R+S|0)<<7|o>>>25)+R|0)<<9|o>>>23)+$|0)<<13|o>>>19)+x|0)<<18|o>>>14,I^=(o=(M^=(o=(T^=(o=(k^=(o=I+M|0)<<7|o>>>25)+I|0)<<9|o>>>23)+k|0)<<13|o>>>19)+T|0)<<18|o>>>14,_^=(o=(k^=(o=(x^=(o=(A^=(o=_+k|0)<<7|o>>>25)+_|0)<<9|o>>>23)+A|0)<<13|o>>>19)+x|0)<<18|o>>>14,E^=(o=(O^=(o=(T^=(o=(S^=(o=E+O|0)<<7|o>>>25)+E|0)<<9|o>>>23)+S|0)<<13|o>>>19)+T|0)<<18|o>>>14,R^=(o=(C^=(o=(P^=(o=(M^=(o=R+C|0)<<7|o>>>25)+R|0)<<9|o>>>23)+M|0)<<13|o>>>19)+P|0)<<18|o>>>14,I^=(o=($^=(o=(U^=(o=(j^=(o=I+$|0)<<7|o>>>25)+I|0)<<9|o>>>23)+j|0)<<13|o>>>19)+U|0)<<18|o>>>14;_=_+s|0,A=A+i|0,x=x+a|0,k=k+c|0,O=O+l|0,E=E+u|0,S=S+h|0,T=T+f|0,P=P+p|0,C=C+d|0,R=R+y|0,M=M+v|0,j=j+g|0,U=U+m|0,$=$+b|0,I=I+w|0,e[0]=_>>>0&255,e[1]=_>>>8&255,e[2]=_>>>16&255,e[3]=_>>>24&255,e[4]=A>>>0&255,e[5]=A>>>8&255,e[6]=A>>>16&255,e[7]=A>>>24&255,e[8]=x>>>0&255,e[9]=x>>>8&255,e[10]=x>>>16&255,e[11]=x>>>24&255,e[12]=k>>>0&255,e[13]=k>>>8&255,e[14]=k>>>16&255,e[15]=k>>>24&255,e[16]=O>>>0&255,e[17]=O>>>8&255,e[18]=O>>>16&255,e[19]=O>>>24&255,e[20]=E>>>0&255,e[21]=E>>>8&255,e[22]=E>>>16&255,e[23]=E>>>24&255,e[24]=S>>>0&255,e[25]=S>>>8&255,e[26]=S>>>16&255,e[27]=S>>>24&255,e[28]=T>>>0&255,e[29]=T>>>8&255,e[30]=T>>>16&255,e[31]=T>>>24&255,e[32]=P>>>0&255,e[33]=P>>>8&255,e[34]=P>>>16&255,e[35]=P>>>24&255,e[36]=C>>>0&255,e[37]=C>>>8&255,e[38]=C>>>16&255,e[39]=C>>>24&255,e[40]=R>>>0&255,e[41]=R>>>8&255,e[42]=R>>>16&255,e[43]=R>>>24&255,e[44]=M>>>0&255,e[45]=M>>>8&255,e[46]=M>>>16&255,e[47]=M>>>24&255,e[48]=j>>>0&255,e[49]=j>>>8&255,e[50]=j>>>16&255,e[51]=j>>>24&255,e[52]=U>>>0&255,e[53]=U>>>8&255,e[54]=U>>>16&255,e[55]=U>>>24&255,e[56]=$>>>0&255,e[57]=$>>>8&255,e[58]=$>>>16&255,e[59]=$>>>24&255,e[60]=I>>>0&255,e[61]=I>>>8&255,e[62]=I>>>16&255,e[63]=I>>>24&255}(e,t,r,n)}function m(e,t,r,n){!function(e,t,r,n){for(var o,s=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,i=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,a=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,c=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,l=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,u=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,h=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,f=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,p=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,d=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,y=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,v=255&r[16]|(255&r[17])<<8|(255&r[18])<<16|(255&r[19])<<24,g=255&r[20]|(255&r[21])<<8|(255&r[22])<<16|(255&r[23])<<24,m=255&r[24]|(255&r[25])<<8|(255&r[26])<<16|(255&r[27])<<24,b=255&r[28]|(255&r[29])<<8|(255&r[30])<<16|(255&r[31])<<24,w=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,_=0;_<20;_+=2)s^=(o=(g^=(o=(p^=(o=(l^=(o=s+g|0)<<7|o>>>25)+s|0)<<9|o>>>23)+l|0)<<13|o>>>19)+p|0)<<18|o>>>14,u^=(o=(i^=(o=(m^=(o=(d^=(o=u+i|0)<<7|o>>>25)+u|0)<<9|o>>>23)+d|0)<<13|o>>>19)+m|0)<<18|o>>>14,y^=(o=(h^=(o=(a^=(o=(b^=(o=y+h|0)<<7|o>>>25)+y|0)<<9|o>>>23)+b|0)<<13|o>>>19)+a|0)<<18|o>>>14,w^=(o=(v^=(o=(f^=(o=(c^=(o=w+v|0)<<7|o>>>25)+w|0)<<9|o>>>23)+c|0)<<13|o>>>19)+f|0)<<18|o>>>14,s^=(o=(c^=(o=(a^=(o=(i^=(o=s+c|0)<<7|o>>>25)+s|0)<<9|o>>>23)+i|0)<<13|o>>>19)+a|0)<<18|o>>>14,u^=(o=(l^=(o=(f^=(o=(h^=(o=u+l|0)<<7|o>>>25)+u|0)<<9|o>>>23)+h|0)<<13|o>>>19)+f|0)<<18|o>>>14,y^=(o=(d^=(o=(p^=(o=(v^=(o=y+d|0)<<7|o>>>25)+y|0)<<9|o>>>23)+v|0)<<13|o>>>19)+p|0)<<18|o>>>14,w^=(o=(b^=(o=(m^=(o=(g^=(o=w+b|0)<<7|o>>>25)+w|0)<<9|o>>>23)+g|0)<<13|o>>>19)+m|0)<<18|o>>>14;e[0]=s>>>0&255,e[1]=s>>>8&255,e[2]=s>>>16&255,e[3]=s>>>24&255,e[4]=u>>>0&255,e[5]=u>>>8&255,e[6]=u>>>16&255,e[7]=u>>>24&255,e[8]=y>>>0&255,e[9]=y>>>8&255,e[10]=y>>>16&255,e[11]=y>>>24&255,e[12]=w>>>0&255,e[13]=w>>>8&255,e[14]=w>>>16&255,e[15]=w>>>24&255,e[16]=h>>>0&255,e[17]=h>>>8&255,e[18]=h>>>16&255,e[19]=h>>>24&255,e[20]=f>>>0&255,e[21]=f>>>8&255,e[22]=f>>>16&255,e[23]=f>>>24&255,e[24]=p>>>0&255,e[25]=p>>>8&255,e[26]=p>>>16&255,e[27]=p>>>24&255,e[28]=d>>>0&255,e[29]=d>>>8&255,e[30]=d>>>16&255,e[31]=d>>>24&255}(e,t,r,n)}var b=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function w(e,t,r,n,o,s,i){var a,c,l=new Uint8Array(16),u=new Uint8Array(64);for(c=0;c<16;c++)l[c]=0;for(c=0;c<8;c++)l[c]=s[c];for(;o>=64;){for(g(u,l,i,b),c=0;c<64;c++)e[t+c]=r[n+c]^u[c];for(a=1,c=8;c<16;c++)a=a+(255&l[c])|0,l[c]=255&a,a>>>=8;o-=64,t+=64,n+=64}if(o>0)for(g(u,l,i,b),c=0;c<o;c++)e[t+c]=r[n+c]^u[c];return 0}function _(e,t,r,n,o){var s,i,a=new Uint8Array(16),c=new Uint8Array(64);for(i=0;i<16;i++)a[i]=0;for(i=0;i<8;i++)a[i]=n[i];for(;r>=64;){for(g(c,a,o,b),i=0;i<64;i++)e[t+i]=c[i];for(s=1,i=8;i<16;i++)s=s+(255&a[i])|0,a[i]=255&s,s>>>=8;r-=64,t+=64}if(r>0)for(g(c,a,o,b),i=0;i<r;i++)e[t+i]=c[i];return 0}function A(e,t,r,n,o){var s=new Uint8Array(32);m(s,n,o,b);for(var i=new Uint8Array(8),a=0;a<8;a++)i[a]=n[a+16];return _(e,t,r,i,s)}function x(e,t,r,n,o,s,i){var a=new Uint8Array(32);m(a,s,i,b);for(var c=new Uint8Array(8),l=0;l<8;l++)c[l]=s[l+16];return w(e,t,r,n,o,c,a)}var k=function(e){var t,r,n,o,s,i,a,c;this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0,t=255&e[0]|(255&e[1])<<8,this.r[0]=8191&t,r=255&e[2]|(255&e[3])<<8,this.r[1]=8191&(t>>>13|r<<3),n=255&e[4]|(255&e[5])<<8,this.r[2]=7939&(r>>>10|n<<6),o=255&e[6]|(255&e[7])<<8,this.r[3]=8191&(n>>>7|o<<9),s=255&e[8]|(255&e[9])<<8,this.r[4]=255&(o>>>4|s<<12),this.r[5]=s>>>1&8190,i=255&e[10]|(255&e[11])<<8,this.r[6]=8191&(s>>>14|i<<2),a=255&e[12]|(255&e[13])<<8,this.r[7]=8065&(i>>>11|a<<5),c=255&e[14]|(255&e[15])<<8,this.r[8]=8191&(a>>>8|c<<8),this.r[9]=c>>>5&127,this.pad[0]=255&e[16]|(255&e[17])<<8,this.pad[1]=255&e[18]|(255&e[19])<<8,this.pad[2]=255&e[20]|(255&e[21])<<8,this.pad[3]=255&e[22]|(255&e[23])<<8,this.pad[4]=255&e[24]|(255&e[25])<<8,this.pad[5]=255&e[26]|(255&e[27])<<8,this.pad[6]=255&e[28]|(255&e[29])<<8,this.pad[7]=255&e[30]|(255&e[31])<<8};function O(e,t,r,n,o,s){var i=new k(s);return i.update(r,n,o),i.finish(e,t),0}function E(e,t,r,n,o,s){var i=new Uint8Array(16);return O(i,0,r,n,o,s),y(e,t,i,0)}function S(e,t,r,n,o){var s;if(r<32)return-1;for(x(e,0,t,0,r,n,o),O(e,16,e,32,r-32,e),s=0;s<16;s++)e[s]=0;return 0}function T(e,t,r,n,o){var s,i=new Uint8Array(32);if(r<32)return-1;if(A(i,0,32,n,o),0!==E(t,16,t,32,r-32,i))return-1;for(x(e,0,t,0,r,n,o),s=0;s<32;s++)e[s]=0;return 0}function P(e,t){var r;for(r=0;r<16;r++)e[r]=0|t[r]}function C(e){var t,r,n=1;for(t=0;t<16;t++)r=e[t]+n+65535,n=Math.floor(r/65536),e[t]=r-65536*n;e[0]+=n-1+37*(n-1)}function R(e,t,r){for(var n,o=~(r-1),s=0;s<16;s++)n=o&(e[s]^t[s]),e[s]^=n,t[s]^=n}function M(e,r){var n,o,s,i=t(),a=t();for(n=0;n<16;n++)a[n]=r[n];for(C(a),C(a),C(a),o=0;o<2;o++){for(i[0]=a[0]-65517,n=1;n<15;n++)i[n]=a[n]-65535-(i[n-1]>>16&1),i[n-1]&=65535;i[15]=a[15]-32767-(i[14]>>16&1),s=i[15]>>16&1,i[14]&=65535,R(a,i,1-s)}for(n=0;n<16;n++)e[2*n]=255&a[n],e[2*n+1]=a[n]>>8}function j(e,t){var r=new Uint8Array(32),n=new Uint8Array(32);return M(r,e),M(n,t),v(r,0,n,0)}function U(e){var t=new Uint8Array(32);return M(t,e),1&t[0]}function $(e,t){var r;for(r=0;r<16;r++)e[r]=t[2*r]+(t[2*r+1]<<8);e[15]&=32767}function I(e,t,r){for(var n=0;n<16;n++)e[n]=t[n]+r[n]}function L(e,t,r){for(var n=0;n<16;n++)e[n]=t[n]-r[n]}function N(e,t,r){var n,o,s=0,i=0,a=0,c=0,l=0,u=0,h=0,f=0,p=0,d=0,y=0,v=0,g=0,m=0,b=0,w=0,_=0,A=0,x=0,k=0,O=0,E=0,S=0,T=0,P=0,C=0,R=0,M=0,j=0,U=0,$=0,I=r[0],L=r[1],N=r[2],D=r[3],B=r[4],K=r[5],q=r[6],H=r[7],Y=r[8],z=r[9],F=r[10],J=r[11],V=r[12],W=r[13],G=r[14],Z=r[15];s+=(n=t[0])*I,i+=n*L,a+=n*N,c+=n*D,l+=n*B,u+=n*K,h+=n*q,f+=n*H,p+=n*Y,d+=n*z,y+=n*F,v+=n*J,g+=n*V,m+=n*W,b+=n*G,w+=n*Z,i+=(n=t[1])*I,a+=n*L,c+=n*N,l+=n*D,u+=n*B,h+=n*K,f+=n*q,p+=n*H,d+=n*Y,y+=n*z,v+=n*F,g+=n*J,m+=n*V,b+=n*W,w+=n*G,_+=n*Z,a+=(n=t[2])*I,c+=n*L,l+=n*N,u+=n*D,h+=n*B,f+=n*K,p+=n*q,d+=n*H,y+=n*Y,v+=n*z,g+=n*F,m+=n*J,b+=n*V,w+=n*W,_+=n*G,A+=n*Z,c+=(n=t[3])*I,l+=n*L,u+=n*N,h+=n*D,f+=n*B,p+=n*K,d+=n*q,y+=n*H,v+=n*Y,g+=n*z,m+=n*F,b+=n*J,w+=n*V,_+=n*W,A+=n*G,x+=n*Z,l+=(n=t[4])*I,u+=n*L,h+=n*N,f+=n*D,p+=n*B,d+=n*K,y+=n*q,v+=n*H,g+=n*Y,m+=n*z,b+=n*F,w+=n*J,_+=n*V,A+=n*W,x+=n*G,k+=n*Z,u+=(n=t[5])*I,h+=n*L,f+=n*N,p+=n*D,d+=n*B,y+=n*K,v+=n*q,g+=n*H,m+=n*Y,b+=n*z,w+=n*F,_+=n*J,A+=n*V,x+=n*W,k+=n*G,O+=n*Z,h+=(n=t[6])*I,f+=n*L,p+=n*N,d+=n*D,y+=n*B,v+=n*K,g+=n*q,m+=n*H,b+=n*Y,w+=n*z,_+=n*F,A+=n*J,x+=n*V,k+=n*W,O+=n*G,E+=n*Z,f+=(n=t[7])*I,p+=n*L,d+=n*N,y+=n*D,v+=n*B,g+=n*K,m+=n*q,b+=n*H,w+=n*Y,_+=n*z,A+=n*F,x+=n*J,k+=n*V,O+=n*W,E+=n*G,S+=n*Z,p+=(n=t[8])*I,d+=n*L,y+=n*N,v+=n*D,g+=n*B,m+=n*K,b+=n*q,w+=n*H,_+=n*Y,A+=n*z,x+=n*F,k+=n*J,O+=n*V,E+=n*W,S+=n*G,T+=n*Z,d+=(n=t[9])*I,y+=n*L,v+=n*N,g+=n*D,m+=n*B,b+=n*K,w+=n*q,_+=n*H,A+=n*Y,x+=n*z,k+=n*F,O+=n*J,E+=n*V,S+=n*W,T+=n*G,P+=n*Z,y+=(n=t[10])*I,v+=n*L,g+=n*N,m+=n*D,b+=n*B,w+=n*K,_+=n*q,A+=n*H,x+=n*Y,k+=n*z,O+=n*F,E+=n*J,S+=n*V,T+=n*W,P+=n*G,C+=n*Z,v+=(n=t[11])*I,g+=n*L,m+=n*N,b+=n*D,w+=n*B,_+=n*K,A+=n*q,x+=n*H,k+=n*Y,O+=n*z,E+=n*F,S+=n*J,T+=n*V,P+=n*W,C+=n*G,R+=n*Z,g+=(n=t[12])*I,m+=n*L,b+=n*N,w+=n*D,_+=n*B,A+=n*K,x+=n*q,k+=n*H,O+=n*Y,E+=n*z,S+=n*F,T+=n*J,P+=n*V,C+=n*W,R+=n*G,M+=n*Z,m+=(n=t[13])*I,b+=n*L,w+=n*N,_+=n*D,A+=n*B,x+=n*K,k+=n*q,O+=n*H,E+=n*Y,S+=n*z,T+=n*F,P+=n*J,C+=n*V,R+=n*W,M+=n*G,j+=n*Z,b+=(n=t[14])*I,w+=n*L,_+=n*N,A+=n*D,x+=n*B,k+=n*K,O+=n*q,E+=n*H,S+=n*Y,T+=n*z,P+=n*F,C+=n*J,R+=n*V,M+=n*W,j+=n*G,U+=n*Z,w+=(n=t[15])*I,i+=38*(A+=n*N),a+=38*(x+=n*D),c+=38*(k+=n*B),l+=38*(O+=n*K),u+=38*(E+=n*q),h+=38*(S+=n*H),f+=38*(T+=n*Y),p+=38*(P+=n*z),d+=38*(C+=n*F),y+=38*(R+=n*J),v+=38*(M+=n*V),g+=38*(j+=n*W),m+=38*(U+=n*G),b+=38*($+=n*Z),s=(n=(s+=38*(_+=n*L))+(o=1)+65535)-65536*(o=Math.floor(n/65536)),i=(n=i+o+65535)-65536*(o=Math.floor(n/65536)),a=(n=a+o+65535)-65536*(o=Math.floor(n/65536)),c=(n=c+o+65535)-65536*(o=Math.floor(n/65536)),l=(n=l+o+65535)-65536*(o=Math.floor(n/65536)),u=(n=u+o+65535)-65536*(o=Math.floor(n/65536)),h=(n=h+o+65535)-65536*(o=Math.floor(n/65536)),f=(n=f+o+65535)-65536*(o=Math.floor(n/65536)),p=(n=p+o+65535)-65536*(o=Math.floor(n/65536)),d=(n=d+o+65535)-65536*(o=Math.floor(n/65536)),y=(n=y+o+65535)-65536*(o=Math.floor(n/65536)),v=(n=v+o+65535)-65536*(o=Math.floor(n/65536)),g=(n=g+o+65535)-65536*(o=Math.floor(n/65536)),m=(n=m+o+65535)-65536*(o=Math.floor(n/65536)),b=(n=b+o+65535)-65536*(o=Math.floor(n/65536)),w=(n=w+o+65535)-65536*(o=Math.floor(n/65536)),s=(n=(s+=o-1+37*(o-1))+(o=1)+65535)-65536*(o=Math.floor(n/65536)),i=(n=i+o+65535)-65536*(o=Math.floor(n/65536)),a=(n=a+o+65535)-65536*(o=Math.floor(n/65536)),c=(n=c+o+65535)-65536*(o=Math.floor(n/65536)),l=(n=l+o+65535)-65536*(o=Math.floor(n/65536)),u=(n=u+o+65535)-65536*(o=Math.floor(n/65536)),h=(n=h+o+65535)-65536*(o=Math.floor(n/65536)),f=(n=f+o+65535)-65536*(o=Math.floor(n/65536)),p=(n=p+o+65535)-65536*(o=Math.floor(n/65536)),d=(n=d+o+65535)-65536*(o=Math.floor(n/65536)),y=(n=y+o+65535)-65536*(o=Math.floor(n/65536)),v=(n=v+o+65535)-65536*(o=Math.floor(n/65536)),g=(n=g+o+65535)-65536*(o=Math.floor(n/65536)),m=(n=m+o+65535)-65536*(o=Math.floor(n/65536)),b=(n=b+o+65535)-65536*(o=Math.floor(n/65536)),w=(n=w+o+65535)-65536*(o=Math.floor(n/65536)),s+=o-1+37*(o-1),e[0]=s,e[1]=i,e[2]=a,e[3]=c,e[4]=l,e[5]=u,e[6]=h,e[7]=f,e[8]=p,e[9]=d,e[10]=y,e[11]=v,e[12]=g,e[13]=m,e[14]=b,e[15]=w}function D(e,t){N(e,t,t)}function B(e,r){var n,o=t();for(n=0;n<16;n++)o[n]=r[n];for(n=253;n>=0;n--)D(o,o),2!==n&&4!==n&&N(o,o,r);for(n=0;n<16;n++)e[n]=o[n]}function K(e,r,n){var o,s,i=new Uint8Array(32),c=new Float64Array(80),l=t(),u=t(),h=t(),f=t(),p=t(),d=t();for(s=0;s<31;s++)i[s]=r[s];for(i[31]=127&r[31]|64,i[0]&=248,$(c,n),s=0;s<16;s++)u[s]=c[s],f[s]=l[s]=h[s]=0;for(l[0]=f[0]=1,s=254;s>=0;--s)R(l,u,o=i[s>>>3]>>>(7&s)&1),R(h,f,o),I(p,l,h),L(l,l,h),I(h,u,f),L(u,u,f),D(f,p),D(d,l),N(l,h,l),N(h,u,p),I(p,l,h),L(l,l,h),D(u,l),L(h,f,d),N(l,h,a),I(l,l,f),N(h,h,l),N(l,f,d),N(f,u,c),D(u,p),R(l,u,o),R(h,f,o);for(s=0;s<16;s++)c[s+16]=l[s],c[s+32]=h[s],c[s+48]=u[s],c[s+64]=f[s];var y=c.subarray(32),v=c.subarray(16);return B(y,y),N(v,v,y),M(e,v),0}function q(e,t){return K(e,t,o)}function H(e,t){return r(t,32),q(e,t)}function Y(e,t,r){var o=new Uint8Array(32);return K(o,r,t),m(e,n,o,b)}k.prototype.blocks=function(e,t,r){for(var n,o,s,i,a,c,l,u,h,f,p,d,y,v,g,m,b,w,_,A=this.fin?0:2048,x=this.h[0],k=this.h[1],O=this.h[2],E=this.h[3],S=this.h[4],T=this.h[5],P=this.h[6],C=this.h[7],R=this.h[8],M=this.h[9],j=this.r[0],U=this.r[1],$=this.r[2],I=this.r[3],L=this.r[4],N=this.r[5],D=this.r[6],B=this.r[7],K=this.r[8],q=this.r[9];r>=16;)f=h=0,f+=(x+=8191&(n=255&e[t+0]|(255&e[t+1])<<8))*j,f+=(k+=8191&(n>>>13|(o=255&e[t+2]|(255&e[t+3])<<8)<<3))*(5*q),f+=(O+=8191&(o>>>10|(s=255&e[t+4]|(255&e[t+5])<<8)<<6))*(5*K),f+=(E+=8191&(s>>>7|(i=255&e[t+6]|(255&e[t+7])<<8)<<9))*(5*B),h=(f+=(S+=8191&(i>>>4|(a=255&e[t+8]|(255&e[t+9])<<8)<<12))*(5*D))>>>13,f&=8191,f+=(T+=a>>>1&8191)*(5*N),f+=(P+=8191&(a>>>14|(c=255&e[t+10]|(255&e[t+11])<<8)<<2))*(5*L),f+=(C+=8191&(c>>>11|(l=255&e[t+12]|(255&e[t+13])<<8)<<5))*(5*I),f+=(R+=8191&(l>>>8|(u=255&e[t+14]|(255&e[t+15])<<8)<<8))*(5*$),p=h+=(f+=(M+=u>>>5|A)*(5*U))>>>13,p+=x*U,p+=k*j,p+=O*(5*q),p+=E*(5*K),h=(p+=S*(5*B))>>>13,p&=8191,p+=T*(5*D),p+=P*(5*N),p+=C*(5*L),p+=R*(5*I),h+=(p+=M*(5*$))>>>13,p&=8191,d=h,d+=x*$,d+=k*U,d+=O*j,d+=E*(5*q),h=(d+=S*(5*K))>>>13,d&=8191,d+=T*(5*B),d+=P*(5*D),d+=C*(5*N),d+=R*(5*L),y=h+=(d+=M*(5*I))>>>13,y+=x*I,y+=k*$,y+=O*U,y+=E*j,h=(y+=S*(5*q))>>>13,y&=8191,y+=T*(5*K),y+=P*(5*B),y+=C*(5*D),y+=R*(5*N),v=h+=(y+=M*(5*L))>>>13,v+=x*L,v+=k*I,v+=O*$,v+=E*U,h=(v+=S*j)>>>13,v&=8191,v+=T*(5*q),v+=P*(5*K),v+=C*(5*B),v+=R*(5*D),g=h+=(v+=M*(5*N))>>>13,g+=x*N,g+=k*L,g+=O*I,g+=E*$,h=(g+=S*U)>>>13,g&=8191,g+=T*j,g+=P*(5*q),g+=C*(5*K),g+=R*(5*B),m=h+=(g+=M*(5*D))>>>13,m+=x*D,m+=k*N,m+=O*L,m+=E*I,h=(m+=S*$)>>>13,m&=8191,m+=T*U,m+=P*j,m+=C*(5*q),m+=R*(5*K),b=h+=(m+=M*(5*B))>>>13,b+=x*B,b+=k*D,b+=O*N,b+=E*L,h=(b+=S*I)>>>13,b&=8191,b+=T*$,b+=P*U,b+=C*j,b+=R*(5*q),w=h+=(b+=M*(5*K))>>>13,w+=x*K,w+=k*B,w+=O*D,w+=E*N,h=(w+=S*L)>>>13,w&=8191,w+=T*I,w+=P*$,w+=C*U,w+=R*j,_=h+=(w+=M*(5*q))>>>13,_+=x*q,_+=k*K,_+=O*B,_+=E*D,h=(_+=S*N)>>>13,_&=8191,_+=T*L,_+=P*I,_+=C*$,_+=R*U,x=f=8191&(h=(h=((h+=(_+=M*j)>>>13)<<2)+h|0)+(f&=8191)|0),k=p+=h>>>=13,O=d&=8191,E=y&=8191,S=v&=8191,T=g&=8191,P=m&=8191,C=b&=8191,R=w&=8191,M=_&=8191,t+=16,r-=16;this.h[0]=x,this.h[1]=k,this.h[2]=O,this.h[3]=E,this.h[4]=S,this.h[5]=T,this.h[6]=P,this.h[7]=C,this.h[8]=R,this.h[9]=M},k.prototype.finish=function(e,t){var r,n,o,s,i=new Uint16Array(10);if(this.leftover){for(s=this.leftover,this.buffer[s++]=1;s<16;s++)this.buffer[s]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(r=this.h[1]>>>13,this.h[1]&=8191,s=2;s<10;s++)this.h[s]+=r,r=this.h[s]>>>13,this.h[s]&=8191;for(this.h[0]+=5*r,r=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=r,r=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=r,i[0]=this.h[0]+5,r=i[0]>>>13,i[0]&=8191,s=1;s<10;s++)i[s]=this.h[s]+r,r=i[s]>>>13,i[s]&=8191;for(i[9]-=8192,n=(1^r)-1,s=0;s<10;s++)i[s]&=n;for(n=~n,s=0;s<10;s++)this.h[s]=this.h[s]&n|i[s];for(this.h[0]=65535&(this.h[0]|this.h[1]<<13),this.h[1]=65535&(this.h[1]>>>3|this.h[2]<<10),this.h[2]=65535&(this.h[2]>>>6|this.h[3]<<7),this.h[3]=65535&(this.h[3]>>>9|this.h[4]<<4),this.h[4]=65535&(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14),this.h[5]=65535&(this.h[6]>>>2|this.h[7]<<11),this.h[6]=65535&(this.h[7]>>>5|this.h[8]<<8),this.h[7]=65535&(this.h[8]>>>8|this.h[9]<<5),o=this.h[0]+this.pad[0],this.h[0]=65535&o,s=1;s<8;s++)o=(this.h[s]+this.pad[s]|0)+(o>>>16)|0,this.h[s]=65535&o;e[t+0]=this.h[0]>>>0&255,e[t+1]=this.h[0]>>>8&255,e[t+2]=this.h[1]>>>0&255,e[t+3]=this.h[1]>>>8&255,e[t+4]=this.h[2]>>>0&255,e[t+5]=this.h[2]>>>8&255,e[t+6]=this.h[3]>>>0&255,e[t+7]=this.h[3]>>>8&255,e[t+8]=this.h[4]>>>0&255,e[t+9]=this.h[4]>>>8&255,e[t+10]=this.h[5]>>>0&255,e[t+11]=this.h[5]>>>8&255,e[t+12]=this.h[6]>>>0&255,e[t+13]=this.h[6]>>>8&255,e[t+14]=this.h[7]>>>0&255,e[t+15]=this.h[7]>>>8&255},k.prototype.update=function(e,t,r){var n,o;if(this.leftover){for((o=16-this.leftover)>r&&(o=r),n=0;n<o;n++)this.buffer[this.leftover+n]=e[t+n];if(r-=o,t+=o,this.leftover+=o,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(r>=16&&(o=r-r%16,this.blocks(e,t,o),t+=o,r-=o),r){for(n=0;n<r;n++)this.buffer[this.leftover+n]=e[t+n];this.leftover+=r}};var z=S,F=T;var J=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function V(e,t,r,n){for(var o,s,i,a,c,l,u,h,f,p,d,y,v,g,m,b,w,_,A,x,k,O,E,S,T,P,C=new Int32Array(16),R=new Int32Array(16),M=e[0],j=e[1],U=e[2],$=e[3],I=e[4],L=e[5],N=e[6],D=e[7],B=t[0],K=t[1],q=t[2],H=t[3],Y=t[4],z=t[5],F=t[6],V=t[7],W=0;n>=128;){for(A=0;A<16;A++)x=8*A+W,C[A]=r[x+0]<<24|r[x+1]<<16|r[x+2]<<8|r[x+3],R[A]=r[x+4]<<24|r[x+5]<<16|r[x+6]<<8|r[x+7];for(A=0;A<80;A++)if(o=M,s=j,i=U,a=$,c=I,l=L,u=N,D,f=B,p=K,d=q,y=H,v=Y,g=z,m=F,V,E=65535&(O=V),S=O>>>16,T=65535&(k=D),P=k>>>16,E+=65535&(O=(Y>>>14|I<<18)^(Y>>>18|I<<14)^(I>>>9|Y<<23)),S+=O>>>16,T+=65535&(k=(I>>>14|Y<<18)^(I>>>18|Y<<14)^(Y>>>9|I<<23)),P+=k>>>16,E+=65535&(O=Y&z^~Y&F),S+=O>>>16,T+=65535&(k=I&L^~I&N),P+=k>>>16,E+=65535&(O=J[2*A+1]),S+=O>>>16,T+=65535&(k=J[2*A]),P+=k>>>16,k=C[A%16],S+=(O=R[A%16])>>>16,T+=65535&k,P+=k>>>16,T+=(S+=(E+=65535&O)>>>16)>>>16,E=65535&(O=_=65535&E|S<<16),S=O>>>16,T=65535&(k=w=65535&T|(P+=T>>>16)<<16),P=k>>>16,E+=65535&(O=(B>>>28|M<<4)^(M>>>2|B<<30)^(M>>>7|B<<25)),S+=O>>>16,T+=65535&(k=(M>>>28|B<<4)^(B>>>2|M<<30)^(B>>>7|M<<25)),P+=k>>>16,S+=(O=B&K^B&q^K&q)>>>16,T+=65535&(k=M&j^M&U^j&U),P+=k>>>16,h=65535&(T+=(S+=(E+=65535&O)>>>16)>>>16)|(P+=T>>>16)<<16,b=65535&E|S<<16,E=65535&(O=y),S=O>>>16,T=65535&(k=a),P=k>>>16,S+=(O=_)>>>16,T+=65535&(k=w),P+=k>>>16,j=o,U=s,$=i,I=a=65535&(T+=(S+=(E+=65535&O)>>>16)>>>16)|(P+=T>>>16)<<16,L=c,N=l,D=u,M=h,K=f,q=p,H=d,Y=y=65535&E|S<<16,z=v,F=g,V=m,B=b,A%16==15)for(x=0;x<16;x++)k=C[x],E=65535&(O=R[x]),S=O>>>16,T=65535&k,P=k>>>16,k=C[(x+9)%16],E+=65535&(O=R[(x+9)%16]),S+=O>>>16,T+=65535&k,P+=k>>>16,w=C[(x+1)%16],E+=65535&(O=((_=R[(x+1)%16])>>>1|w<<31)^(_>>>8|w<<24)^(_>>>7|w<<25)),S+=O>>>16,T+=65535&(k=(w>>>1|_<<31)^(w>>>8|_<<24)^w>>>7),P+=k>>>16,w=C[(x+14)%16],S+=(O=((_=R[(x+14)%16])>>>19|w<<13)^(w>>>29|_<<3)^(_>>>6|w<<26))>>>16,T+=65535&(k=(w>>>19|_<<13)^(_>>>29|w<<3)^w>>>6),P+=k>>>16,P+=(T+=(S+=(E+=65535&O)>>>16)>>>16)>>>16,C[x]=65535&T|P<<16,R[x]=65535&E|S<<16;E=65535&(O=B),S=O>>>16,T=65535&(k=M),P=k>>>16,k=e[0],S+=(O=t[0])>>>16,T+=65535&k,P+=k>>>16,P+=(T+=(S+=(E+=65535&O)>>>16)>>>16)>>>16,e[0]=M=65535&T|P<<16,t[0]=B=65535&E|S<<16,E=65535&(O=K),S=O>>>16,T=65535&(k=j),P=k>>>16,k=e[1],S+=(O=t[1])>>>16,T+=65535&k,P+=k>>>16,P+=(T+=(S+=(E+=65535&O)>>>16)>>>16)>>>16,e[1]=j=65535&T|P<<16,t[1]=K=65535&E|S<<16,E=65535&(O=q),S=O>>>16,T=65535&(k=U),P=k>>>16,k=e[2],S+=(O=t[2])>>>16,T+=65535&k,P+=k>>>16,P+=(T+=(S+=(E+=65535&O)>>>16)>>>16)>>>16,e[2]=U=65535&T|P<<16,t[2]=q=65535&E|S<<16,E=65535&(O=H),S=O>>>16,T=65535&(k=$),P=k>>>16,k=e[3],S+=(O=t[3])>>>16,T+=65535&k,P+=k>>>16,P+=(T+=(S+=(E+=65535&O)>>>16)>>>16)>>>16,e[3]=$=65535&T|P<<16,t[3]=H=65535&E|S<<16,E=65535&(O=Y),S=O>>>16,T=65535&(k=I),P=k>>>16,k=e[4],S+=(O=t[4])>>>16,T+=65535&k,P+=k>>>16,P+=(T+=(S+=(E+=65535&O)>>>16)>>>16)>>>16,e[4]=I=65535&T|P<<16,t[4]=Y=65535&E|S<<16,E=65535&(O=z),S=O>>>16,T=65535&(k=L),P=k>>>16,k=e[5],S+=(O=t[5])>>>16,T+=65535&k,P+=k>>>16,P+=(T+=(S+=(E+=65535&O)>>>16)>>>16)>>>16,e[5]=L=65535&T|P<<16,t[5]=z=65535&E|S<<16,E=65535&(O=F),S=O>>>16,T=65535&(k=N),P=k>>>16,k=e[6],S+=(O=t[6])>>>16,T+=65535&k,P+=k>>>16,P+=(T+=(S+=(E+=65535&O)>>>16)>>>16)>>>16,e[6]=N=65535&T|P<<16,t[6]=F=65535&E|S<<16,E=65535&(O=V),S=O>>>16,T=65535&(k=D),P=k>>>16,k=e[7],S+=(O=t[7])>>>16,T+=65535&k,P+=k>>>16,P+=(T+=(S+=(E+=65535&O)>>>16)>>>16)>>>16,e[7]=D=65535&T|P<<16,t[7]=V=65535&E|S<<16,W+=128,n-=128}return n}function W(e,t,r){var n,o=new Int32Array(8),s=new Int32Array(8),i=new Uint8Array(256),a=r;for(o[0]=1779033703,o[1]=3144134277,o[2]=1013904242,o[3]=2773480762,o[4]=1359893119,o[5]=2600822924,o[6]=528734635,o[7]=1541459225,s[0]=4089235720,s[1]=2227873595,s[2]=4271175723,s[3]=1595750129,s[4]=2917565137,s[5]=725511199,s[6]=4215389547,s[7]=327033209,V(o,s,t,r),r%=128,n=0;n<r;n++)i[n]=t[a-r+n];for(i[r]=128,i[(r=256-128*(r<112?1:0))-9]=0,p(i,r-8,a/536870912|0,a<<3),V(o,s,i,r),n=0;n<8;n++)p(e,8*n,o[n],s[n]);return 0}function G(e,r){var n=t(),o=t(),s=t(),i=t(),a=t(),c=t(),u=t(),h=t(),f=t();L(n,e[1],e[0]),L(f,r[1],r[0]),N(n,n,f),I(o,e[0],e[1]),I(f,r[0],r[1]),N(o,o,f),N(s,e[3],r[3]),N(s,s,l),N(i,e[2],r[2]),I(i,i,i),L(a,o,n),L(c,i,s),I(u,i,s),I(h,o,n),N(e[0],a,c),N(e[1],h,u),N(e[2],u,c),N(e[3],a,h)}function Z(e,t,r){var n;for(n=0;n<4;n++)R(e[n],t[n],r)}function Q(e,r){var n=t(),o=t(),s=t();B(s,r[2]),N(n,r[0],s),N(o,r[1],s),M(e,o),e[31]^=U(n)<<7}function X(e,t,r){var n,o;for(P(e[0],s),P(e[1],i),P(e[2],i),P(e[3],s),o=255;o>=0;--o)Z(e,t,n=r[o/8|0]>>(7&o)&1),G(t,e),G(e,e),Z(e,t,n)}function ee(e,r){var n=[t(),t(),t(),t()];P(n[0],u),P(n[1],h),P(n[2],i),N(n[3],u,h),X(e,n,r)}function te(e,n,o){var s,i=new Uint8Array(64),a=[t(),t(),t(),t()];for(o||r(n,32),W(i,n,32),i[0]&=248,i[31]&=127,i[31]|=64,ee(a,i),Q(e,a),s=0;s<32;s++)n[s+32]=e[s];return 0}var re=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function ne(e,t){var r,n,o,s;for(n=63;n>=32;--n){for(r=0,o=n-32,s=n-12;o<s;++o)t[o]+=r-16*t[n]*re[o-(n-32)],r=t[o]+128>>8,t[o]-=256*r;t[o]+=r,t[n]=0}for(r=0,o=0;o<32;o++)t[o]+=r-(t[31]>>4)*re[o],r=t[o]>>8,t[o]&=255;for(o=0;o<32;o++)t[o]-=r*re[o];for(n=0;n<32;n++)t[n+1]+=t[n]>>8,e[n]=255&t[n]}function oe(e){var t,r=new Float64Array(64);for(t=0;t<64;t++)r[t]=e[t];for(t=0;t<64;t++)e[t]=0;ne(e,r)}function se(e,r,n,o){var s,i,a=new Uint8Array(64),c=new Uint8Array(64),l=new Uint8Array(64),u=new Float64Array(64),h=[t(),t(),t(),t()];W(a,o,32),a[0]&=248,a[31]&=127,a[31]|=64;var f=n+64;for(s=0;s<n;s++)e[64+s]=r[s];for(s=0;s<32;s++)e[32+s]=a[32+s];for(W(l,e.subarray(32),n+32),oe(l),ee(h,l),Q(e,h),s=32;s<64;s++)e[s]=o[s];for(W(c,e,n+64),oe(c),s=0;s<64;s++)u[s]=0;for(s=0;s<32;s++)u[s]=l[s];for(s=0;s<32;s++)for(i=0;i<32;i++)u[s+i]+=c[s]*a[i];return ne(e.subarray(32),u),f}function ie(e,r){var n=t(),o=t(),a=t(),l=t(),u=t(),h=t(),p=t();return P(e[2],i),$(e[1],r),D(a,e[1]),N(l,a,c),L(a,a,e[2]),I(l,e[2],l),D(u,l),D(h,u),N(p,h,u),N(n,p,a),N(n,n,l),function(e,r){var n,o=t();for(n=0;n<16;n++)o[n]=r[n];for(n=250;n>=0;n--)D(o,o),1!==n&&N(o,o,r);for(n=0;n<16;n++)e[n]=o[n]}(n,n),N(n,n,a),N(n,n,l),N(n,n,l),N(e[0],n,l),D(o,e[0]),N(o,o,l),j(o,a)&&N(e[0],e[0],f),D(o,e[0]),N(o,o,l),j(o,a)?-1:(U(e[0])===r[31]>>7&&L(e[0],s,e[0]),N(e[3],e[0],e[1]),0)}function ae(e,r,n,o){var s,i=new Uint8Array(32),a=new Uint8Array(64),c=[t(),t(),t(),t()],l=[t(),t(),t(),t()];if(-1,n<64)return-1;if(ie(l,o))return-1;for(s=0;s<n;s++)e[s]=r[s];for(s=0;s<32;s++)e[s+32]=o[s];if(W(a,e,n),oe(a),X(c,l,a),ee(l,r.subarray(32)),G(c,l),Q(i,c),n-=64,v(r,0,i,0)){for(s=0;s<n;s++)e[s]=0;return-1}for(s=0;s<n;s++)e[s]=r[s+64];return n}function ce(e,t){if(32!==e.length)throw new Error("bad key size");if(24!==t.length)throw new Error("bad nonce size")}function le(){for(var e=0;e<arguments.length;e++)if(!(arguments[e]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function ue(e){for(var t=0;t<e.length;t++)e[t]=0}e.lowlevel={crypto_core_hsalsa20:m,crypto_stream_xor:x,crypto_stream:A,crypto_stream_salsa20_xor:w,crypto_stream_salsa20:_,crypto_onetimeauth:O,crypto_onetimeauth_verify:E,crypto_verify_16:y,crypto_verify_32:v,crypto_secretbox:S,crypto_secretbox_open:T,crypto_scalarmult:K,crypto_scalarmult_base:q,crypto_box_beforenm:Y,crypto_box_afternm:z,crypto_box:function(e,t,r,n,o,s){var i=new Uint8Array(32);return Y(i,o,s),z(e,t,r,n,i)},crypto_box_open:function(e,t,r,n,o,s){var i=new Uint8Array(32);return Y(i,o,s),F(e,t,r,n,i)},crypto_box_keypair:H,crypto_hash:W,crypto_sign:se,crypto_sign_keypair:te,crypto_sign_open:ae,crypto_secretbox_KEYBYTES:32,crypto_secretbox_NONCEBYTES:24,crypto_secretbox_ZEROBYTES:32,crypto_secretbox_BOXZEROBYTES:16,crypto_scalarmult_BYTES:32,crypto_scalarmult_SCALARBYTES:32,crypto_box_PUBLICKEYBYTES:32,crypto_box_SECRETKEYBYTES:32,crypto_box_BEFORENMBYTES:32,crypto_box_NONCEBYTES:24,crypto_box_ZEROBYTES:32,crypto_box_BOXZEROBYTES:16,crypto_sign_BYTES:64,crypto_sign_PUBLICKEYBYTES:32,crypto_sign_SECRETKEYBYTES:64,crypto_sign_SEEDBYTES:32,crypto_hash_BYTES:64},e.randomBytes=function(e){var t=new Uint8Array(e);return r(t,e),t},e.secretbox=function(e,t,r){le(e,t,r),ce(r,t);for(var n=new Uint8Array(32+e.length),o=new Uint8Array(n.length),s=0;s<e.length;s++)n[s+32]=e[s];return S(o,n,n.length,t,r),o.subarray(16)},e.secretbox.open=function(e,t,r){le(e,t,r),ce(r,t);for(var n=new Uint8Array(16+e.length),o=new Uint8Array(n.length),s=0;s<e.length;s++)n[s+16]=e[s];return n.length<32||0!==T(o,n,n.length,t,r)?null:o.subarray(32)},e.secretbox.keyLength=32,e.secretbox.nonceLength=24,e.secretbox.overheadLength=16,e.scalarMult=function(e,t){if(le(e,t),32!==e.length)throw new Error("bad n size");if(32!==t.length)throw new Error("bad p size");var r=new Uint8Array(32);return K(r,e,t),r},e.scalarMult.base=function(e){if(le(e),32!==e.length)throw new Error("bad n size");var t=new Uint8Array(32);return q(t,e),t},e.scalarMult.scalarLength=32,e.scalarMult.groupElementLength=32,e.box=function(t,r,n,o){var s=e.box.before(n,o);return e.secretbox(t,r,s)},e.box.before=function(e,t){le(e,t),function(e,t){if(32!==e.length)throw new Error("bad public key size");if(32!==t.length)throw new Error("bad secret key size")}(e,t);var r=new Uint8Array(32);return Y(r,e,t),r},e.box.after=e.secretbox,e.box.open=function(t,r,n,o){var s=e.box.before(n,o);return e.secretbox.open(t,r,s)},e.box.open.after=e.secretbox.open,e.box.keyPair=function(){var e=new Uint8Array(32),t=new Uint8Array(32);return H(e,t),{publicKey:e,secretKey:t}},e.box.keyPair.fromSecretKey=function(e){if(le(e),32!==e.length)throw new Error("bad secret key size");var t=new Uint8Array(32);return q(t,e),{publicKey:t,secretKey:new Uint8Array(e)}},e.box.publicKeyLength=32,e.box.secretKeyLength=32,e.box.sharedKeyLength=32,e.box.nonceLength=24,e.box.overheadLength=e.secretbox.overheadLength,e.sign=function(e,t){if(le(e,t),64!==t.length)throw new Error("bad secret key size");var r=new Uint8Array(64+e.length);return se(r,e,e.length,t),r},e.sign.open=function(e,t){if(le(e,t),32!==t.length)throw new Error("bad public key size");var r=new Uint8Array(e.length),n=ae(r,e,e.length,t);if(n<0)return null;for(var o=new Uint8Array(n),s=0;s<o.length;s++)o[s]=r[s];return o},e.sign.detached=function(t,r){for(var n=e.sign(t,r),o=new Uint8Array(64),s=0;s<o.length;s++)o[s]=n[s];return o},e.sign.detached.verify=function(e,t,r){if(le(e,t,r),64!==t.length)throw new Error("bad signature size");if(32!==r.length)throw new Error("bad public key size");var n,o=new Uint8Array(64+e.length),s=new Uint8Array(64+e.length);for(n=0;n<64;n++)o[n]=t[n];for(n=0;n<e.length;n++)o[n+64]=e[n];return ae(s,o,o.length,r)>=0},e.sign.keyPair=function(){var e=new Uint8Array(32),t=new Uint8Array(64);return te(e,t),{publicKey:e,secretKey:t}},e.sign.keyPair.fromSecretKey=function(e){if(le(e),64!==e.length)throw new Error("bad secret key size");for(var t=new Uint8Array(32),r=0;r<t.length;r++)t[r]=e[32+r];return{publicKey:t,secretKey:new Uint8Array(e)}},e.sign.keyPair.fromSeed=function(e){if(le(e),32!==e.length)throw new Error("bad seed size");for(var t=new Uint8Array(32),r=new Uint8Array(64),n=0;n<32;n++)r[n]=e[n];return te(t,r,!0),{publicKey:t,secretKey:r}},e.sign.publicKeyLength=32,e.sign.secretKeyLength=64,e.sign.seedLength=32,e.sign.signatureLength=64,e.hash=function(e){le(e);var t=new Uint8Array(64);return W(t,e,e.length),t},e.hash.hashLength=64,e.verify=function(e,t){return le(e,t),0!==e.length&&0!==t.length&&(e.length===t.length&&0===d(e,0,t,0,e.length))},e.setPRNG=function(e){r=e},function(){var t="undefined"!=typeof self?self.crypto||self.msCrypto:null;if(t&&t.getRandomValues){e.setPRNG((function(e,r){var n,o=new Uint8Array(r);for(n=0;n<r;n+=65536)t.getRandomValues(o.subarray(n,n+Math.min(r-n,65536)));for(n=0;n<r;n++)e[n]=o[n];ue(o)}))}else void 0!==he&&(t=pe)&&t.randomBytes&&e.setPRNG((function(e,r){var n,o=t.randomBytes(r);for(n=0;n<r;n++)e[n]=o[n];ue(o)}))}()}(e.exports?e.exports:self.nacl=self.nacl||{})})),ye=ue((function(e){var t,r;t=le,r=function(){var e={};function t(e){if(!/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e))throw new TypeError("invalid encoding")}return e.decodeUTF8=function(e){if("string"!=typeof e)throw new TypeError("expected string");var t,r=unescape(encodeURIComponent(e)),n=new Uint8Array(r.length);for(t=0;t<r.length;t++)n[t]=r.charCodeAt(t);return n},e.encodeUTF8=function(e){var t,r=[];for(t=0;t<e.length;t++)r.push(String.fromCharCode(e[t]));return decodeURIComponent(escape(r.join("")))},"undefined"==typeof atob?void 0!==Buffer.from?(e.encodeBase64=function(e){return Buffer.from(e).toString("base64")},e.decodeBase64=function(e){return t(e),new Uint8Array(Array.prototype.slice.call(Buffer.from(e,"base64"),0))}):(e.encodeBase64=function(e){return new Buffer(e).toString("base64")},e.decodeBase64=function(e){return t(e),new Uint8Array(Array.prototype.slice.call(new Buffer(e,"base64"),0))}):(e.encodeBase64=function(e){var t,r=[],n=e.length;for(t=0;t<n;t++)r.push(String.fromCharCode(e[t]));return btoa(r.join(""))},e.decodeBase64=function(e){t(e);var r,n=atob(e),o=new Uint8Array(n.length);for(r=0;r<n.length;r++)o[r]=n.charCodeAt(r);return o}),e},e.exports?e.exports=r():(t.nacl||(t.nacl={}),t.nacl.util=r())}));function ve(){}class ge{constructor(e,t,r){this.prev=e,this.next=t,this.fn=r||ve}run(e){this.fn(e),this.next&&this.next.run(e)}}class me{constructor(e){this.head=new ge,this.tail=new ge(this.head),this.head.next=this.tail,this.linkConstructor=e,this.reg={}}insert(e){const t=new ge(this.tail.prev,this.tail,e);return t.next.prev=t,t.prev.next=t,t}remove(e){e.prev.next=e.next,e.next.prev=e.prev}}let be=0;const we=/[\s,]+/g;class _e{constructor(){this.events={}}on(e,t){const r=this;e.split(we).forEach(e=>{const n=r.events[e]||(r.events[e]=new me),o=t._eev||(t._eev=++be);n.reg[o]||(n.reg[o]=n.insert(t))})}off(e,t){const r=this;t&&e.split(we).forEach((function(e){const n=r.events[e];if(!n)return;const o=n.reg[t._eev];n.reg[t._eev]=void 0,n&&o&&n.remove(o)}))}removeListener(...e){this.off(...e)}emit(e,t){const r=this.events[e];r&&r.head.run(t)}}function Ae(e){console.log(`${(new Date).toLocaleString()} â†’ ${e}`)}function xe(e){return Array.from(new Uint8Array(e)).map(e=>e.toString(16).padStart(2,"0")).join("")}class ke extends _e{constructor(e){super(),this.connector=e}send(...e){this.connector.send(...e)}}var Oe=-32700,Ee=-32600,Se=-32601,Te=-32602,Pe=-32603;class Ce{constructor({transports:e}){if(!e)throw new Error("TRANSPORT_REQUIRED");this.transportsToRegister=e,this.methods={}}setMethodPrefix(e){this.methodPrefix=e}expose(e){this.methods=e}async registerTransport(e){await e.onData(this._processRequest.bind(this,e))}async removeTransport(e){await e.shutdown()}async _processRequest(e,t){const r=JSON.parse(t);let n;return n=Array.isArray(r)?await Promise.all(r.map(t=>this._callMethod(t,e))):await this._callMethod(r,e),JSON.stringify(n)}async _callMethod(e,t){if(!e.hasOwnProperty("method"))return;const{method:r,params:n=[],id:o}=e;let s=r;if(s.includes("::")){const[e,t]=s.split("::");if(s=t,this.methodPrefix&&e!=this.methodPrefix)return}let i={};if(!this.methods[s]||"function"!=typeof this.methods[s]||"constructor"===s||s.startsWith("_")||this.methods[s]===Object.prototype[s])i={jsonrpc:"2.0",id:o,error:{code:Se,message:`Method [${s}] not found on remote target object`}};else{this.currentTransport=t;const e=await this.methods[s].apply(this.methods,n);if(!o)return;i={jsonrpc:"2.0",result:void 0===e?null:e,id:o}}return i}async run(){for(const e of this.transportsToRegister)this.registerTransport(e);this.transportsToRegister=[]}}class Re extends Error{constructor(e={}){if(super(),!e.code)throw new Error("Code required");if(!e.message)throw new Error("Message required");this.code=e.code,this.message=e.message}}class Me extends Re{}var je={Base:Re,MethodNotFound:class extends Re{constructor(e){super({code:Se,message:e||"Method not found"})}},InvalidRequest:class extends Re{constructor(){super({code:Ee,message:"Invalid request"})}},InvalidParams:class extends Re{constructor(){super({code:Te,message:"Invalid params"})}},InternalError:class extends Re{constructor(){super({code:Pe,message:"Internal error"})}},ServerError:Me,ParseError:class extends Re{constructor(){super({code:Oe,message:"Parse error"})}},RequestTimout:class extends Me{constructor(e){super({code:-32001,message:"Request exceeded maximum execution time "+e})}}};class Ue{constructor({transport:e,requestTimeout:t=2e4}){if(!e)throw new Error("TRANSPORT_REQUIRED");this.transport=e,this.requestTimeout=t,this.pendingRequest={},this.initialized=!1}setMethodPrefix(e){this.methodPrefix=e}async callMethod(e,t){await this._init();const r=this.methodPrefix?`${this.methodPrefix}::${e}`:e,n=this._makeRequestObject({method:r,params:t});return this._sendRequest({object:n,id:n.id})}async notify(e,t){await this._init();const r=this._makeRequestObject({method:e,params:t,mode:"notify"});return await this.transport.sendData(JSON.stringify(r)),!0}async runBatch(e){const t=this._generateId();let r=!0;const n=[];for(const[o,s,i]of e){const e=this._makeRequestObject({method:o,params:s,mode:i,batchId:t});e.id&&(r=!1),n.push(e)}return r?this.transport.sendData(JSON.stringify(n)):this._sendRequest({object:n,id:t})}async _init(){this.initialized||(await this.transport.onData(this._processResponse.bind(this)),this.initialized=!0)}_sendRequest({object:e,id:t}){const r=JSON.stringify(e);return new Promise((n,o)=>(this.pendingRequest[t]={resolve:n,reject:o,sentObject:e},setTimeout(()=>{this.pendingRequest[t]&&(delete this.pendingRequest[t],o(new je.RequestTimout(r)))},this.requestTimeout),this.transport.sendData(r).catch(e=>{delete this.pendingRequest[t],o(e)})))}_processResponse(e){const t=JSON.parse(e);Array.isArray(t)?this._processBatchResponse(t):this._processSingleCallResponse(t)}_processSingleCallResponse(e){const t=e.hasOwnProperty("result")||!1,r=e.hasOwnProperty("error");if(!t&&!r)return;const n=this.pendingRequest[e.id];if(delete this.pendingRequest[e.id],n)if(t)n.resolve(e.result);else if(r){const t=this._makeErrorObject(e.error);n.reject(t)}}_processBatchResponse(e){let t;const r={},n=[];for(const o of e)o.id?(t||(t=o.id.split("|")[0]),r[o.id]=o):o.error&&n.push(o.error);if(!this.pendingRequest[t])return;const{sentObject:o,resolve:s}=this.pendingRequest[t];delete this.pendingRequest[t];const i=[];let a=0;for(const e of o){if(!e.id){i.push(null);continue}const t=r[e.id];if(t){t.hasOwnProperty("result")||!1?i.push({success:!0,result:t.result}):i.push({success:!1,result:this._makeErrorObject(t.error)})}else i.push({success:!1,error:this._makeErrorObject(n[a])}),a++}s(i)}_makeRequestObject({method:e,params:t,mode:r,batchId:n}){const o={jsonrpc:"2.0",method:e};return t&&t.length&&(o.params=t),"notify"!==r&&(o.id=n?`${n}|${this._generateId()}`:this._generateId()),o}_makeErrorObject(e){return(0,{[Se]:()=>new je.MethodNotFound(e.message)}[e.code])()}_generateId(){let e=10,t="";for(;0<e--;)t+="bjectSymhasOwnProp-0123456789ABCDEFGHIJKLMNQRTUVWXYZ_dfgiklquvxz"[64*Math.random()|0];return t}}function $e(e){return new Proxy(e,{get:(e,t)=>(...r)=>e.call(null,t,r),apply:(e,t,r)=>e.apply(null,r)})}class Ie{constructor(e){this.channel=e}async onData(e){this.channel.on("json_rpc",async t=>{const r=await e(t);r&&this.channel.send(r)})}}var Le=Object.freeze({__proto__:null,MoleServer:Ce,MoleClient:Ue,MoleClientProxified:class extends Ue{constructor(...e){return super(...e),function(e){const t=$e(e.callMethod.bind(e)),r=$e(e.notify.bind(e));return new Proxy(e,{get:(n,o)=>"notify"===o?r:"callMethod"===o?t:"then"!==o?"setMethodPrefix"===o?(...t)=>e.setMethodPrefix(t):(...e)=>n.callMethod.call(n,o,e):void 0})}(this)}},ClientTransport:class{constructor(e){this.channel=e}async onData(e){this.channel.on("json_rpc",e)}async sendData(e){await this.channel.send(e)}},ServerTransport:Ie});class Ne extends Error{constructor(e,t){super(e),this.name=this.constructor.name,this.errorCode=t}errorCode(){return this.errorCode}}const{MoleClient:De,ClientTransport:Be}=Le;class Ke{constructor(e,t){this.moleChannel=new ke(e),this.methodPrefix=t,this.connectorOrServersideChannel=e,this.client=new De({requestTimeout:1e3,transport:new Be(this.moleChannel)})}jsonrpcMsgReceive(e){this.moleChannel.emit("json_rpc",e)}call(e,t){return this.connectorOrServersideChannel.closed()?new Promise((t,r)=>{r(new Ne(`Method call [${e}] on closed channel or connector ignored. Please add a check for closed channel in your code.`,"CLOSED_CHANNEL"))}):this.client.callMethod(`${this.methodPrefix}::${e}`,t)}}class qe{constructor(e){this.connectorOrServersideChannel=e,this.remoteObjects={}}remoteObject(e){return this.remoteObjects[e]||(this.remoteObjects[e]=new Ke(this.connectorOrServersideChannel,e)),this.remoteObjects[e]}jsonrpcMsgReceive(e){for(const t of Object.values(this.remoteObjects))t.jsonrpcMsgReceive(e)}}class He{constructor({serversideChannel:e,serverMethods:t,methodPrefix:r}){const n=[new Ie(e)];this.server=new Ce({transports:n}),this.server.expose(t),this.server.setMethodPrefix(r),this.server.run()}}de.util=ye;const Ye=new Uint8Array(new ArrayBuffer(24),0);class ze extends _e{constructor({protocolLane:e,clientPrivateKey:t,clientPublicKey:r,clientInitData:n,verbose:o=!1,address:s}={}){super(),this.protocolLane=e,this.clientPrivateKey=t,this.clientPublicKey=r,this.clientPublicKeyHex=xe(r),this.clientInitData=n,this.rpcClient=new qe(this),this.address=s,this.verbose=o}isConnected(){return this.connected}closed(){return!this.isConnected()}connectStatus(e){this.connected=e,e?(this.sentCounter=0,this.diffieHellman({clientPrivateKey:this.clientPrivateKey,clientPublicKey:this.clientPublicKey,protocolLane:this.protocolLane}).then(({sharedSecret:e,sharedSecretHex:t})=>{this.emit("connected",{sharedSecret:e,sharedSecretHex:t})}).catch(e=>{console.log(e),console.log("dropping connection and retrying again ..."),this.close()})):this.emit("disconnected")}wireReceive({jsonData:e,encryptedData:t,rawMessage:r,wasEncrypted:n}){if(e)e.jsonrpc?Object.keys(e).includes("result")||Object.keys(e).includes("error")?(this.verbose&&!n&&(console.log("Received plain-text rpc result"),console.log(e)),this.rpcClient.jsonrpcMsgReceive(r)):this.emit("json_rpc",r):this.emit("wire_receive",{jsonData:e,rawMessage:r});else if(t){"extra"==this.verbose&&(console.log("Received bytes:"),console.log(t),console.log(`Decrypting with shared secret ${this.sharedSecret}...`));const e=de.secretbox.open(t,Ye,this.sharedSecret),r=e[0],n=e.subarray(1);if(1==r){const e=de.util.encodeUTF8(n);try{const t=JSON.parse(e);if(t.jsonrpc)this.verbose&&(console.log("Received and decrypted rpc result:"),console.log(t)),this.wireReceive({jsonData:t,rawMessage:e,wasEncrypted:!0});else if(t.tag){const r=t;"binary_start"==r.tag?this.emit(r.tag,{...r,tag:void 0}):"binary_end"==r.tag?this.emit(r.tag,{sessionId:r.sessionId}):this.emit("wire_receive",{jsonData:t,rawMessage:e})}else this.emit("wire_receive",{jsonData:t,rawMessage:e})}catch(e){throw console.log("Couldn't parse json message although the flag was for string ..."),e}}else{const e=n,t=Buffer.from(e.buffer,e.byteOffset,64).toString(),r=Buffer.from(e.buffer,e.byteOffset+64);this.emit("binary_data",{sessionId:t,data:r})}}}addHeader(e,t){const r=new Uint8Array(e.length+1),n=new Uint8Array(1);return n[0]=t,r.set(n),r.set(e,n.length),r}send(e){var t;if(null!=(t=e)&&t.constructor==Object&&(e=JSON.stringify(e)),this.isConnected()){if(this.sentCounter>1){let t=0;"string"==typeof e&&(t=1);const r=1==t?de.util.decodeUTF8(e):e,n=this.addHeader(r,t),o=de.secretbox(n,Ye,this.sharedSecret);this.verbose&&(console.log("Sending encrypted data:"),console.log(e)),this.connection.websocket.send(o)}else this.verbose&&(console.log("Sending plain-text data:"),console.log(e)),this.connection.websocket.send(e);this.sentCounter+=1}else console.log(`Warning: "${e}" was not sent because the store is not yet connected to the backend`)}remoteObject(e){return{call:(t,r=[])=>{return this.rpcClient.remoteObject(e).call(t,void 0===(n=r)||null==n?[]:Array.isArray(n)?n:[n]);var n}}}registerRemoteObject(e,t){new He({serversideChannel:this,serverMethods:t,methodPrefix:e})}diffieHellman({clientPrivateKey:e,clientPublicKey:t,protocolLane:r}){return new Promise((t,n)=>{this.remoteObject("Auth").call("exchangePubkeys",{pubkey:this.clientPublicKeyHex}).then(o=>{const s=de.box.before(function(e){const t=e.match(/.{1,2}(?=(.{2})+(?!.))|.{1,2}$/g);return new Uint8Array(t.map(e=>parseInt(e,16)))}(o),e),i=xe(s);this.sharedSecret=s,this.remotePubkeyHex=o,t({sharedSecret:s,sharedSecretHex:i}),this.verbose&&(console.log("Established shared secret through diffie-hellman exchange:"),console.log(i)),this.remoteObject("Auth").call("finalizeHandshake",{protocolLane:r,expectHelloData:!!this.clientInitData}).then(()=>{this.clientInitData&&this.remoteObject("Hello").call("hello",this.clientInitData).catch(n)}).catch(n)}).catch(n)})}clientPubkey(){return this.clientPublicKeyHex}remotePubkey(){return this.remotePubkeyHex}remoteIp(){return this.address}close(){this.connection.websocket.close()}closeAndDontReopenUNUSED(){this.connection.closedManually=!0,this.connection.websocket.onclose=()=>{},this.connectStatus(!1),this.connection.websocket.close()}}const Fe="undefined"!=typeof window;function Je({connector:e,endpoint:t,protocol:r},{WebSocket:n,log:o,resumeNow:s}){const i=e.connection;!function(e){return e.websocket&&e.checkTicker>12&&1==e.websocket.readyState}(i)?(We(i)?i.websocket.send("ping"):!e.reconnectPaused&&(s||i.checkTicker<=30||i.checkTicker%3==0)&&(null==e.connected&&e.connectStatus(!1),Ve({connector:e,endpoint:t,protocol:r},{WebSocket:n,log:o})),i.checkTicker+=1):i.websocket.close()}function Ve({connector:e,endpoint:t,protocol:r},{WebSocket:n,log:o}){if(e.connection.closedManually)return;const s=e.connection,i=new n(t,r);Fe&&(i.binaryType="arraybuffer"),Fe||i.on("error",e=>{});const a=r=>{e.isConnected()?i.close():(o(`websocket conn to ${t} open`),s.checkTicker=0,function({ws:e,connector:t,openCallback:r},{log:n}){const o=t.connection,s=e=>{n(`websocket conn ${t.connection.endpoint} error`),n(e)},i=e=>{n(`websocket conn ${t.connection.endpoint} closed`),t.isConnected()&&t.connectStatus(!1)},a=e=>{o.checkTicker=0;const r=Fe?e.data:e;if("pong"==r)return;let n;try{n=JSON.parse(r)}catch(e){}n?t.wireReceive({jsonData:n,rawMessage:r}):Fe?t.wireReceive({encryptedData:new Uint8Array(r)}):t.wireReceive({encryptedData:r})};Fe?(e.addEventListener("error",s),e.addEventListener("close",i),e.addEventListener("message",a)):(e.on("error",s),e.on("close",i),e.on("message",a));const c=()=>{We(o)?setTimeout(c,1e3):e.close()};setTimeout(c,1e3)}({ws:i,connector:e,openCallback:a},{log:o}),s.websocket=i,e.connectStatus(!0))};Fe?i.addEventListener("open",a):i.on("open",a)}function We(e){return e.websocket&&1==e.websocket.readyState}function Ge(e){return new Promise(t=>{t(function({obj:e,address:t,port:r,protocol:n,protocolLane:o,clientPrivateKey:s,clientPublicKey:i,clientInitData:a,remotePubkey:c,resumeNow:l,verbose:u},{WebSocket:h,log:f}){const p=`ws://${t}:${r}`,d=e||new ze({address:t,protocolLane:o,clientPrivateKey:s,clientPublicKey:i,clientInitData:a,verbose:u});if(l)return Je({connector:d,endpoint:p,protocol:n},{WebSocket:h,log:f,resumeNow:l}),d;if(d.connection)return d;d.connection={},d.connection.endpoint=p,setTimeout(()=>Ve({connector:d,endpoint:p,protocol:n},{WebSocket:h,log:f}),10),d.connection.checkTicker=0;const y=()=>{d.connection.closedManually||(Je({connector:d,endpoint:p,protocol:n},{WebSocket:h,log:f}),setTimeout(y,1e3))};return setTimeout(y,1e3),d}(e,{WebSocket:WebSocket,log:Ae}))})}de.util=ye,de.util=ye,de.util=ye;const{applyPatch:Ze}=ce;class Qe extends j{constructor({ip:e=null,port:t,protocol:r,protocolLane:n,session:o,logStore:s,rpcObjectsSetup:i,verbose:a}={}){super(),this.protocol=r,this.protocolLane=n,this.session=o,this.logStore=s,this.verbose=a,this.set({ip:e||window.location.hostname});const c=i?i({store:this}):{};this.connect(this.ip,t,c)}remoteObject(e){return this.connector.remoteObject(e)}connect(e,t,r){const n=this.session.privateKey,o=this.session.publicKey;Ge({address:e,port:t,protocol:this.protocol,protocolLane:this.protocolLane,clientPrivateKey:n,clientPublicKey:o,verbose:this.verbose}).then(e=>{this.connector=e;for(const[t,n]of Object.entries(r))e.registerRemoteObject(t,n);e.on("wire_receive",({jsonData:e})=>{e.state&&(this.wireStateReceived=!0,this.verbose&&(console.log(`New store ${this.ip} / ${this.protocol} / ${this.protocolLane} state:`),console.log(e.state)),this.set(e.state)),e.diff&&this.wireStateReceived&&(Ze(this.state,e.diff),this.pushStateToSubscribers())}),e.on("connected",({sharedSecret:e,sharedSecretHex:t})=>{this.set({connected:!0}),this.session.set({sharedSecret:e,sharedSecretHex:t})}),e.on("disconnected",()=>{this.set({connected:!1})})})}}var Xe={SimpleStore:j,ConnectedStore:Qe,MultiConnectedStore:class extends j{constructor({port:e,protocol:t,protocolLane:r,session:n,initialIp:o}){super(),this.session=n,this.activeStoreId=0,this.currentIp=window.location.hostname,this.port=e,this.protocol=t,this.protocolLane=r,this.stores=[],this.switch({ip:this.currentIp}),o&&this.switch({ip:o})}remoteObject(e){return this.activeStore.remoteObject(e)}switch({deviceId:e,ip:t}){let r;if(this.stores.forEach((e,n)=>{e.ip==t&&(r=e)}),this.currentIp=t,!r){const e=new Qe({ip:t,port:this.port,protocol:this.protocol,protocolLane:this.protocolLane,session:this.session});r=e,e.subscribe(e=>{e.ip==this.currentIp&&this.set(e)}),this.stores.push(e)}this.set(r.state),this.activeStore=r}},ParallelStore:class extends j{constructor({session:e,port:t,protocol:r,addressList:n}){super(),this.stores=[];for(const{ip:o}of n)this.addStore({ip:o,port:t,protocol:r,session:e})}addStore({ip:e,port:t,protocol:r,session:n}){let o;if(this.stores.forEach((t,r)=>{t.ip==e&&(o=t)}),this.currentIp=e,!o){const s=new Qe({ip:e,port:t,protocol:r,session:n});o=s,s.subscribe(e=>{e.ip==this.currentIp&&this.set(e)}),this.stores.push(s)}this.set(o.state)}},SessionStore:class extends j{constructor({verbose:e=!1}={}){super(),this.verbose=e,this.constructOurKeypair()}constructOurKeypair(){const e=function(){const e=de.box.keyPair(),t=xe(e.publicKey),r=xe(e.secretKey);return{privateKey:e.secretKey,publicKey:e.publicKey,privateKeyHex:r,publicKeyHex:t}}();this.set(e),this.verbose&&(console.log("Constructed new client keypair:"),console.log("Private key: "+e.privateKeyHex),console.log("Public key: "+e.publicKeyHex))}},LogStore:class extends j{constructor(){super(),this.set({log:[]})}addToLog({origConsoleLog:e,limit:t},...r){1==r.length&&(r=r[0]);let{log:n}=this.get();if("string"==typeof r)n.push(r);else try{n.push(""+JSON.stringify(r))}catch(e){n.push(r)}n=n.slice(-t),this.set({log:n}),this.emit("new_log_entry")}}};function et(){}function tt(e){return e()}function rt(){return Object.create(null)}function nt(e){e.forEach(tt)}function ot(e){return"function"==typeof e}function st(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function it(e,...t){if(null==e)return et;const r=e.subscribe(...t);return r.unsubscribe?()=>r.unsubscribe():r}function at(e,t){e.appendChild(t)}function ct(e,t,r){e.insertBefore(t,r||null)}function lt(e){e.parentNode.removeChild(e)}function ut(e){return document.createElement(e)}function ht(e){return document.createTextNode(e)}function ft(){return ht(" ")}function pt(e,t,r,n){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r,n)}function dt(e,t,r){null==r?e.removeAttribute(t):e.getAttribute(t)!==r&&e.setAttribute(t,r)}function yt(e,t){t=""+t,e.data!==t&&(e.data=t)}function vt(e,t,r){e.classList[r?"add":"remove"](t)}let gt;function mt(e){gt=e}const bt=[],wt=[],_t=[],At=[],xt=Promise.resolve();let kt=!1;function Ot(e){_t.push(e)}let Et=!1;const St=new Set;function Tt(){if(!Et){Et=!0;do{for(let e=0;e<bt.length;e+=1){const t=bt[e];mt(t),Pt(t.$$)}for(bt.length=0;wt.length;)wt.pop()();for(let e=0;e<_t.length;e+=1){const t=_t[e];St.has(t)||(St.add(t),t())}_t.length=0}while(bt.length);for(;At.length;)At.pop()();kt=!1,Et=!1,St.clear()}}function Pt(e){if(null!==e.fragment){e.update(),nt(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(Ot)}}const Ct=new Set;function Rt(e,t){e&&e.i&&(Ct.delete(e),e.i(t))}function Mt(e,t,r){const{fragment:n,on_mount:o,on_destroy:s,after_update:i}=e.$$;n&&n.m(t,r),Ot(()=>{const t=o.map(tt).filter(ot);s?s.push(...t):nt(t),e.$$.on_mount=[]}),i.forEach(Ot)}function jt(e,t){const r=e.$$;null!==r.fragment&&(nt(r.on_destroy),r.fragment&&r.fragment.d(t),r.on_destroy=r.fragment=null,r.ctx=[])}function Ut(e,t){-1===e.$$.dirty[0]&&(bt.push(e),kt||(kt=!0,xt.then(Tt)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function $t(e,t,r,n,o,s,i=[-1]){const a=gt;mt(e);const c=t.props||{},l=e.$$={fragment:null,ctx:null,props:s,update:et,not_equal:o,bound:rt(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(a?a.$$.context:[]),callbacks:rt(),dirty:i};let u=!1;if(l.ctx=r?r(e,c,(t,r,...n)=>{const s=n.length?n[0]:r;return l.ctx&&o(l.ctx[t],l.ctx[t]=s)&&(l.bound[t]&&l.bound[t](s),u&&Ut(e,t)),r}):[],l.update(),u=!0,nt(l.before_update),l.fragment=!!n&&n(l.ctx),t.target){if(t.hydrate){const e=function(e){return Array.from(e.childNodes)}(t.target);l.fragment&&l.fragment.l(e),e.forEach(lt)}else l.fragment&&l.fragment.c();t.intro&&Rt(e.$$.fragment),Mt(e,t.target,t.anchor),Tt()}mt(a)}class It{$destroy(){jt(this,1),this.$destroy=et}$on(e,t){const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(t),()=>{const e=r.indexOf(t);-1!==e&&r.splice(e,1)}}$set(){}}function Lt(e){let t;return{c(){t=ut("div"),t.innerHTML='<a href="/apps"><img src="/img/icons/home.png" class="svelte-1r6htor"></a>',dt(t,"class","escape svelte-1r6htor")},m(e,r){ct(e,t,r)},p:et,i:et,o:et,d(e){e&&lt(t)}}}class Nt extends It{constructor(e){super(),$t(this,e,null,Lt,st,{})}}function Dt(e,t,r){const n=e.slice();return n[29]=t[r],n}function Bt(e){let t,r,n,o,s,i=e[4].deviceName+"",a=e[5]&&Kt(e),c=e[6]&&Jt(e);return{c(){t=ut("h2"),r=ht(i),n=ft(),a&&a.c(),o=ft(),c&&c.c(),s=ht("")},m(e,i){ct(e,t,i),at(t,r),ct(e,n,i),a&&a.m(e,i),ct(e,o,i),c&&c.m(e,i),ct(e,s,i)},p(e,t){16&t[0]&&i!==(i=e[4].deviceName+"")&&yt(r,i),e[5]?a?a.p(e,t):(a=Kt(e),a.c(),a.m(o.parentNode,o)):a&&(a.d(1),a=null),e[6]?c?c.p(e,t):(c=Jt(e),c.c(),c.m(s.parentNode,s)):c&&(c.d(1),c=null)},d(e){e&&lt(t),e&&lt(n),a&&a.d(e),e&&lt(o),c&&c.d(e),e&&lt(s)}}}function Kt(e){let t,r,n,o,s,i,a,c,l,u,h,f,p,d,y,v,g,m,b,w,_,A,x,k,O,E,S,T,P=e[5].volume+"",C=(e[5].limit||"")+"",R=(e[5].repeatCount||"")+"";function M(e,t){return e[5].currentMedia&&e[5].currentMedia.song&&!e[5].paused?Ht:qt}let j=M(e),U=j(e);function $(e,t){return e[5].paused?zt:Yt}let I=$(e),L=I(e),N=e[5].limit>0&&Ft(e);return{c(){t=ut("div"),U.c(),r=ft(),n=ut("p"),o=ht("Volume: "),s=ht(P),i=ft(),a=ut("div"),L.c(),c=ft(),l=ut("button"),l.textContent="Vol â†“",u=ft(),h=ut("button"),h.textContent="Vol â†‘",f=ft(),p=ut("button"),p.textContent="More",d=ft(),y=ut("div"),v=ut("button"),g=ht("Limit "),m=ht(C),b=ft(),N&&N.c(),w=ft(),_=ut("button"),_.textContent="â†’ Next",A=ft(),x=ut("button"),x.textContent="Shuffle",k=ft(),O=ut("button"),E=ht("Repeat "),S=ht(R),dt(n,"class","svelte-127pkv3"),dt(t,"class","player_media section svelte-127pkv3"),dt(l,"class","volume svelte-127pkv3"),dt(h,"class","volume svelte-127pkv3"),dt(p,"class","more svelte-127pkv3"),vt(p,"bold",e[2]),dt(a,"class","player_controls section svelte-127pkv3"),dt(v,"class","limit svelte-127pkv3"),dt(_,"class","next svelte-127pkv3"),dt(x,"class","shuffle svelte-127pkv3"),dt(O,"class","repeat svelte-127pkv3"),dt(y,"class","player_more section svelte-127pkv3"),vt(y,"visible",e[2])},m(P,C,R){ct(P,t,C),U.m(t,null),at(t,r),at(t,n),at(n,o),at(n,s),ct(P,i,C),ct(P,a,C),L.m(a,null),at(a,c),at(a,l),at(a,u),at(a,h),at(a,f),at(a,p),ct(P,d,C),ct(P,y,C),at(y,v),at(v,g),at(v,m),at(y,b),N&&N.m(y,null),at(y,w),at(y,_),at(y,A),at(y,x),at(y,k),at(y,O),at(O,E),at(O,S),R&&nt(T),T=[pt(l,"click",e[20]),pt(h,"click",e[21]),pt(p,"click",e[22]),pt(v,"click",e[23]),pt(_,"click",e[25]),pt(x,"click",e[26]),pt(O,"click",e[27])]},p(e,n){j===(j=M(e))&&U?U.p(e,n):(U.d(1),U=j(e),U&&(U.c(),U.m(t,r))),32&n[0]&&P!==(P=e[5].volume+"")&&yt(s,P),I===(I=$(e))&&L?L.p(e,n):(L.d(1),L=I(e),L&&(L.c(),L.m(a,c))),4&n[0]&&vt(p,"bold",e[2]),32&n[0]&&C!==(C=(e[5].limit||"")+"")&&yt(m,C),e[5].limit>0?N?N.p(e,n):(N=Ft(e),N.c(),N.m(y,w)):N&&(N.d(1),N=null),32&n[0]&&R!==(R=(e[5].repeatCount||"")+"")&&yt(S,R),4&n[0]&&vt(y,"visible",e[2])},d(e){e&&lt(t),U.d(),e&&lt(i),e&&lt(a),L.d(),e&&lt(d),e&&lt(y),N&&N.d(),nt(T)}}}function qt(e){let t;return{c(){t=ut("p"),t.innerHTML="<b>Currently not playing</b>",dt(t,"class","svelte-127pkv3")},m(e,r){ct(e,t,r)},p:et,d(e){e&&lt(t)}}}function Ht(e){let t,r,n,o,s="music"==e[5].currentMedia.mediaType?"â™«":"â–¶",i=(e[5].currentMedia.artist?`${e[5].currentMedia.artist} - ${e[5].currentMedia.song}`:e[5].currentMedia.song)+"";return{c(){t=ut("p"),r=ht(s),n=ft(),o=ht(i),dt(t,"class","current_media svelte-127pkv3")},m(e,s){ct(e,t,s),at(t,r),at(t,n),at(t,o)},p(e,t){32&t[0]&&s!==(s="music"==e[5].currentMedia.mediaType?"â™«":"â–¶")&&yt(r,s),32&t[0]&&i!==(i=(e[5].currentMedia.artist?`${e[5].currentMedia.artist} - ${e[5].currentMedia.song}`:e[5].currentMedia.song)+"")&&yt(o,i)},d(e){e&&lt(t)}}}function Yt(e){let t,r;return{c(){t=ut("button"),t.textContent="â— Pause",dt(t,"class","pause svelte-127pkv3")},m(n,o,s){ct(n,t,o),s&&r(),r=pt(t,"click",e[19])},p:et,d(e){e&&lt(t),r()}}}function zt(e){let t,r;return{c(){t=ut("button"),t.textContent="â–¶ Play",dt(t,"class","play svelte-127pkv3")},m(n,o,s){ct(n,t,o),s&&r(),r=pt(t,"click",e[18])},p:et,d(e){e&&lt(t),r()}}}function Ft(e){let t,r;return{c(){t=ut("button"),t.textContent="Remove",dt(t,"class","remove_limit svelte-127pkv3")},m(n,o,s){ct(n,t,o),s&&r(),r=pt(t,"click",e[24])},p:et,d(e){e&&lt(t),r()}}}function Jt(e){let t,r=e[6].filter(e[28]),n=[];for(let t=0;t<r.length;t+=1)n[t]=Gt(Dt(e,r,t));return{c(){t=ut("div");for(let e=0;e<n.length;e+=1)n[e].c();dt(t,"class","nearby_devices section svelte-127pkv3")},m(e,r){ct(e,t,r);for(let e=0;e<n.length;e+=1)n[e].m(t,null)},p(e,o){if(1472&o[0]){let s;for(r=e[6].filter(e[28]),s=0;s<r.length;s+=1){const i=Dt(e,r,s);n[s]?n[s].p(i,o):(n[s]=Gt(i),n[s].c(),n[s].m(t,null))}for(;s<n.length;s+=1)n[s].d(1);n.length=r.length}},d(e){e&&lt(t),function(e,t){for(let r=0;r<e.length;r+=1)e[r]&&e[r].d(t)}(n,e)}}}function Vt(e){let t;return{c(){t=ut("span"),t.textContent="!",dt(t,"class","error svelte-127pkv3")},m(e,r){ct(e,t,r)},d(e){e&&lt(t)}}}function Wt(e){let t,r="music"==e[29].mediaType?"â™«":"â–¶";return{c(){t=ht(r)},m(e,r){ct(e,t,r)},p(e,n){64&n[0]&&r!==(r="music"==e[29].mediaType?"â™«":"â–¶")&&yt(t,r)},d(e){e&&lt(t)}}}function Gt(e){let t,r,n,o,s,i,a=e[29].deviceId+"",c=e[29].hasErrors&&Vt(),l=e[29].playing&&Wt(e);return{c(){t=ut("button"),c&&c.c(),r=ft(),l&&l.c(),n=ft(),o=ht(a),s=ft(),dt(t,"class","svelte-127pkv3"),vt(t,"active",e[29].deviceId==e[7])},m(a,u,h){ct(a,t,u),c&&c.m(t,null),at(t,r),l&&l.m(t,null),at(t,n),at(t,o),at(t,s),h&&i(),i=pt(t,"click",(function(){ot(e[10](e[29]))&&e[10](e[29]).apply(this,arguments)}))},p(s,i){(e=s)[29].hasErrors?c||(c=Vt(),c.c(),c.m(t,r)):c&&(c.d(1),c=null),e[29].playing?l?l.p(e,i):(l=Wt(e),l.c(),l.m(t,n)):l&&(l.d(1),l=null),64&i[0]&&a!==(a=e[29].deviceId+"")&&yt(o,a),448&i[0]&&vt(t,"active",e[29].deviceId==e[7])},d(e){e&&lt(t),c&&c.d(),l&&l.d(),i()}}}function Zt(e){let t,r,n,o,s,i,a=e[3]?"":"Disconnected âœ–";const c=new Nt({});let l=e[3]&&e[4]&&Bt(e);return{c(){var e;t=ut("main"),(e=c.$$.fragment)&&e.c(),r=ft(),n=ut("p"),o=ht(a),s=ft(),l&&l.c(),dt(n,"class","svelte-127pkv3"),dt(t,"class","svelte-127pkv3")},m(e,a){ct(e,t,a),Mt(c,t,null),at(t,r),at(t,n),at(n,o),at(t,s),l&&l.m(t,null),i=!0},p(e,r){(!i||8&r[0])&&a!==(a=e[3]?"":"Disconnected âœ–")&&yt(o,a),e[3]&&e[4]?l?l.p(e,r):(l=Bt(e),l.c(),l.m(t,null)):l&&(l.d(1),l=null)},i(e){i||(Rt(c.$$.fragment,e),i=!0)},o(e){!function(e,t,r,n){if(e&&e.o){if(Ct.has(e))return;Ct.add(e),(void 0).c.push(()=>{Ct.delete(e),n&&(r&&e.d(1),n())}),e.o(t)}}(c.$$.fragment,e),i=!1},d(e){e&&lt(t),jt(c),l&&l.d()}}}function Qt(e,t,r){let n,o,s=et,i=()=>(s(),s=it(l,e=>r(12,n=e)),l),a=et,c=()=>(a(),a=it(u,e=>r(14,o=e)),u);e.$$.on_destroy.push(()=>s()),e.$$.on_destroy.push(()=>a());let{store:l}=t;i();let{session:u}=t;c();const h=["kitchen","midroom","outside","living-room","tv","dpanel","lab"];function f(e,t){console.log("Action: "+e),l.remoteObject("gui").call("action",{action:e,storeName:"player",payload:t}).catch(console.log)}let p=!1;function d(){r(2,p=!p)}let y,v,g,m,b,w,_;return e.$set=e=>{"store"in e&&i(r(0,l=e.store)),"session"in e&&c(r(1,u=e.session))},e.$$.update=()=>{4096&e.$$.dirty[0]&&r(3,y=n.connected),4096&e.$$.dirty[0]&&r(4,v=n.controller),4096&e.$$.dirty[0]&&r(5,g=n.player),4096&e.$$.dirty[0]&&r(6,m=n.nearbyDevices?Object.values(n.nearbyDevices).filter(e=>e.hasGui).sort(S.compareValues("deviceId")):[]),16384&e.$$.dirty[0]&&(b=o.publicKeyHex),16384&e.$$.dirty[0]&&(w=o.sharedSecretHex),16&e.$$.dirty[0]&&r(7,_=v?v.deviceName:null)},[l,u,p,y,v,g,m,_,h,f,function(e){localStorage.setItem("current_device_ip",e.ip),l.switch(e)},d,n,b,o,w,void 0,function(){console.log(void 0)},()=>f("play"),()=>f("pause"),()=>f("volume_down"),()=>f("volume_up"),()=>d(),()=>f("limit"),()=>f("remove_limit"),()=>f("next"),()=>f("shuffle"),()=>f("repeat"),e=>"192.168.0.60"!=window.location.hostname||h.includes(e.deviceId)]}const{SessionStore:Xt,MultiConnectedStore:er}=Xe,tr=localStorage.getItem("current_device_ip"),rr=new Xt,nr=new er({session:rr,port:7780,protocol:"dmt",protocolLane:"gui",initialIp:tr});return new class extends It{constructor(e){super(),$t(this,e,Qt,Zt,st,{store:0,session:1},[-1,-1])}}({target:document.body,props:{store:nr,session:rr}})}(crypto);
//# sourceMappingURL=bundle.js.map
